!function(e){function t(t){for(var i,o,s=t[0],c=t[1],l=t[2],h=0,d=[];h<s.length;h++)o=s[h],Object.prototype.hasOwnProperty.call(r,o)&&r[o]&&d.push(r[o][0]),r[o]=0;for(i in c)Object.prototype.hasOwnProperty.call(c,i)&&(e[i]=c[i]);for(u&&u(t);d.length;)d.shift()();return a.push.apply(a,l||[]),n()}function n(){for(var e,t=0;t<a.length;t++){for(var n=a[t],i=!0,s=1;s<n.length;s++){var c=n[s];0!==r[c]&&(i=!1)}i&&(a.splice(t--,1),e=o(o.s=n[0]))}return e}var i={},r={0:0},a=[];function o(t){if(i[t])return i[t].exports;var n=i[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,o),n.l=!0,n.exports}o.m=e,o.c=i,o.d=function(e,t,n){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},o.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)o.d(n,i,function(t){return e[t]}.bind(null,i));return n},o.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="";var s=window.webpackJsonp=window.webpackJsonp||[],c=s.push.bind(s);s.push=t,s=s.slice();for(var l=0;l<s.length;l++)t(s[l]);var u=c;a.push([518,1]),n()}({323:function(e,t,n){e.exports=n.p+"images/836706f2ad13ef069a95ec7b93f73ca4.png"},324:function(e,t,n){e.exports=n.p+"images/a3ed7eb9ad1daeae29a49b505c4f826f.png"},328:function(e,t,n){e.exports=n.p+"images/a12ffdbfcb1b36538c06aeb1c43dee10.png"},329:function(e,t,n){e.exports=n.p+"images/daf398fbed3618279364812637083109.png"},330:function(e,t,n){e.exports=n.p+"images/b398b57e6eb057228856ec0b67f4c697.png"},384:function(e,t){},388:function(e,t,n){var i={"./af":125,"./af.js":125,"./ar":126,"./ar-dz":127,"./ar-dz.js":127,"./ar-kw":128,"./ar-kw.js":128,"./ar-ly":129,"./ar-ly.js":129,"./ar-ma":130,"./ar-ma.js":130,"./ar-sa":131,"./ar-sa.js":131,"./ar-tn":132,"./ar-tn.js":132,"./ar.js":126,"./az":133,"./az.js":133,"./be":134,"./be.js":134,"./bg":135,"./bg.js":135,"./bm":136,"./bm.js":136,"./bn":137,"./bn.js":137,"./bo":138,"./bo.js":138,"./br":139,"./br.js":139,"./bs":140,"./bs.js":140,"./ca":141,"./ca.js":141,"./cs":142,"./cs.js":142,"./cv":143,"./cv.js":143,"./cy":144,"./cy.js":144,"./da":145,"./da.js":145,"./de":146,"./de-at":147,"./de-at.js":147,"./de-ch":148,"./de-ch.js":148,"./de.js":146,"./dv":149,"./dv.js":149,"./el":150,"./el.js":150,"./en-au":151,"./en-au.js":151,"./en-ca":152,"./en-ca.js":152,"./en-gb":153,"./en-gb.js":153,"./en-ie":154,"./en-ie.js":154,"./en-il":155,"./en-il.js":155,"./en-in":156,"./en-in.js":156,"./en-nz":157,"./en-nz.js":157,"./en-sg":158,"./en-sg.js":158,"./eo":159,"./eo.js":159,"./es":160,"./es-do":161,"./es-do.js":161,"./es-us":162,"./es-us.js":162,"./es.js":160,"./et":163,"./et.js":163,"./eu":164,"./eu.js":164,"./fa":165,"./fa.js":165,"./fi":166,"./fi.js":166,"./fil":167,"./fil.js":167,"./fo":168,"./fo.js":168,"./fr":169,"./fr-ca":170,"./fr-ca.js":170,"./fr-ch":171,"./fr-ch.js":171,"./fr.js":169,"./fy":172,"./fy.js":172,"./ga":173,"./ga.js":173,"./gd":174,"./gd.js":174,"./gl":175,"./gl.js":175,"./gom-deva":176,"./gom-deva.js":176,"./gom-latn":177,"./gom-latn.js":177,"./gu":178,"./gu.js":178,"./he":179,"./he.js":179,"./hi":180,"./hi.js":180,"./hr":181,"./hr.js":181,"./hu":182,"./hu.js":182,"./hy-am":183,"./hy-am.js":183,"./id":184,"./id.js":184,"./is":185,"./is.js":185,"./it":186,"./it-ch":187,"./it-ch.js":187,"./it.js":186,"./ja":188,"./ja.js":188,"./jv":189,"./jv.js":189,"./ka":190,"./ka.js":190,"./kk":191,"./kk.js":191,"./km":192,"./km.js":192,"./kn":193,"./kn.js":193,"./ko":194,"./ko.js":194,"./ku":195,"./ku.js":195,"./ky":196,"./ky.js":196,"./lb":197,"./lb.js":197,"./lo":198,"./lo.js":198,"./lt":199,"./lt.js":199,"./lv":200,"./lv.js":200,"./me":201,"./me.js":201,"./mi":202,"./mi.js":202,"./mk":203,"./mk.js":203,"./ml":204,"./ml.js":204,"./mn":205,"./mn.js":205,"./mr":206,"./mr.js":206,"./ms":207,"./ms-my":208,"./ms-my.js":208,"./ms.js":207,"./mt":209,"./mt.js":209,"./my":210,"./my.js":210,"./nb":211,"./nb.js":211,"./ne":212,"./ne.js":212,"./nl":213,"./nl-be":214,"./nl-be.js":214,"./nl.js":213,"./nn":215,"./nn.js":215,"./oc-lnc":216,"./oc-lnc.js":216,"./pa-in":217,"./pa-in.js":217,"./pl":218,"./pl.js":218,"./pt":219,"./pt-br":220,"./pt-br.js":220,"./pt.js":219,"./ro":221,"./ro.js":221,"./ru":222,"./ru.js":222,"./sd":223,"./sd.js":223,"./se":224,"./se.js":224,"./si":225,"./si.js":225,"./sk":226,"./sk.js":226,"./sl":227,"./sl.js":227,"./sq":228,"./sq.js":228,"./sr":229,"./sr-cyrl":230,"./sr-cyrl.js":230,"./sr.js":229,"./ss":231,"./ss.js":231,"./sv":232,"./sv.js":232,"./sw":233,"./sw.js":233,"./ta":234,"./ta.js":234,"./te":235,"./te.js":235,"./tet":236,"./tet.js":236,"./tg":237,"./tg.js":237,"./th":238,"./th.js":238,"./tl-ph":239,"./tl-ph.js":239,"./tlh":240,"./tlh.js":240,"./tr":241,"./tr.js":241,"./tzl":242,"./tzl.js":242,"./tzm":243,"./tzm-latn":244,"./tzm-latn.js":244,"./tzm.js":243,"./ug-cn":245,"./ug-cn.js":245,"./uk":246,"./uk.js":246,"./ur":247,"./ur.js":247,"./uz":248,"./uz-latn":249,"./uz-latn.js":249,"./uz.js":248,"./vi":250,"./vi.js":250,"./x-pseudo":251,"./x-pseudo.js":251,"./yo":252,"./yo.js":252,"./zh-cn":253,"./zh-cn.js":253,"./zh-hk":254,"./zh-hk.js":254,"./zh-mo":255,"./zh-mo.js":255,"./zh-tw":256,"./zh-tw.js":256};function r(e){var t=a(e);return n(t)}function a(e){if(!n.o(i,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return i[e]}r.keys=function(){return Object.keys(i)},r.resolve=a,e.exports=r,r.id=388},518:function(e,t,i){"use strict";i.r(t);var r=i(15),a=i.n(r),o=i(14),s=i.n(o),c=i(64),l=i.n(c),u=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];var r=0;return e.replace(/%s%|%s|%d%|%d|{[^}]*}/g,(function(){return n[r++]}))},h=function(e){if(!window.tJSON)return e;var t=s()(window.tJSON,e);if(t){for(var n=arguments.length,i=new Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];if(1===i.length&&l()(i[0])){var a=i[0];return Object.keys(a).forEach((function(e){t=t.replace("{".concat(e,"}"),a[e])})),t}return i.length>0?u.apply(void 0,[t].concat(i)):t}return e},d=function(e){return window.settings?s()(window.settings,e):null},f=function(e){var t=1==e?0:1;["ru","ua"].indexOf(d("lang"))>=0&&(t=e%10==1&&e%100!=11?0:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?1:2);for(var n=arguments.length,i=new Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];return i[t]?i[t]:i[i.length-1]};function p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function m(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var y={ADX:"adx",ALLIGATOR:"all",AROON:"aro",AWESOME_OSCILLATOR:"ao",VOLUME_OSCILLATOR:"vo",WEIS_WAVE_VOLUME_OSCILLATOR:"wwv",BEARS_POWER:"bep",BOLLINGER_BANDS:"bb",BULLS_POWER:"bup",CCI:"cci",DEMARKER:"dem",ENVELOPE:"env",FRACTAL:"fra",ICHIMOKU_CLOUD:"icc",KELTNER_CHANNEL:"kch",DONCHIAN_CHANNEL:"dch",ATR:"atr",SCHAFF_TREND_CYCLE:"stc",SUPERTREND:"sup",MACD:"macd",MOMENTUM:"mom",MOVING_AVERAGE:"ma",PARABOLIC_SAR:"sar",RSI:"rsi",RATE_OF_CHANGE:"roc",STOCHASTIC_OSCILLATOR:"so",VORTEX:"vor",WILLIAMS_R:"will",ZIG_ZAG:"zz"},g=60,v=5,b=14400,E=[{server:"wss://"+(-1!==window.location.href.indexOf("quotex.io.test")?"ws2.quotex.com":-1!==window.location.href.indexOf("quotex.io")?"ws2.quotex.io":-1!==window.location.href.indexOf("quotex.market")?"ws2.quotex.market":-1!==window.location.href.indexOf("qxbroker.com")?"ws2.qxbroker.com":-1!==window.location.href.indexOf("qtxbrk.com")?"ws.qtxbrk.com":-1!==window.location.href.indexOf("quotex-ir.com")?"ws2.quotex-ir.com":-1!==window.location.href.indexOf("qx-iran.com")?"ws2.qx-iran.com":-1!==window.location.href.indexOf("qtx-iran.com")?"ws2.qtx-iran.com":-1!==window.location.href.indexOf("quotex-trade.io")?"ws2.quotex-trade.io":-1!==window.location.href.indexOf("qtx-trade.net")?"ws2.qtx-trade.net":-1!==window.location.href.indexOf("quotex-market.net")?"ws2.quotex-market.net":-1!==window.location.href.indexOf("market-qtx.com")?"ws2.market-qtx.com":-1!==window.location.href.indexOf("market-qtx.net")?"ws2.market-qtx.net":-1!==window.location.href.indexOf("broker-qx.com")?"ws2.broker-qx.com":-1!==window.location.href.indexOf("broker-qx.net")?"ws2.broker-qx.net":-1!==window.location.href.indexOf("broker-qx.pro")?"ws2.broker-qx.pro":-1!==window.location.href.indexOf("broker-qx.info")?"ws2.broker-qx.info":-1!==window.location.href.indexOf("market-qx.com")?"ws2.market-qx.com":-1!==window.location.href.indexOf("market-qx.net")?"ws2.market-qx.net":-1!==window.location.href.indexOf("market-quotex.com")?"ws2.market-quotex.com":-1!==window.location.href.indexOf("market-quotex.net")?"ws2.market-quotex.net":"ws2.quotex.com"),name:"Germany"}],A={};E.forEach((function(e){A[e.server]=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p(Object(n),!0).forEach((function(t){m(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e)}));var w={CANCEL_PERCENT_LIST:[{timeFrame:60,value:1},{timeFrame:120,value:1},{timeFrame:180,value:1},{timeFrame:300,value:1},{timeFrame:600,value:2},{timeFrame:900,value:2},{timeFrame:1800,value:2},{timeFrame:2700,value:2},{timeFrame:3600,value:2},{timeFrame:7200,value:2},{timeFrame:10800,value:2},{timeFrame:14400,value:2}],CANCEL_PERCENT_DIFF:30,CANCEL_HIDE_BTN_TIME:20,PURCHASE_TIME:30,EXPIRATION_STEP:60,CONNECT_TIMEOUT:3e3,API_LIST:A,STORAGE:{PREFIX:"OD",COOKIES:{OPTIONS:{path:"/",expires:new Date((new Date).setDate((new Date).getDate()+30)),domain:"."+window.location.hostname}}},ASSETS:{},MAX_BID_AMOUNT:1e4,arrowDownIndex:1,arrowUpIndex:0,CHART:{EMPTY_1_PX:"/trade-room/images/px1.png",BET_ELEMENT_CLOSED_TIMEOUT:5,CROSS_B_BG_SIDE_PADDING:6,SORT_OFFSET:15,AREA_OFFSET:900,AREA_COUNT_W:30,MAX_SHIFT_VALUE:-3e3,INT_MAX:Number.MAX_SAFE_INTEGER,INT_MIN:Number.MIN_SAFE_INTEGER,FLT_MAX:Number.MAX_VALUE,FLT_MIN:Number.MIN_VALUE,S_DEAL_LABEL_BOLD:{fontWeight:600,textBaseline:"alphabet",fontFamily:"Roboto",fontSize:10},S_DEAL_BOLD:{fontWeight:600,textBaseline:"alphabet",fontFamily:"Roboto",fontSize:14},S_CANDLES:{fill:"#C2C4CA",fontFamily:"Roboto",fontSize:11,textBaseline:"alphabet"},S_PROFIT:{fill:"#fff",fontFamily:"Roboto",fontSize:10,textBaseline:"alphabet"},S_CURSOR:{fill:"#353A4D",fontFamily:"Roboto",fontSize:11,textBaseline:"alphabet"},S_NOTIFICATION:{fill:"#ffffff",fontFamily:"Roboto",fontSize:11,textBaseline:"alphabet"},S_VALUE:{fill:"#fff",fontFamily:"Roboto",fontSize:11,textBaseline:"alphabet"},S_GRID:{fontWeight:400,fill:"#fff",fontFamily:"Roboto",fontSize:12},S_EXPIRATION:{align:"right",fontFamily:"Roboto",fontSize:12,textBaseline:"alphabet"},S_DEAL:{fontFamily:"Roboto",fontSize:12,textBaseline:"alphabet"},S_DEAL_MIN:{fontFamily:"Roboto",fontSize:10,textBaseline:"alphabet"},S_DEAL_TIME:{fontFamily:"Roboto",fontSize:10,textBaseline:"alphabet"},S_INDICATORS_B:{fill:"#E8E8E8",align:"right",fontFamily:"Roboto",fontSize:12,textBaseline:"alphabet"},S_POPUP_TITLE:{fill:"#ffffff",fontFamily:"Roboto",fontSize:14,align:"center",textBaseline:"alphabet"},S_POPUP_BUTTON:{fill:"#ffffff",fontWeight:700,fontFamily:"Roboto",fontSize:12,align:"center",textBaseline:"alphabet"},S_TREND_ANGLE:{fill:"#353A4D",fontFamily:"Roboto",fontSize:13,textBaseline:"alphabet"},S_DATE_RANGE_BARS:{fill:"#ffffff",fontFamily:"Roboto",fontSize:12,textBaseline:"alphabet"},S_DRAWING_VALUE:{fontWeight:400,fill:"#353A4D",fontFamily:"Roboto",fontSize:10,textBaseline:"alphabet"},S_MINMAX_VALUE:{fill:"#fff",fontFamily:"Roboto",fontSize:10,textBaseline:"alphabet"},S_ROLLOVER_BADGE_TITLE:{fontFamily:"Roboto",fontWeight:600,fontSize:12,textBaseline:"alphabet",fill:"#474C5D"},S_ROLLOVER_BADGE_TIME:{fontFamily:"Roboto",fontSize:12,textBaseline:"alphabet",fill:"#474C5D"},MIN_MAX_MIN_DIFF:.5,CHART_T_PX:120,CHART_BOTTOM_PX:94,CHART_BOTTOM_PX_EXP:180,CHART_BOTTOM_PX_M:80,CHART_BOTTOM_PX_MINIMIZED:24,CHART_BOTTOM_V_PADDING:10,DBL_MIN:Number.MIN_VALUE,DBL_MAX:Number.MAX_VALUE,ACC_WEAKNESS:22,CHART_MARGIN_RIGHT_PERCENT:45,TIME_STEP_MARGIN_BOTTOM:0,TIME_STEP_H:20,TIME_STEP_H_OFFSET:10,TIME_STEP:15,TIME_STEP_W:50,CURSOR_VALUE_BG_V_MARGIN:4,CURSOR_VALUE_BG_H_MARGIN:7,SECOND_W:5,CHART_TOP_MARGIN_PX:130,CHART_TOP_MARGIN_PX_M:40,CHART_TOP_MARGIN:70,CHART_TOP_MARGIN_M:20,BAR_MAX_WIDTH_IN_PERCENTS_OF_SCREEN:2.5,MIN_WIDTH_MS:7,BOTTOM_PLOT_MARGIN_PIXELS_MOBILE:25,BOTTOM_PLOT_MARGIN_PIXELS:65,TOP_PLOT_MARGIN_PIXELS:100,TOP_PLOT_MARGIN_PIXELS_MOBILE:70,FIGURE:{LINE:"line",HISTOGRAM:"histogram"},HISTOGRAM_COLOR:{DEFAULT:"default",FROM_ZERO_LEVEL:"from-middle",POSITIVE_NEGATIVE:"positive-negative"},DRAWINGS:{HORIZONTAL_LINE:0,VERTICAL_LINE:1,RAY:2,FIBONACCI_RETRACEMENT:3,FIBONACCI_FAN:4,TREND_LINE:5,PARALLEL_CHANNEL:6,RECTANGLE:7,CROSS_LINE:8,TREND_ANGLE:9,DISJOINT_CHANNEL:10,TRIANGLE:11,EXTENDED_LINE:12,DATE_RANGE:13,PRICE_RANGE:14,DATE_PRICE_RANGE:15,PITCHFORK:16,FLAT_TOP_BOTTOM:17,ARC_LINE:18,CURVE_LINE:19,PITCHFAN:20,CYCLIC_LINES:21,GANN_BOX:22},DRAWINGS_SETTINGS:{COLOR_DEFAULT:{name:"GREEN",value:"#35CB01"},HEIGHT_LIST:[1,2,3,4,5],HEIGHT_DEFAULT:1,LIMIT:999},INDICATORS:{INDICATORS_LIST:y},ZOOM_PERCENT:.1,MOBILE_ZOOM:-4,CANDLE_COLOR:{up:"#0faf5a",down:"#db4635"}}},_="s_",O="st_",S="f_",C="connect",T="instruments/update",k="instruments/list",I="instruments/schedule",P="balance",N="balance/list",x="time",R="history/list/v2",D="history/load",M="history/load/v2",B="history/load/line",L="quotes/update",j="quotes/stream",F="orders/close",G="orders/open",V="orders/opened/list",H="orders/closed/list",U="orders/copy",W="orders/cancel",Y="settings/list",Q="s_authorization",X="drawing/create/2",z="drawing/delete",K="drawing/delete/all",J="depth/change",q="up",Z="down",$="ws/change",ee="indicator/store",te="indicator/change",ne="indicator/enable",ie="indicator/delete",re="indicator/list",ae="indicator/follow",oe="indicator/unfollow",se="signal/change",ce="signal/list",le="leader/position",ue="leader/update",he="leader/list",de="profit/today",fe="drawing/load",pe="chart_notification/create",me="chart_notification/delete",ye="chart_notification/activate",ge="chart_notification/get",ve="chart_notification/update",be="orders/rollover",Ee="orders/double",Ae="pending/create",we="pending/opened",_e="pending/cancel",Oe="pending/list",Se=[Oe,le,ue,he,pe,me,ye,ve,"".concat(_).concat(ge),H,se,ce,"".concat(_).concat(G),"".concat(S).concat(U),"".concat(_).concat(U),"".concat(S).concat(W),"".concat(_).concat(W),"".concat(_).concat(be),"".concat(S).concat(be),"".concat(_).concat(Ee),"".concat(S).concat(Ee),"".concat(_).concat(Ae),"".concat(S).concat(Ae),"".concat(_).concat(_e),"".concat(S).concat(_e),"".concat(_).concat(we),"".concat(S).concat(we),D,M,Y,"".concat(_).concat(z),"".concat(_).concat(X),"".concat(_).concat(F),"".concat(_).concat(ee),"".concat(_).concat(re),"".concat(_).concat(fe),"".concat(_).concat(de)],Ce=i(294),Te=i.n(Ce);function ke(){return Date.now()/(Math.random()+1)+Math.random()}function Ie(e,t){var n=e+Math.random()*(t-e);return n=Math.round(n)}var Pe=i(97),Ne=i.n(Pe),xe=i(295),Re=i.n(xe),De=function(){return Ne.a.start({apiKey:"1579cf0cb4e61b2a29ff94dbcb89605e",plugins:[new Re.a],appVersion:"1.0.0",consoleBreadcrumbsEnabled:!1}),Ne.a};function Me(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var Be=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,i;return t=e,i=[{key:"error",value:function(e){De().notify(e,{severity:"error"})}},{key:"debug",value:function(e){De().notify(e,{severity:"info"})}}],(n=null)&&Me(t.prototype,n),i&&Me(t,i),e}(),Le=function(e,t){t="function"==typeof t?t:function(){};try{t(null,JSON.parse(e))}catch(n){Be.error("".concat(n,": ").concat(e)),t(n.message,null)}};function je(e){var t;return Le(function(e){for(var t,n,i,r=new Uint8Array(e),a="",o=r.length,s=0;s<o;)switch((t=r[s++])>>4){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:a+=String.fromCharCode(t);break;case 12:case 13:n=r[s++],a+=String.fromCharCode((31&t)<<6|63&n);break;case 14:n=r[s++],i=r[s++],a+=String.fromCharCode((15&t)<<12|(63&n)<<6|(63&i)<<0)}return a}(e),(function(e,n){t=e?{}:n})),t}var Fe=function(e){var t=[];if(!e||null===e)return["EUR","USD"];var n=e.symbol;e.is_otc&&(n=n.replace("_otc","")),n=n.replace("#","");return-1!==["AEXEUR","AXJAUD","GEREUR","DJIUSD","F40EUR","FTSGBP","HSIHKD","IBXEUR","NDXUSD","SPXUSD","SSMCHF","STXEUR","IT4EUR","JPXJPY","CHIA50","CRYPTO.IDX"].indexOf(n)?t.push(n):-1!==["UKBrent","USCrude"].indexOf(n)?t.push(n,"USD"):6===n.length?t.push(n.substr(0,3),n.substr(3)):t.push(n,"USD"),t};function Ge(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],i=!0,r=!1,a=void 0;try{for(var o,s=e[Symbol.iterator]();!(i=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);i=!0);}catch(e){r=!0,a=e}finally{try{i||null==s.return||s.return()}finally{if(r)throw a}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Ve(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ve(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ve(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function He(){return e={},t=H,n=new Map,t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e;var e,t,n}function Ue(e){return(e<10?"0":"")+e}function We(e){return(e<10?"00":e<100?"0":"")+e}var Ye=i(4),Qe=i.n(Ye);function Xe(e){if(e<0)return"00:00:00";var t=Math.floor(e/86400),n=e%86400,i=Math.floor(n/3600),r=n%3600,a=Math.floor(r/60),o=r%60,s=Math.ceil(o);return i<10&&(i="0"+i),a<10&&(a="0"+a),s<10&&(s="0"+s),"".concat(t>1?t+"d ":"").concat(i,":").concat(a,":").concat(s)}function ze(e){if(e<0)return"00:00:00";var t=Math.floor(e/3600),n=e%3600,i=Math.floor(n/60),r=n%60,a=Math.ceil(r);return t<10&&(t="0"+t),i<10&&(i="0"+i),a<10&&(a="0"+a),t+":"+i+":"+a}function Ke(e){if(e<0)return"00:00:00";var t=Math.floor(e/3600),n=e%3600,i=Math.floor(n/60);return t<10&&(t="0"+t),i<10&&(i="0"+i),t+":"+i}function Je(e){if(e<0)return"00:00:00";var t=Math.floor(e/3600),n=e%3600,i=Math.floor(n/60),r=n%60,a=Math.ceil(r);i<10&&(i="0"+i),a<10&&(a="0"+a);var o=i+":"+a;return t>0&&(t<10&&(t="0"+t),o=t+":"+o),o}function qe(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=new Date(1e3*(e+t)),r=n?i.getUTCFullYear():i.getFullYear(),a=Ue(n?i.getUTCMonth()+1:i.getMonth()+1),o=Ue(n?i.getUTCDate():i.getDate()),s=Ue(n?i.getUTCHours():i.getHours()),c=Ue(n?i.getUTCMinutes():i.getMinutes()),l=Ue(n?i.getUTCSeconds():i.getSeconds());return"".concat(r,"-").concat(a,"-").concat(o," ").concat(s,":").concat(c,":").concat(l)}function Ze(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=new Date(1e3*(e+t)),r=n?i.getUTCFullYear():i.getFullYear(),a=Ue(n?i.getUTCMonth()+1:i.getMonth()+1),o=Ue(n?i.getUTCDate():i.getDate()),s=Ue(n?i.getUTCHours():i.getHours()),c=Ue(n?i.getUTCMinutes():i.getMinutes()),l=Ue(n?i.getUTCSeconds():i.getSeconds());return"".concat(o,".").concat(a,".").concat(r.toString().substr(-2)," ").concat(s,":").concat(c,":").concat(l)}function $e(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],i=new Date(1e3*(e+t)),r=Ue(n?i.getUTCHours():i.getHours()),a=Ue(n?i.getUTCMinutes():i.getMinutes());return"".concat(r,":").concat(a)}function et(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],i=new Date(1e3*(e+t)),r=Ue(n?i.getUTCHours():i.getHours()),a=Ue(n?i.getUTCMinutes():i.getMinutes()),o=Ue(n?i.getUTCSeconds():i.getSeconds());return"".concat(r,":").concat(a,":").concat(o)}var tt=function(e){return e>3600?ze(e):ze(e).substr(3)};var nt,it,rt,at,ot=Date.now||function(){return+new Date},st=function(e){return null==e||ot()-e>2*w.CONNECT_TIMEOUT},ct=i(296),lt=i.n(ct);function ut(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ht=0,dt=1,ft=2,pt=0,mt=1,yt=2,gt=3,vt=0,bt=1,Et=0,At=1,wt=2,_t=3,Ot=4,St=5,Ct=6,Tt=7,kt=8,It=9,Pt=10,Nt=11,xt=12,Rt=13,Dt=14,Mt=15,Bt=16,Lt=17,jt=18,Ft=19,Gt=20,Vt=21,Ht=1,Ut=2,Wt=3,Yt=4,Qt=6,Xt=7,zt=8,Kt=9,Jt=10,qt=11,Zt=12,$t=15,en=16,tn=17,nn=18,rn=19,an=20,on=21,sn=22,cn=23,ln=24,un=25,hn=26,dn=27,fn=28,pn=29,mn=30,yn=34,gn=35,vn=36,bn=37,En=38,An=10,wn=20,_n=30,On=40,Sn=50,Cn=60,Tn=65,kn=66,In=68,Pn=70,Nn=71,xn=73,Rn=75,Dn=76,Mn=79,Bn=80,Ln=85,jn=90,Fn=120,Gn=130,Vn=135,Hn=137,Un=138,Wn=139,Yn=140,Qn=141,Xn=145,zn=150,Kn=160,Jn=165,qn=170,Zn=0,$n=1,ei=2,ti=3,ni=4,ii=5,ri=13,ai=14,oi=6,si=7,ci=8,li=9,ui=10,hi=11,di=12,fi=0,pi=1,mi=2,yi={Area:4,Candles:2,Bars:3,HeikenAshi:5},gi=(ut(nt={},yi.Area,h("Area")),ut(nt,yi.Line,h("Line")),ut(nt,yi.Candles,h("Candles")),ut(nt,yi.Bars,h("Bars")),ut(nt,yi.HeikenAshi,h("Heiken Ashi")),nt),vi=(ut(it={},yi.Area,"area"),ut(it,yi.Line,"line"),ut(it,yi.Candles,"candles"),ut(it,yi.Bars,"bars"),ut(it,yi.HeikenAshi,"heiken-ashi"),{Period_5:0,Period_10:1,Period_15:2,Period_30:3,Period_60:4,Period_120:13,Period_180:14,Period_300:6,Period_600:7,Period_900:8,Period_1800:9,Period_3600:10,Period_14400:11,Period_86400:12}),bi=(ut(rt={},vi.Period_5,"5s"),ut(rt,vi.Period_10,"10s"),ut(rt,vi.Period_15,"15s"),ut(rt,vi.Period_30,"30s"),ut(rt,vi.Period_60,"1m"),ut(rt,vi.Period_120,"2m"),ut(rt,vi.Period_180,"3m"),ut(rt,vi.Period_300,"5m"),ut(rt,vi.Period_600,"10m"),ut(rt,vi.Period_900,"15m"),ut(rt,vi.Period_1800,"30m"),ut(rt,vi.Period_3600,"1h"),ut(rt,vi.Period_14400,"4h"),ut(rt,vi.Period_86400,"1d"),rt),Ei=(ut(at={},vi.Period_5,5),ut(at,vi.Period_10,10),ut(at,vi.Period_15,15),ut(at,vi.Period_30,30),ut(at,vi.Period_60,60),ut(at,vi.Period_120,120),ut(at,vi.Period_180,180),ut(at,vi.Period_300,300),ut(at,vi.Period_600,600),ut(at,vi.Period_900,900),ut(at,vi.Period_1800,1800),ut(at,vi.Period_3600,3600),ut(at,vi.Period_14400,14400),ut(at,vi.Period_86400,86400),at),Ai="fast-option";function wi(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var _i=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,i;return t=e,i=[{key:"isLandscape",value:function(){var e,t;return e=window.orientation,t=parseInt(e),!!isNaN(t)||90===Math.abs(t)}},{key:"isMobile",value:function(){return e.detect().mobile}},{key:"isTablet",value:function(){return e.detect().tablet}},{key:"detect",value:function(){function e(e){var n;return(n=t.match(e))&&n.length>1&&n[1]||""}var t,n,i,r,a,o,s,c,l,u,h,d,f;return t="undefined"!=typeof navigator?navigator.userAgent:"",n=e(/(ipod|iphone|ipad)/i).toLowerCase(),i=!/like android/i.test(t)&&/android/i.test(t),r=/CrOS/.test(t),a=e(/edge\/(\d+(\.\d+)?)/i),o=e(/version\/(\d+(\.\d+)?)/i),c=!(s=/tablet/i.test(t))&&/[^-]mobi/i.test(t),l={blackberry:!1,name:"",webkit:!1,opera:!1,gecko:!1,safari:!1,windowsphone:!1,touchpad:!1,phantom:!1,tablet:!1,x:!1,version:"",sailfish:!1,seamonkey:!1,osversion:"",silk:!1,msie:!1,webos:!1,c:!1,chromeBook:!1,ios:!1,firefox:!1,mobile:!1,android:!1,chrome:!1,firefoxos:!1,msedge:!1,a:!1,yandexbrowser:!1,tizen:!1,bada:!1},/opera|opr/i.test(t)?(l.name="Opera",l.opera=!0,l.version=o||e(/(?:opera|opr)[\s\/](\d+(\.\d+)?)/i)):/yabrowser/i.test(t)?(l.name="Yandex Browser",l.yandexbrowser=!0,l.version=o||e(/(?:yabrowser)[\s\/](\d+(\.\d+)?)/i)):/windows phone/i.test(t)?(l.name="Windows Phone",l.windowsphone=!0,a?(l.msedge=!0,l.version=a):(l.msie=!0,l.version=e(/iemobile\/(\d+(\.\d+)?)/i))):/msie|trident/i.test(t)?(l.name="Internet Explorer",l.msie=!0,l.version=e(/(?:msie |rv:)(\d+(\.\d+)?)/i)):r?(l.name="Chrome",l.chromeBook=!0,l.chrome=!0,l.version=e(/(?:chrome|crios|crmo)\/(\d+(\.\d+)?)/i)):/chrome.+? edge/i.test(t)?(l.name="Microsoft Edge",l.msedge=!0,l.version=a):/chrome|crios|crmo/i.test(t)?(l.name="Chrome",l.chrome=!0,l.version=e(/(?:chrome|crios|crmo)\/(\d+(\.\d+)?)/i)):n?(l.name="iphone"==n?"iPhone":"ipad"==n?"iPad":"iPod",o&&(l.version=o)):/sailfish/i.test(t)?(l.name="Sailfish",l.sailfish=!0,l.version=e(/sailfish\s?browser\/(\d+(\.\d+)?)/i)):/seamonkey\//i.test(t)?(l.name="SeaMonkey",l.seamonkey=!0,l.version=e(/seamonkey\/(\d+(\.\d+)?)/i)):/firefox|iceweasel/i.test(t)?(l.name="Firefox",l.firefox=!0,l.version=e(/(?:firefox|iceweasel)[ \/](\d+(\.\d+)?)/i),/\((mobile|tablet);[^\)]*rv:[\d\.]+\)/i.test(t)&&(l.firefoxos=!0)):/silk/i.test(t)?(l.name="Amazon Silk",l.silk=!0,l.version=e(/silk\/(\d+(\.\d+)?)/i)):i?(l.name="Android",l.version=o):/phantom/i.test(t)?(l.name="PhantomJS",l.phantom=!0,l.version=e(/phantomjs\/(\d+(\.\d+)?)/i)):/blackberry|\bbb\d+/i.test(t)||/rim\stablet/i.test(t)?(l.name="BlackBerry",l.blackberry=!0,l.version=o||e(/blackberry[\d]+\/(\d+(\.\d+)?)/i)):/(web|hpw)os/i.test(t)?(l.name="WebOS",l.webos=!0,l.version=o||e(/w(?:eb)?osbrowser\/(\d+(\.\d+)?)/i),/touchpad\//i.test(t)&&(l.touchpad=!0)):/bada/i.test(t)?(l.name="Bada",l.bada=!0,l.version=e(/dolfin\/(\d+(\.\d+)?)/i)):/tizen/i.test(t)?(l.name="Tizen",l.tizen=!0,l.version=e(/(?:tizen\s?)?browser\/(\d+(\.\d+)?)/i)||o):/safari/i.test(t)?(l.name="Safari",l.safari=!0,l.version=o):(l.name=e(/^(.*)\/(.*) /),l.version=(d=/^(.*)\/(.*) /,(f=t.match(d))&&f.length>1&&f[2]||"")),!l.msedge&&/(apple)?webkit/i.test(t)?(l.name=l.name||"Webkit",l.webkit=!0,!l.version&&o&&(l.version=o)):!l.opera&&/gecko\//i.test(t)&&(l.name=l.name||"Gecko",l.gecko=!0,l.version=l.version||e(/gecko\/(\d+(\.\d+)?)/i)),l.msedge||!i&&!l.silk?n&&(l[n]=!0,l.ios=!0):l.android=!0,u="",l.windowsphone?u=e(/windows phone (?:os)?\s?(\d+(\.\d+)*)/i):n?u=(u=e(/os (\d+([_\s]\d+)*) like mac os x/i)).replace(/[_\s]/g,"."):i?u=e(/android[ \/-](\d+(\.\d+)*)/i):l.webos?u=e(/(?:web|hpw)os\/(\d+(\.\d+)*)/i):l.blackberry?u=e(/rim\stablet\sos\s(\d+(\.\d+)*)/i):l.bada?u=e(/bada\/(\d+(\.\d+)*)/i):l.tizen&&(u=e(/tizen[\/\s](\d+(\.\d+)*)/i)),u&&(l.osversion=u),h=u.split(".")[0],s||"ipad"==n||i&&(3==h||4==h&&!c)||l.silk?l.tablet=!0:(c||"iphone"==n||"ipod"==n||i||l.blackberry||l.webos||l.bada)&&(l.mobile=!0),l.msedge||l.msie&&l.version>=10||l.yandexbrowser&&l.version>=15||l.chrome&&l.version>=20||l.firefox&&l.version>=20||l.safari&&l.version>=6||l.opera&&l.version>=10||l.ios&&l.osversion&&l.osversion.split(".")[0]>=6||l.blackberry&&l.version>=10.1?l.a=!0:l.msie&&l.version<10||l.chrome&&l.version<20||l.firefox&&l.version<20||l.safari&&l.version<6||l.opera&&l.version<10||l.ios&&l.osversion&&l.osversion.split(".")[0]<6?l.c=!0:l.x=!0,l.version=parseFloat(l.version),l}}],(n=null)&&wi(t.prototype,n),i&&wi(t,i),e}(),Oi=i(40),Si=i.n(Oi),Ci=i(19),Ti=i.n(Ci);function ki(e){return function(e){if(Array.isArray(e))return Ni(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||Pi(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ii(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],i=!0,r=!1,a=void 0;try{for(var o,s=e[Symbol.iterator]();!(i=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);i=!0);}catch(e){r=!0,a=e}finally{try{i||null==s.return||s.return()}finally{if(r)throw a}}return n}(e,t)||Pi(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Pi(e,t){if(e){if("string"==typeof e)return Ni(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ni(e,t):void 0}}function Ni(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function xi(e,t){if(null==e)return{};var n,i,r=function(e,t){if(null==e)return{};var n,i,r={},a=Object.keys(e);for(i=0;i<a.length;i++)n=a[i],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Ri(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function Di(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Mi=Symbol(),Bi=Symbol(),Li=function(){function e(t){if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),Di(this,"updateDrawingPoints",Si.a.debounce(this._updateDrawingPoints,2e3)),Di(this,"updateDrawingPoint",Si.a.debounce(this._updateDrawingPoint,2e3)),Di(this,"connect",Ti()(this._connect,1e3*this.CONNECT_THROTTLE_PERIOD)),Di(this,"saveChart",Si.a.debounce(this._saveChart,3e3)),t!==Bi)throw"Cannot construct singleton";var n;this.PING_PERIOD=60,this.CONNECT_THROTTLE_PERIOD=5,this.listeners=(n={},[O,S,_].forEach((function(e){[W,U,G,P,N,F,be,Ee,Ae,we,_e,ee,X,z,K].forEach((function(t){n[e+t]=new Map}))})),[_].forEach((function(e){[de,re,ie,fe,ge].forEach((function(t){n[e+t]=new Map}))})),[le,C,T,j,R,x,Q,H,V,k,I,D,M,B,se,L,Y,q,Z,$,J,te,ne,ae,oe,ce,he,ue,pe,ye,me,ve,Oe].forEach((function(e){n[e]=new Map})),n),this.onceListeners=He(),this.serverList=w.API_LIST,this.isMobileVersion=_i.isMobile(),this.socket=null,this.serverTime=0,this.balance=0,this.activeSrv=null,this.lastRequestAnimationFrameTime=0,this.subscribeToListeners(),this.connectedSockets={},this.blackList=[],this.emitAuthTimeoutChecker=null,this.isDemo=d("isDemo"),this.tournamentId=d("tournamentId"),this.disabled=!1}var t,n,i;return t=e,i=[{key:"instance",get:function(){return this[Mi]||(this[Mi]=new e(Bi)),this[Mi]}}],(n=[{key:"getToken",value:function(){return d("token")}},{key:"copyOrder",value:function(e){if(this.listeners["".concat(O).concat(U)].forEach((function(e){return e()})),null===this.socket)return this.connect();this.socket.emit(U,{copyTicket:e})}},{key:"openOrder",value:function(e){var t=e.isFastOption,n=e.amount,i=e.action,r=e.asset,a=e.time;if(this.listeners["".concat(O).concat(G)].forEach((function(e){return e()})),null===this.socket)return this.connect();this.socket.emit(G,{asset:r,amount:n,time:a,action:i,isDemo:this.isDemo,tournamentId:this.tournamentId,requestId:this.serverTime+Ie(1,100),optionType:t?1:100})}},{key:"updateBalance",value:function(){if(null===this.socket)return this.connect();this.socket.emit(P)}},{key:"loadIndicators",value:function(){if(null===this.socket)return this.connect();this.socket.emit(re)}},{key:"loadPendingTrades",value:function(){if(null===this.socket)return this.connect();this.socket.emit(Oe)}},{key:"addIndicator",value:function(e){if(null===this.socket)return this.connect();var t=e.requestId,n=e.chartId,i=e.type,r=xi(e,["requestId","chartId","type"]);this.socket.emit(ee,{requestId:t,chartId:n,type:i,settings:r,visible:1})}},{key:"editIndicator",value:function(e){if(null===this.socket)return this.connect();var t=e.id,n=e.settings;this.socket.emit(te,{id:t,settings:n})}},{key:"deleteIndicator",value:function(e){var t=e.id;if(null===this.socket)return this.connect();this.socket.emit(ie,{id:t})}},{key:"deleteIndicators",value:function(e){if(null===this.socket)return this.connect();this.socket.emit("indicator/delete/list",{chartId:e})}},{key:"favoriteIndicator",value:function(e){if(null===this.socket)return this.connect();this.socket.emit(ae,{type:e})}},{key:"unfavoriteIndicator",value:function(e){if(null===this.socket)return this.connect();this.socket.emit(oe,{type:e})}},{key:"subscribeLeaderBoard",value:function(){if(null===this.socket)return this.connect();this.socket.emit("leader/subscribe")}},{key:"unSubscribeLeaderBoard",value:function(){if(null===this.socket)return this.connect();this.socket.emit("leader/unsubscribe")}},{key:"subscribeSignals",value:function(){if(null===this.socket)return this.connect();this.socket.emit("signal/subscribe")}},{key:"unSubscribeSignals",value:function(){if(null===this.socket)return this.connect();this.socket.emit("signal/unsubscribe")}},{key:"changeIndicatorVisibility",value:function(e){if(null===this.socket)return this.connect();var t=e.id,n=e.value;this.socket.emit(ne,{id:t,visible:n?1:0})}},{key:"loadDrawings",value:function(){if(null===this.socket)return this.connect();this.socket.emit(fe)}},{key:"addDrawing",value:function(e){var t=e.chartId,n=e.settings,i=e.type,r=e.assetId,a=e.requestId;if(null===this.socket)return this.connect();this.socket.emit(X,{chartId:t,settings:n,type:i,assetId:r,requestId:a})}},{key:"editDrawing",value:function(e){var t=e.id,n=e.settings;if(null===this.socket)return this.connect();this.socket.emit("drawing/update",{id:t,settings:n})}},{key:"_updateDrawingPoints",value:function(e){if(null===this.socket)return this.connect();var t=e.map((function(e){return[e.drawingId,e.point,e.time,e.price,e.assetId,e.chartId]}));this.socket.emit("drawing/pointers/change",t)}},{key:"_updateDrawingPoint",value:function(e){var t=e.drawingId,n=e.point,i=e.time,r=e.price,a=e.assetId,o=e.chartId;if(null===this.socket)return this.connect();this.socket.emit("drawing/pointer/change",[t,n,i,r,a,o])}},{key:"deleteDrawingsWithIds",value:function(e){if(null===this.socket)return this.connect();this.socket.emit("drawing/delete/list",e)}},{key:"deleteDrawing",value:function(e){var t=e.drawingId,n=e.chartId;if(null===this.socket)return this.connect();this.socket.emit(z,{drawingId:t,chartId:n})}},{key:"deleteDrawings",value:function(e){var t=e.assetId,n=e.chartId;if(null===this.socket)return this.connect();this.socket.emit(K,{chartId:n,assetId:t})}},{key:"lockDrawings",value:function(e,t){if(null===this.socket)return this.connect();this.socket.emit("drawing/lock",[e,t])}},{key:"refillDemo",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;if(null===this.socket)return this.connect();this.socket.emit("demo/refill",e)}},{key:"emitAuth",value:function(){var e=this;if(null===this.socket)return this.connect();this.emitAuthTimeoutChecker>-1&&(clearTimeout(this.emitAuthTimeoutChecker),this.emitAuthTimeoutChecker=-1),this.emitAuthTimeoutChecker=setTimeout((function(){e.activeSrv&&(e.connectedSockets[e.activeSrv].disconnect(),e.connectTo())}),5e3),this.socket.emit("authorization",{session:this.getToken(),isDemo:this.isDemo}),this.listeners[C].forEach((function(e){return e()}))}},{key:"connectTo",value:function(e){null!==this.socket&&this.socket.disconnect(),this.serverList={};var t=lt()(w.API_LIST,this.blackList);0===Object.keys(t).length&&this.blackList.length>0&&(t=w.API_LIST),e&&t[e]?this.serverList[e]=t[e]:this.serverList=t,this.connect()}},{key:"_connect",value:function(){var e=this;this.disabled||(this.activeSrv=null,Object.keys(this.connectedSockets).forEach((function(t){e.connectedSockets[t]&&(e.connectedSockets[t].disconnect(),e.connectedSockets[t].removeAllListeners()),e.connectedSockets[t]=null})),this.connectedSockets={},Object.values(this.serverList).forEach((function(t){var n=t.server;e.connectedSockets[n]=Te.a.connect(n,{transports:["websocket"]}),e.connectedSockets[n].on(C,(function(){console.log("-----\x3e connect serverTime="+new Date),null!==e.activeSrv&&e.activeSrv!==n||(e.activeSrv=n,Object.keys(e.connectedSockets).forEach((function(t){var i=e.connectedSockets[t];t!==n&&(i.disconnect(),i.off())})),e.socket=e.connectedSockets[n],e.listeners[$].forEach((function(e){return e(n)})),e.subscribe(),e.emitAuth())}));var i=function(t){e.connectedSockets[n]&&(e.connectedSockets[n].disconnect(),e.connectedSockets[n].removeAllListeners(),e.connectTo())};e.connectedSockets[n].on("connect_error",(function(){return i()})),e.connectedSockets[n].on("reconnect_error",(function(){return i()})),e.connectedSockets[n].on("reconnect_failed",(function(){return i()}))})))}},{key:"subscribeToListeners",value:function(){var e=this;this.addEventListener(x,(function(){e.pingServer()}))}},{key:"setLastRequestAnimationFrameTime",value:function(){(this.lastRequestAnimationFrameTime!==this.serverTime||this.lastRequestAnimationFrameTime<=0)&&(this.lastRequestAnimationFrameTime=this.serverTime,(null===this.socket||this.socket&&!this.socket.connected)&&(null!==this.socket&&this.socket.off(),this.connect()))}},{key:"pingServer",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(null===this.socket)return this.connect();(e||this.lastRequestAnimationFrameTime&&!e&&this.lastRequestAnimationFrameTime%this.PING_PERIOD==0)&&this.socket.emit("tick")}},{key:"subscribe",value:function(){var e=this;if(null===this.socket||!0!==this.socket.connected)return null!==this.socket&&this.socket.off(),void this.connect();this.socket.on("disconnect",(function(){e.emitAuthTimeoutChecker>-1&&(clearTimeout(e.emitAuthTimeoutChecker),e.emitAuthTimeoutChecker=-1),null!=e.socket&&e.socket.off(),console.log("-----< disconnect serverTime="+new Date),e.socket=null,e.lastRequestAnimationFrameTime=0})),this.socket.on("connect_error",(function(){e.socket=null,e.connect()})),this.socket.on(Z,(function(){e.listeners[Z].forEach((function(t){return t(e.activeSrv,ot())}))})),this.socket.on(Q,(function(){null!==e.emitAuthTimeoutChecker&&(clearTimeout(e.emitAuthTimeoutChecker),e.emitAuthTimeoutChecker=null),e.pingServer(!0),e.listeners[Q].forEach((function(e){return e()}))})),this.socket.on("authorization/reject",(function(){e.disabled=!0,window.location.href="/logout"})),this.socket.on(V,(function(t){var n=je(t);e.serverTime&&(n=n.filter((function(t){return t.closeTimestamp>e.serverTime}))),e.listeners[V].forEach((function(e){return e(n)}))})),this.socket.on("".concat(_).concat(P),(function(t){var n=je(t),i=n.balance;if(n.isDemo===e.isDemo){var r=e.balance;e.balance=i,e.listeners["".concat(_).concat(P)].forEach((function(e){return e(i,r)}))}})),this.socket.on("".concat(_).concat(N),(function(t){var n=je(t),i=n.liveBalance,r=n.demoBalance;e.listeners["".concat(_).concat(N)].forEach((function(e){return e({liveBalance:i,demoBalance:r})}))})),this.socket.on(k,(function(t){var n=je(t).map((function(e){return t=Ge(e,27),n=t[0],i=t[1],r=t[2],a=t[3],o=t[4],s=t[5],c=t[6],l=t[7],u=t[8],h=t[9],d=t[10],f=t[11],p=t[12],m=t[13],y=t[14],g=t[15],t[16],v={id:n,symbol:i,label:r,type:a,digits:o,payout:s,expiration_step:c,purchase_time:l,expiration_count:u,is_otc:h,otc_id:d,real_id:f,signals:p,expTime:m,active:y,timeframes:g,day_change:t[17],payout_1:t[18],payout_5:t[19],fixed:t[20],m5_change:t[21],h1_change:t[22],month1_change:t[23],year1_change:t[24],ytd_change:t[25],today_change:t[26]},Object.assign(v,{assetsList:Fe(v).map((function(e){return e.toLowerCase()}))});var t,n,i,r,a,o,s,c,l,u,h,d,f,p,m,y,g,v}));e.listeners[k].forEach((function(e){return e(n)}))})),this.socket.on(I,(function(t){e.listeners[I].forEach((function(e){return e(je(t))}))})),this.socket.on(R,(function(t){var n=je(t),i=n.history.sort((function(e,t){return e[0]-t[0]}));if(i.length>0){var r=Ii(i[i.length-1],3),a=r[0],o=r[1],s=r[2];e.updateStream([{asset:n.asset,time:a,price:o,tick:s}],!0)}e.listeners[R].forEach((function(e){return e(n)}))})),this.socket.on(B,(function(t){e.listeners[B].forEach((function(e){e(je(t))}))})),this.socket.on("".concat(S).concat(G),(function(t){e.listeners["".concat(S).concat(G)].forEach((function(e){return e(je(t))}))})),this.socket.on(j,(function(t){var n=je(t);if(n.length){for(var i=[],r=0;r<n.length;r++){var a=Ii(n[r],4),o=a[0],s=a[1],c=a[2],l=a[3];i.push({asset:o,time:s,price:c,tick:l})}e.updateStream(i)}})),this.socket.on(x,(function(t){var n=Math.floor(t);e.serverTime<n&&(e.serverTime=n,e.listeners[x].forEach((function(t){return t(e.serverTime)})))})),this.socket.on(J,(function(t){for(var n=je(t),i=function(t){e.listeners[J].forEach((function(e){return e(n[t])}))},r=0;r<n.length;r++)i(r)})),this.socket.on(Oe,(function(e){je(e)})),Se.forEach((function(t){e.socket.on(t,(function(n){var i=je(n);e.listeners[t].forEach((function(e){return e(i)})),Object.hasOwnProperty.call(e.onceListeners,t)&&(e.onceListeners[t].forEach((function(e){return e(i)})),e.onceListeners[t]=new Map)}))}))}},{key:"updateStream",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.listeners[L].forEach((function(t){return t(e)}));var i=Math.floor(Math.max.apply(Math,ki(e.map((function(e){return e.time})))));(i>this.serverTime||n)&&(this.serverTime=i,this.listeners[x].forEach((function(e){return e(t.serverTime)})))}},{key:"addOnceListener",value:function(e,t){var n=ke();return this.onceListeners[e].set(n,t),n}},{key:"addEventListener",value:function(e,t){var n=ke();return this.listeners[e].set(n,t),n}},{key:"removeEventListener",value:function(e,t){this.listeners[e].delete(t)}},{key:"cancelOrder",value:function(e){if(null===this.socket)return this.connect();this.listeners["".concat(O).concat(W)].forEach((function(t){return t(e)})),this.socket.emit(W,{ticket:e})}},{key:"doubleOrder",value:function(e){if(null===this.socket)return this.connect();this.socket.emit(Ee,{ticket:e})}},{key:"rolloverOrder",value:function(e){if(null===this.socket)return this.connect();this.socket.emit(be,{ticket:e})}},{key:"emitChangeSymbol",value:function(e){var t=e.asset,n=(e.reason,e.otherData,e.chartPeriod),i=void 0===n?vi.Period_5:n;if(null===this.socket)return this.connect();this.listeners[T].forEach((function(e){return e(t)})),this.socket.emit(T,{asset:t,period:Ei[i]})}},{key:"_saveChart",value:function(e){var t=e.chartId,n=e.settings;if(null===this.socket)return this.connect();var i=function(e){var t=e.chartId,n=e.chartType,i=e.currentExpirationTime,r=e.isFastOption,a=e.isFastAmountOption,o=e.isIndicatorsMinimized,s=e.isIndicatorsShowing,c=e.isShortBetElement,l=e.chartPeriod,u=e.dealValue,h=e.dealPercentValue,d=e.isVisible,f=e.timePeriod,p=e.gridOpacity,m=e.isAutoScrolling,y=e.isOneClickTrade,g=e.upColor,v=e.downColor;return{chartId:t,chartType:n,currentExpirationTime:i,isFastOption:r,isFastAmountOption:a,isIndicatorsMinimized:o,isIndicatorsShowing:s,isShortBetElement:c,chartPeriod:l,currentAsset:{symbol:e.currentAsset.symbol},dealValue:u,dealPercentValue:h,isVisible:d,timePeriod:f,gridOpacity:p,isAutoScrolling:m,isOneClickTrade:y,upColor:g,downColor:v}}(n);this.socket.emit("settings/store",{chartId:t,settings:i})}},{key:"deleteChart",value:function(e){var t=e.chartId;if(null===this.socket)return this.connect();this.socket.emit("settings/delete",{chartId:t})}},{key:"subscribeAsset",value:function(e){if(null===this.socket)return this.connect();this.socket.emit("instruments/follow",e)}},{key:"unsubscribeAsset",value:function(e){if(null===this.socket)return this.connect();this.socket.emit("instruments/unfollow",e)}},{key:"instrumentsSchedule",value:function(e){if(null===this.socket)return this.connect();this.socket.emit(I,e)}},{key:"subscribeMarketForecast",value:function(e){if(null===this.socket)return this.connect();this.socket.emit("depth/follow",e)}},{key:"unsubscribeMarketForecast",value:function(e){if(null===this.socket)return this.connect();this.socket.emit("depth/unfollow",e)}},{key:"loadRegion",value:function(e){var t=e.asset,n=e.index,i=e.time,r=e.offset,a=e.period;if(null===this.socket)return this.connect();this.socket.emit(D,{asset:t,index:n,time:i,offset:r,period:a})}},{key:"loadRegionLine",value:function(e){var t=e.id,n=e.index,i=e.time,r=e.offset;if(null===this.socket)return this.connect();this.socket.emit(B,{id:t,index:n,time:i,offset:r})}},{key:"createChartNotification",value:function(e){var t=e.id,n=e.price,i=e.asset;if(null===this.socket)return this.connect();this.socket.emit(pe,{id:t,price:n,asset:i})}},{key:"deleteChartNotification",value:function(e){if(null===this.socket)return this.connect();this.socket.emit(me,{id:e})}},{key:"updateChartNotification",value:function(e){var t=e.id,n=e.price,i=e.asset;if(null===this.socket)return this.connect();this.socket.emit(ve,{id:t,price:n,asset:i})}},{key:"getChartNotifications",value:function(){if(null===this.socket)return this.connect();this.socket.emit(ge)}},{key:"pendingCreate",value:function(e){var t=e.openType,n=e.asset,i=e.openTime,r=e.openPrice,a=e.timeframe,o=e.command,s=e.amount;if(null===this.socket)return this.connect();switch(t){case 0:this.socket.emit(Ae,{openType:t,asset:n,openTime:i,timeframe:a,command:o,amount:s});break;case 1:this.socket.emit(Ae,{openType:t,asset:n,openPrice:r,timeframe:a,command:o,amount:s})}}},{key:"pendingCancel",value:function(e){this.socket.emit(_e,{ticket:e})}},{key:"pendingList",value:function(){this.socket.emit(Oe)}}])&&Ri(t.prototype,n),i&&Ri(t,i),e}();function ji(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function Fi(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Gi=function(e){var t=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ji(Object(n),!0).forEach((function(t){Fi(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ji(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e);if(Object.prototype.hasOwnProperty.call(t,"chartType")&&(t.chartType=parseInt(t.chartType,10)),Object.prototype.hasOwnProperty.call(t,"chartPeriod")&&(t.chartPeriod=parseInt(t.chartPeriod,10)),Object.prototype.hasOwnProperty.call(t,"dealValue")&&(t.dealValue=parseFloat(t.dealValue),t.dealValueStr=t.dealValue),Object.prototype.hasOwnProperty.call(t,"dealPercentValue")&&(t.dealPercentValue=parseInt(t.dealPercentValue),t.dealPercentValueStr=t.dealPercentValueStr),Object.prototype.hasOwnProperty.call(t,"isVisible")&&(t.isVisible=!!t.isVisible),Object.prototype.hasOwnProperty.call(t,"timePeriod")){var n=parseInt(t.timePeriod,10),i=g;t.timePeriod=isNaN(n)||n<i||n>14400?i:n}return t},Vi=["#35CB01","#0FAF59","#00C3FF","#7BFFF7","#FFFFFF"],Hi=["#FF6251","#DB4635","#FFC24D","#E271FF","#000000"],Ui=["graph"],Wi="CLICKED_PLUS",Yi="CLICKED_MINUS",Qi="READY",Xi="RESTORE",zi=d("isDemo")?parseFloat(d("demoBalance")):parseFloat(d("liveBalance")),Ki=!isNaN(zi)&&zi>0?Math.ceil(zi/10):1;Ki>w.MAX_BID_AMOUNT&&(Ki=w.MAX_BID_AMOUNT);var Ji={};Object.values(yi).forEach((function(e){Ji[e]={count:0,value:0,secondWidth:3.5}}));var qi={};Object.values(yi).forEach((function(e){qi[e]={left:"25%",top:"10%"}}));var Zi,$i={zoomStatus:Qi,isVisible:!0,isFastOption:!1,isPendingTradeOption:!1,pendingTradeQuote:0,pendingTradeTime:0,isFastAmountOption:!1,isIndicatorsMinimized:!1,isIndicatorsShowing:!0,isShortBetElement:!!_i.isMobile(),chartPeriod:vi.Period_60,currentExpirationTime:0,currentAsset:{symbol:null,price:0,obj:{}},isAutoScrolling:1,isOneClickTrade:!0,upColor:Vi[1],chartType:yi.Candles,dealValue:Ki,downColor:Hi[0],dealValueStr:Ki.toString(),dealPercentValue:1,dealPercentValueStr:1..toString()+"%",timePeriod:g,gridOpacity:8,chartPeriodRaw:vi.Period_60,zoom:Ji,panelCoordinates:qi},er=i(13),tr=i(98),nr=i.n(tr),ir=i(47),rr=i.n(ir),ar=i(297),or=i.n(ar);function sr(e,t){return 60*Math.ceil((t-e-30)/60)}function cr(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var lr=function(e,t){return{x:e,y:t}},ur=function(e){return e===yi.Area||e===yi.Line},hr=(cr(Zi={},Zn,5),cr(Zi,$n,10),cr(Zi,ei,15),cr(Zi,ti,30),cr(Zi,ni,60),cr(Zi,ii,90),cr(Zi,ri,120),cr(Zi,ai,180),cr(Zi,oi,300),cr(Zi,si,600),cr(Zi,ci,900),cr(Zi,li,1800),cr(Zi,ui,3600),cr(Zi,hi,14400),cr(Zi,di,86400),Zi),dr=function(e,t){return ur(e)||!Object.prototype.hasOwnProperty.call(hr,t)?1:hr[t]},fr=function(e,t,n,i){var r=t.x-e.x,a=t.y-e.y,o=r*(i.y-n.y)-(i.x-n.x)*a;if(0!==o){var s=((i.y-n.y)*(i.x-e.x)+(n.x-i.x)*(i.y-e.y))/o,c=((e.y-t.y)*(i.x-e.x)+r*(i.y-e.y))/o;if(0<=s&&s<=1&&0<=c&&c<=1)return{x:e.x+s*r,y:e.y+s*a}}},pr=function(e,t,n,i){var r=e.time,a=e.value,o=t.time,s=t.value,c=n.time,l=n.value,u=i.time,h=i.value,d={x:null,y:null,onLine1:!1,onLine2:!1},f=(h-l)*(o-r)-(u-c)*(s-a);if(0===f)return d;var p=a-l,m=r-c,y=(o-r)*p-(s-a)*m;return p=((u-c)*p-(h-l)*m)/f,m=y/f,d.x=r+p*(o-r),d.y=a+p*(s-a),p>0&&p<1&&(d.onLine1=!0),m>0&&m<1&&(d.onLine2=!0),d};function mr(e,t){return e.left<=t.right&&t.left<=e.right&&e.top<=t.bottom&&t.top<=e.bottom}function yr(e,t,n){var i=e,r=n.amount,a=n.closeTimestamp+t,o=function(e,t,n){var i=n.openTimestamp,r=n.closeTimestamp,a=n.percentProfit,o=e,s=i+t,c=r+t,l=a>100?100:a,u=w.CANCEL_PERCENT_LIST.find((function(e){return e.timeFrame===sr(s,c)})),h=void 0===u?1:u.value,d=Math.ceil((o-s)/h);return l-w.CANCEL_PERCENT_DIFF-d}(e,t,n);return i&&a-i>w.CANCEL_HIDE_BTN_TIME&&o>=0?(o/100*r).toFixed(2):0}function gr(e,t,n){return yr(e,t,n)>0}function vr(e){return function(e){if(Array.isArray(e))return br(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return br(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return br(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function br(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function Er(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function Ar(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Er(Object(n),!0).forEach((function(t){wr(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Er(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function wr(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var _r={chartById:{},chartIds:[],visibleSymbols:[],visibleChartIds:[]};function Or(e,t){var n=Object.keys(t.charts),i={};n.forEach((function(e){i[e]=t.charts[e]}));var r=Ar(Ar({},e),{},{chartById:i,visibleSymbols:Qr({charts:i})}),a=Xr({charts:i});return rr()(a,e.visibleChartIds)||(r.visibleChartIds=a),r}function Sr(e,t){if(nr()(t))return e;var n={},i=t.changedAssets,r=t.assets,a=t.currentTime;return i.forEach((function(t){var i=t.chartId,o=t.asset;n[i]=Nr(e,{symbol:o,chartId:i,assets:r,currentTime:a})})),Ar(Ar({},e),{},{chartById:Ar(Ar({},e.chartById),n)})}function Cr(e,t){var n=!1,i={};return Object.values(e.chartById).forEach((function(e){if(e.currentAsset){var r=t.find((function(t){return t.asset===e.currentAsset.symbol}));void 0!==r&&r.price!==e.currentAsset.price&&(i[e.chartId]=Ar(Ar({},e),{},{currentAsset:Ar(Ar({},e.currentAsset),{},{price:r.price})}),n=!0)}})),n?Ar(Ar({},e),{},{chartById:Ar(Ar({},e.chartById),i)}):e}function Tr(e,t){var n=t.chartId,i=t.amount,r=wr({},n,Ar(Ar({},e.chartById[n]),{},{dealValue:parseFloat(i),dealValueStr:i}));return Ar(Ar({},e),{},{chartById:Ar(Ar({},e.chartById),r)})}function kr(e,t){var n=t.chartId,i=t.amount,r=wr({},n,Ar(Ar({},e.chartById[n]),{},{dealPercentValue:parseInt(i),dealPercentValueStr:i+"%"}));return Ar(Ar({},e),{},{chartById:Ar(Ar({},e.chartById),r)})}function Ir(e,t){return t.isValidChange?Pr(e,t):e}function Pr(e,t){var n=t.symbol,i=t.chartId,r=t.assets,a=void 0===r?[]:r,o=t.currentTime,s=wr({},i,Nr(e,{symbol:n,chartId:i,assets:a,currentTime:o})),c=Ar(Ar({},e),{},{chartById:Ar(Ar({},e.chartById),s)});c.visibleSymbols=Qr({charts:c.chartById}),c.visibleChartIds=Xr({charts:c.chartById});var l=a.find((function(e){return e.symbol===n})),u=l.is_otc;if(l){var h=Math.max.apply(Math,vr(l.timeframes.map((function(e){return e.time}))));c.chartById[i].timePeriod=or()(s[i].timePeriod,u?v:g,h)}return c}function Nr(e,t){var n=t.symbol,i=t.chartId,r=t.assets,a=(void 0===r?[]:r).find((function(e){return e.symbol===n}));return a?Ar(Ar({},e.chartById[i]),{},{currentAsset:{symbol:n,price:0,obj:a}}):e}function xr(e,t){var n=t.currentTime,i=t.asset,r=t.assets,a=!1,o={};return e.chartIds.forEach((function(t){var s=e.chartById[t];if(s.currentAsset&&i===s.currentAsset.symbol){o[t]=Ar(Ar({},Nr(e,{symbol:i,currentTime:n,chartId:t,assets:r})),{},{expirationTimes:[]}),a=!0}})),a?Ar(Ar({},e),{},{chartById:Ar(Ar({},e.chartById),o)}):e}function Rr(e,t){var n=t.charts,i=Ar(Ar({},e),{},{chartById:n,chartIds:Object.keys(n)});return i.visibleSymbols=Qr({charts:i.chartById}),i.visibleChartIds=Xr({charts:i.chartById}),i}function Dr(e,t){var n=nr()(t.charts)?e.chartById:t.charts,i=Ar(Ar({},e),{},{chartById:n,chartIds:Object.keys(n)});return i.visibleSymbols=Qr({charts:i.chartById}),i.visibleChartIds=Xr({charts:i.chartById}),i}function Mr(e,t,n){var i=wr({},t,Ar(Ar({},e.chartById[t]),n));return Ar(Ar({},e),{},{chartById:Ar(Ar({},e.chartById),i)})}function Br(e,t){var n=t.chartId,i=t.amount,r=wr({},n,Ar(Ar({},e.chartById[n]),{},{timePeriod:i}));return Ar(Ar({},e),{},{chartById:Ar(Ar({},e.chartById),r)})}function Lr(e,t){var n=t.chartId,i=t.value,r=wr({},n,Ar(Ar({},e.chartById[n]),{},{isFastOption:i}));return Ar(Ar({},e),{},{chartById:Ar(Ar({},e.chartById),r)})}function jr(e,t){var n=t.chartId,i=t.value,r=wr({},n,Ar(Ar({},e.chartById[n]),{},{isPendingTradeOption:i}));return Ar(Ar({},e),{},{chartById:Ar(Ar({},e.chartById),r)})}function Fr(e,t){var n=t.chartId,i=t.value,r=wr({},n,Ar(Ar({},e.chartById[n]),{},{pendingTradeQuote:i}));return Ar(Ar({},e),{},{chartById:Ar(Ar({},e.chartById),r)})}function Gr(e,t){var n=t.chartId,i=t.value,r=wr({},n,Ar(Ar({},e.chartById[n]),{},{pendingTradeTime:i}));return Ar(Ar({},e),{},{chartById:Ar(Ar({},e.chartById),r)})}function Vr(e,t){var n=t.chartId,i=t.value,r=wr({},n,Ar(Ar({},e.chartById[n]),{},{isFastAmountOption:i}));return Ar(Ar({},e),{},{chartById:Ar(Ar({},e.chartById),r)})}function Hr(e,t){var n=t.chartId,i=t.value,r=wr({},n,Ar(Ar({},e.chartById[n]),{},{isIndicatorsMinimized:i}));return Ar(Ar({},e),{},{chartById:Ar(Ar({},e.chartById),r)})}function Ur(e,t){var n=t.chartId,i=t.value,r=wr({},n,Ar(Ar({},e.chartById[n]),{},{isIndicatorsShowing:i}));return Ar(Ar({},e),{},{chartById:Ar(Ar({},e.chartById),r)})}function Wr(e,t){var n=t.chartId,i=t.value,r=wr({},n,Ar(Ar({},e.chartById[n]),{},{isShortBetElement:i}));return Ar(Ar({},e),{},{chartById:Ar(Ar({},e.chartById),r)})}function Yr(e,t){var n=t.chartId,i=t.amount,r=wr({},n,Ar(Ar({},e.chartById[n]),{},{currentExpirationTime:i}));return Ar(Ar({},e),{},{chartById:Ar(Ar({},e.chartById),r)})}var Qr=function(e){var t=e.charts;return Object.keys(t).filter((function(e){return t[e].isVisible})).map((function(e){return t[e].currentAsset.symbol}))},Xr=function(e){var t=e.charts;return Object.keys(t).filter((function(e){return t[e].isVisible}))},zr=function(e,t){return Mr(e,t.chartId,{gridOpacity:t.amount})},Kr=function(e,t){return Mr(e,t.chartId,{isAutoScrolling:t.value})},Jr=function(e,t){return Mr(e,t.chartId,{isOneClickTrade:t.value})},qr=function(e,t){return Mr(e,t.chartId,{upColor:t.value})},Zr=function(e,t){return Mr(e,t.chartId,{downColor:t.value})},$r=function(e,t){return Mr(e,t.chartId,{panelCoordinates:t.value})},ea={filterPeriods:d("filterPeriods")||{},tradingSummary:d("tradingSummary")||[],tradingProfitLossStats:d("tradingProfitLossStats")||[],tradingWinLosePercentStats:d("tradingWinLosePercentStats")||[],topProfitSymbolStats:d("topProfitSymbolStats")||{},tradingProfitLossSymbolStats:d("tradingProfitLossSymbolStats")||{},tradesCountPercentBySymbolStats:d("tradesCountPercentBySymbolStats")||{}};function ta(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function na(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ta(Object(n),!0).forEach((function(t){ia(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ta(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ia(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ra(e,t){if(null==e)return{};var n,i,r=function(e,t){if(null==e)return{};var n,i,r={},a=Object.keys(e);for(i=0;i<a.length;i++)n=a[i],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var aa={assetBySymbol:{},symbols:[]},oa=i(25);function sa(e){if(!e)return!1;return-1!==["btc","₿","BTC"].indexOf(e.toString().toLowerCase())}function ca(e){var t=e.amount;e.currency;return parseFloat(parseFloat(t).toFixed(6))}function la(e){return 0==e}function ua(e){return 100===e.optionType}function ha(e){if(!e)return!1;return-1!==["rp"].indexOf(e.toLowerCase())}function da(e){var t=e.amount,n=e.profit,i=e.currency,r=Number((t+n).toFixed(2));return sa(i)&&(r=Number(t+n)),fa({amount:r,currency:i})}function fa(e){var t=e.amount,n=e.currency;return sa(n)?(t>0?"+":"")+"".concat(ca({amount:t,currency:n})," ").concat(n):ha(n)?"".concat(oa(parseFloat(t)).format((t>0?"+":"")+"0,0")," ").concat(n):"".concat(oa(parseFloat(t)).format((t>0?"+":"")+"0,0.00")," ").concat(n)}function pa(e){var t=e.amount,n=e.currency;return sa(n)?"".concat(ca({amount:t,currency:n})," ").concat(n):ha(n)?"".concat(oa(parseFloat(t)).format("0,0")," ").concat(n):"".concat(oa(parseFloat(t)).format("0,0[.]00")," ").concat(n)}function ma(e){var t=e.amount,n=e.currency;return sa(n)?"".concat(ca({amount:t,currency:n})," ").concat(n):t>=0?"".concat(n).concat(oa(parseFloat(t)).format("0,0.00")):"".concat(oa(parseFloat(t)).format("0,0.00")).concat(n)}function ya(e){var t=e.amount,n=e.currency;return sa(n)?"".concat(ca({amount:t,currency:n})," ").concat(n):"".concat(oa(parseFloat(t)).format("0,0[.]0[0]")," ").concat(n)}function ga(e){var t=e.amount,n=e.currency;return sa(n)?"".concat(ca({amount:t,currency:n})," ").concat(n):"".concat(oa(parseFloat(t)).format("0,0.00")," ").concat(n)}var va=i(22),ba=i(72),Ea=i.n(ba);function Aa(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function wa(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Aa(Object(n),!0).forEach((function(t){_a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Aa(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function _a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Oa=Object(va.a)((function(e,t){switch(t.type){case"DEAL.CANCEL.SUCCESS":return function(e,t){var n=t.deal,i=n.refundTime,r=void 0===i?"":i,a=n.refundTimestamp,o=void 0===a?"":a,s=n.ticket,c=n.amount;if(!e.openedIds.includes(s))return;var l=c-e.openedById[s].amount;e.closedById[s]=wa(wa({},e.openedById[s]),{},{refundTime:r,refundTimestamp:o,profit:l,isClosed:!0}),e.closedIds=Sa(e.closedById,Object.keys(e.closedById));var u=e.openedIds.filter((function(e){return e!==s}));e.openedIds=Sa(e.openedById,u),e.openedById=Ea()(e.openedById,e.openedIds)}(e,t.payload);case"DEAL.OPENED":return function(e,t){var n=t.deal;e.openedIds.forEach((function(t){return e.openedById[t].isNew=!1})),e.openedById[n.id]=wa(wa({},n),{},{isNew:!0,isFast:ua(n)}),e.openedIds=Sa(e.openedById,Object.keys(e.openedById))}(e,t.payload);case"DEAL.CLOSED":return function(e,t){var n=t.deals,i=n.map((function(e){return e.id}));e.openedIds=e.openedIds.filter((function(e){return!i.includes(e)})),e.openedById=Ea()(e.openedById,e.openedIds),n.forEach((function(t){return e.closedById[t.id]=wa(wa({},t),{},{isNew:!0,isFast:ua(t),isClosed:!0})})),e.closedIds=Ca(e.closedById,Object.keys(e.closedById))}(e,t.payload);case"DEAL.OPENED.LIST":return function(e,t){t.deals.forEach((function(t){return e.openedById[t.id]=wa(wa({},t),{},{isFast:ua(t)})})),e.openedIds=Sa(e.openedById,Object.keys(e.openedById))}(e,t.payload);case"DEAL.CLOSED.LIST":return function(e,t){t.deals.forEach((function(t){return e.closedById[t.id]=wa(wa({},t),{},{isFast:ua(t),isClosed:!0})})),e.closedIds=Ca(e.closedById,Object.keys(e.closedById))}(e,t.payload);case"DEAL.FORGOT":return function(e){e.openedIds=e.openedIds.filter((function(t){return!e.openedById[t].isClosed})),e.openedIds.forEach((function(t){return e.openedById[t].isNew=!1})),e.openedById=Ea()(e.openedById,e.openedIds),e.closedIds.forEach((function(t){return e.closedById[t].isNew=!1}))}(e);case"DEAL.SUCCESS_ROLLOVER_DEAL":return function(e,t){var n=t.ticket,i=t.closeTimestamp,r=t.closeTime,a=t.amount,o=e.openedById[n];o&&(o.closeTimestamp=i,o.closeTime=r,o.amount=a)}(e,t.payload)}return e}),{openedById:{},openedIds:[],closedById:{},closedIds:[]});function Sa(e,t){return t.sort((function(t,n){var i=e[t].openTimestamp;return e[n].openTimestamp-i})),t}function Ca(e,t){return t.sort((function(t,n){var i=e[t].refundTimestamp?e[t].refundTimestamp:e[t].closeTimestamp;return(e[n].refundTimestamp?e[n].refundTimestamp:e[n].closeTimestamp)-i})),t}function Ta(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function ka(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ta(Object(n),!0).forEach((function(t){Ia(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ta(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ia(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Pa,Na={quoteBySymbol:{},symbols:[]},xa="FULL",Ra={FULL:1,VERTICAL_2:2,HORIZONTAL_2:2,TOP_2_BOTTOM_1:3,TOP_1_BOTTOM_2:3,LEFT_2_RIGHT_1:3,LEFT_1_RIGHT_2:3,VERTICAL_3:3,TOP_2_BOTTOM_2:4,TOP_3_BOTTOM_1:4,TOP_1_BOTTOM_3:4,LEFT_1_RIGHT_3:4,LEFT_3_RIGHT_1:4},Da=function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=Object.keys(Ra),i=0;i<n.length;i++){var r=n[i];if(Ra[r]===e)return r}return t};function Ma(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Ba=["currency","cryptocurrency","commodity","stock"],La=(Ma(Pa={},"currency","fa-usd"),Ma(Pa,"cryptocurrency","fa-btc"),Ma(Pa,"commodity","fa-tint"),Ma(Pa,"stock","fa-file-text-o"),i(41)),ja=i.n(La);function Fa(e){return(Fa="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ga(e,t){return(Ga=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Va(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=Ua(e);if(t){var r=Ua(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return Ha(this,n)}}function Ha(e,t){return!t||"object"!==Fa(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Ua(e){return(Ua=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Wa(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ya(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function Qa(e,t,n){return t&&Ya(e.prototype,t),n&&Ya(e,n),e}var Xa=function(){function e(){Wa(this,e),this.storage=null,this.userId=0}return Qa(e,[{key:"testStorageAvailability",value:function(e){try{if(!window[e])return!1;var t=window[e],n="__storage_test__";return t.setItem(n,n),t.removeItem(n),!0}catch(e){return Be.error(e),!1}}},{key:"createStorage",value:function(e){this.testStorageAvailability(e)&&(this.storage=window[e])}},{key:"getJSON",value:function(e){return ja.a.getJSON(e)}},{key:"setJSON",value:function(e,t){t=JSON.stringify(t),ja.a.set(e,t,w.STORAGE.COOKIES.OPTIONS)}},{key:"set",value:function(e,t){return t?ja.a.set(e,t,w.STORAGE.COOKIES.OPTIONS):this.remove(e)}},{key:"get",value:function(e){return ja.a.get(e)}},{key:"find",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(e){return e},i=this.get(e);return null!=i?n(i):t}},{key:"findBool",value:function(e,t){return this.find(e,t,(function(e){return Boolean(+e)}))}},{key:"remove",value:function(e){return ja.a.remove(e,w.STORAGE.COOKIES.OPTIONS)}},{key:"prefixName",value:function(e){return w.STORAGE.PREFIX+"."+this.userId.toString()+"."+e}},{key:"setUserId",value:function(e){this.userId=e}}]),e}(),za=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ga(e,t)}(n,e);var t=Va(n);function n(e){var i;return Wa(this,n),(i=t.call(this)).storageName=e,i.createStorage(i.storageName),i}return Qa(n,[{key:"getInstance",value:function(){return this.storage?this:new Xa}},{key:"getJSON",value:function(e){e=this.prefixName(e);var t=this.storage.getItem(e);return Le(t,(function(e,n){e||(t=n)})),t}},{key:"get",value:function(e){return e=this.prefixName(e),this.storage.getItem(e)}},{key:"setJSON",value:function(e,t){e=this.prefixName(e),t=JSON.stringify(t),this.storage.setItem(e,t)}},{key:"set",value:function(e,t){return e=this.prefixName(e),this.storage.setItem(e,t)}},{key:"remove",value:function(e){e=this.prefixName(e),this.storage.removeItem(e)}}]),n}(Xa),Ka={cookies:1==window.desktopMode?new za("localStorage").getInstance():new Xa,local:new za("localStorage").getInstance(),session:new za("sessionStorage").getInstance()};function Ja(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function qa(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var Za=new(function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"sortingSelectDropdown";Ja(this,e),this.cookieName=t,this.data=Ka.cookies.get(this.cookieName)}var t,n,i;return t=e,(n=[{key:"save",value:function(){Ka.cookies.set(this.cookieName,this.getAll())}},{key:"getAll",value:function(){return this.data}},{key:"change",value:function(e){Ka.cookies.remove(this.cookieName),Ka.cookies.set(this.cookieName,e)}}])&&qa(t.prototype,n),i&&qa(t,i),e}());Object.freeze(Za);var $a=Za;function eo(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function to(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var no=new(function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"theme";eo(this,e),this.cookieName=t,this.data=Ka.cookies.get(this.cookieName)}var t,n,i;return t=e,(n=[{key:"save",value:function(){Ka.cookies.set(this.cookieName,this.getAll())}},{key:"getAll",value:function(){return this.data&&this.data.match(/^(light|dark)$/)?this.data:"black"}},{key:"change",value:function(e){Ka.cookies.remove(this.cookieName),Ka.cookies.set(this.cookieName,e)}}])&&to(t.prototype,n),i&&to(t,i),e}());Object.freeze(no);var io=no;function ro(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ao(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var oo=new(function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"isOpenSidebarName";ro(this,e),this.cookieName=t,this.data=Ka.cookies.get(this.cookieName)}var t,n,i;return t=e,(n=[{key:"save",value:function(){Ka.cookies.set(this.cookieName,this.getAll())}},{key:"getAll",value:function(){return"true"===this.data}},{key:"change",value:function(e){Ka.cookies.remove(this.cookieName),Ka.cookies.set(this.cookieName,e)}}])&&ao(t.prototype,n),i&&ao(t,i),e}());Object.freeze(oo);var so=oo;function co(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function lo(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var uo=new(function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"pfm";co(this,e),this.cookieName=t;var n=Ka.cookies.getJSON(this.cookieName)||null;this.data={value:n?n.value:!_i.isMobile()},this.dataToSave={value:0},this.throttledSaveToCookie=Ti()(this.saveToCookie,1e3)}var t,n,i;return t=e,(n=[{key:"getData",value:function(){return this.data.value}},{key:"saveToCookie",value:function(){Ka.cookies.setJSON(this.cookieName,this.dataToSave)}},{key:"save",value:function(){this.dataToSave.value=this.data.value,this.throttledSaveToCookie()}},{key:"set",value:function(e){return this.data.value=e,this.save(),!0}}])&&lo(t.prototype,n),i&&lo(t,i),e}());Object.freeze(uo);var ho=uo;function fo(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function po(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var mo=new(function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"sonr";fo(this,e),this.cookieName=t;var n=Ka.cookies.getJSON(this.cookieName)||null;this.data={value:n?n.value:!_i.isMobile()},this.dataToSave={value:0},this.throttledSaveToCookie=Ti()(this.saveToCookie,1e3)}var t,n,i;return t=e,(n=[{key:"getData",value:function(){return this.data.value}},{key:"saveToCookie",value:function(){Ka.cookies.setJSON(this.cookieName,this.dataToSave)}},{key:"save",value:function(){this.dataToSave.value=this.data.value,this.throttledSaveToCookie()}},{key:"set",value:function(e){return this.data.value=e,this.save(),!0}}])&&po(t.prototype,n),i&&po(t,i),e}());Object.freeze(mo);var yo=mo;function go(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function vo(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var bo=new(function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"balance-visible";go(this,e),this.cookieName=t;var n=Ka.cookies.getJSON(this.cookieName)||null;this.data={value:!n||n.value},this.dataToSave={value:0},this.throttledSaveToCookie=Ti()(this.saveToCookie,1e3)}var t,n,i;return t=e,(n=[{key:"getData",value:function(){return this.data.value}},{key:"saveToCookie",value:function(){Ka.cookies.setJSON(this.cookieName,this.dataToSave)}},{key:"save",value:function(){this.dataToSave.value=this.data.value,this.throttledSaveToCookie()}},{key:"set",value:function(e){return this.data.value=e,this.save(),!0}}])&&vo(t.prototype,n),i&&vo(t,i),e}());Object.freeze(bo);var Eo=bo;function Ao(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function wo(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var _o=new(function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"OTCTooltip";Ao(this,e),this.cookieName=t;var n=Ka.cookies.getJSON(this.cookieName)||null;this.data={value:!n||n.value},this.dataToSave={value:0},this.throttledSaveToCookie=Ti()(this.saveToCookie,1e3)}var t,n,i;return t=e,(n=[{key:"getData",value:function(){return this.data.value}},{key:"saveToCookie",value:function(){Ka.cookies.setJSON(this.cookieName,this.dataToSave)}},{key:"save",value:function(){this.dataToSave.value=this.data.value,this.throttledSaveToCookie()}},{key:"set",value:function(e){return this.data.value=e,this.save(),!0}}])&&wo(t.prototype,n),i&&wo(t,i),e}());Object.freeze(_o);var Oo=_o,So=i(99);function Co(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function To(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Co(Object(n),!0).forEach((function(t){Io(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Co(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ko(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function Io(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Po(){if("undefined"==typeof Audio)return!1;var e=null;try{"undefined"!=typeof AudioContext?e=new AudioContext:"undefined"!=typeof webkitAudioContext&&(e=new webkitAudioContext)}catch(e){}return e&&(void 0!==e.createGain||void 0!==e.createGainNode)}var No="/sounds/deal_open.mp3",xo="/sounds/deal_open_error.mp3",Ro="/sounds/deal_close_wasted.mp3",Do="/sounds/deal_close_profit.mp3",Mo="/sounds/priceReached.mp3",Bo=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,i;return t=e,i=[{key:"mute",value:function(e){So.Howler.mute(e)}},{key:"play",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};void 0===e.canUseHowler&&(e.canUseHowler=!_i.isMobile()&&Po()),e.canUseHowler&&new So.Howl(To({src:t,autoplay:!0,onloaderror:function(){console.warn("SoundManager::play() onloaderror "+t)},onplayerror:function(){console.warn("SoundManager::play() onloaderror "+t)}},n))}}],(n=null)&&ko(t.prototype,n),i&&ko(t,i),e}();function Lo(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function jo(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Lo(Object(n),!0).forEach((function(t){Fo(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Lo(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Fo(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Io(Bo,"canUseHowler",void 0);var Go=d("lastDeposit"),Vo=d("possibleBonus"),Ho=d("onlyFastAllowed"),Uo={country:d("country"),countryName:d("countryName"),todayProfit:0,isChart:!0,isAuthorized:!1,isLandscape:_i.isTablet(),isMobile:_i.isMobile(),currentTime:null,timeZone:parseInt(d("timeOffset")),currencyCode:d("currencyCode"),currency:d("currencySymbol"),currencies:d("currencies"),exchangeRates:d("exchangeRates"),windowLayout:xa,balance:0,liveBalance:d("liveBalance"),demoBalance:d("demoBalance"),bonus:d("bonus"),possibleBonus:Vo,activePromocodes:d("activePromocodes"),isDemo:d("isDemo"),assetSortType:$a.getAll()||"oneMinute",theme:io.getAll(),isOpenSidebarName:so.getAll(),uid:d("id"),email:d("email"),nickname:d("nickname"),avatar:d("avatar"),profileLevel:d("profileLevel"),enabledIndicatorsList:!0,sidebarOpened:!1,sidePanelOpened:!1,selectedIndicatorReqId:!1,lastDeposit:Go,lang:d("lang"),langs:d("langs"),countUnreadedMessages:d("countUnreadedMessages"),hasProfileNotifications:d("hasProfileNotifications"),minDealAmount:d("minDealAmount"),reviewAmount:3*d("minDealAmount"),maxDealAmount:d("maxDealAmount"),minDepositAmount:d("minDepositAmount"),recommendedDepositAmount:d("recommendedDepositAmount"),promocodes:d("promocodes"),isOpenAssets:!1,isBackgroundGraph:!1,isPerfomanceMode:ho.getData(),isHideTradingUI:!!d("isHideTradingUI"),levelsList:d("levelsList"),onlyFastAllowed:void 0!==Ho&&Ho,isSoundOnOff:yo.getData(),isBalanceVisible:Eo.getData(),isOTCTooltip:Oo.getData(),telegramChat:d("tgLink"),background:d("background"),isRolloverAvailable:!1,isDoubleUpAvailable:!0,maxDemoBalance:d("maxDemoBalance"),hasClosedTrades:d("has_closed_trades"),hasDemoClosedTrades:d("has_demo_closed_trades"),getAuthenticatedUserActivePromocode:{error:null,status:null}};a.a.ajaxSetup({headers:{"X-CSRF-TOKEN":d("csrf")}}),Bo.mute(!Uo.isSoundOnOff);function Wo(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Yo(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var Qo=new(function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"fas";Wo(this,e),this.cookieName=t,this.data=new Set(Ka.cookies.getJSON(this.cookieName)||[])}var t,n,i;return t=e,(n=[{key:"save",value:function(){Ka.cookies.setJSON(this.cookieName,this.getAll())}},{key:"getAll",value:function(){return Array.from(this.data)}},{key:"add",value:function(e){return!this.data.has(e)&&(this.data.add(e),this.save(),!0)}},{key:"del",value:function(e){return!!this.data.has(e)&&(this.data.delete(e),this.save(),!0)}},{key:"change",value:function(e){var t=this;this.data.clear(),e.forEach((function(e){t.data.add(e)})),this.save()}}])&&Yo(t.prototype,n),i&&Yo(t,i),e}());Object.freeze(Qo);var Xo=Qo;function zo(e){return function(e){if(Array.isArray(e))return Ko(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return Ko(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ko(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ko(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function Jo(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function qo(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Jo(Object(n),!0).forEach((function(t){Zo(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Jo(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Zo(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var $o={list:Xo.getAll()};function es(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],i=!0,r=!1,a=void 0;try{for(var o,s=e[Symbol.iterator]();!(i=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);i=!0);}catch(e){r=!0,a=e}finally{try{i||null==s.return||s.return()}finally{if(r)throw a}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return ts(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ts(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ts(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var ns=Object(va.a)((function(e,t){switch(t.type){case"MARKET.CHANGE":t.payload.forEach((function(t){var n=es(t,2),i=n[0],r=n[1];return e[i]=r}))}return e}),{});function is(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function rs(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?is(Object(n),!0).forEach((function(t){as(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):is(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function as(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function os(e,t){if(null==e)return{};var n,i,r=function(e,t){if(null==e)return{};var n,i,r={},a=Object.keys(e);for(i=0;i<a.length;i++)n=a[i],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var ss=Object(va.a)((function(e,t){switch(t.type){case"INDICATOR.LOAD":return function(e,t){var n=t.favorites,i=t.list.reduce((function(e,t){var n=t.chart_id,i=t.visible,r=void 0===i?1:i,a=os(t,["chart_id","visible"]);return e[t.id]=rs(rs({},a),{},{chartId:n,visible:Boolean(+r)}),e}),{});e.byId=i,e.allIds=Object.keys(i),e.favorites=n}(e,t.payload);case"INDICATOR.ADD.V2":return function(e,t){var n=t.chartId,i=t.requestId,r=t.type,a=os(t,["chartId","requestId","type"]);cs(e,{id:i,chartId:n,settings:a,type:r,visible:!0})}(e,t.payload);case"INDICATOR.ADDED":return function(e,t){var n=t.requestId,i=t.id;if(!e.allIds.includes(n))return e;var r=e.allIds.findIndex((function(e){return e===n}));e.allIds.splice(r,1),e.allIds.includes(i)||e.allIds.push(i);e.byId[i]=rs(rs({},e.byId[n]),{},{id:i,requestId:n}),delete e.byId[n]}(e,t.payload);case"INDICATOR.DELETE":return function(e,t){var n=t.id,i=e.allIds.findIndex((function(e){return e===n}));i>=0&&(e.allIds.splice(i,1),delete e.byId[n])}(e,t.payload);case"INDICATOR.CHANGE":return function(e,t){var n=t.id,i=t.settings;e.byId[n]&&(e.byId[n]=rs(rs({},e.byId[n]),{},{settings:rs(rs({},e.byId[n].settings),i)}))}(e,t.payload);case"INDICATOR.VIEW.CHANGE":return function(e,t){var n=t.id,i=t.value;e.byId[n].visible=i}(e,t.payload);case"INDICATOR.NEW":return cs(e,t.payload);case"INDICATOR.H.CHANGE":return n=e,i=t.payload,r=i.id,a=i.expanded,rs(rs({},n),{},{byId:rs(rs({},n.byId),{},as({},r,rs(rs({},n.byId[r]),{},{expanded:a})))});case"INDICATOR.FOLLOW":return function(e,t){e.favorites.includes(t)||e.favorites.push(t)}(e,t.payload);case"INDICATOR.UNFOLLOW":return function(e,t){var n=e.favorites.findIndex((function(e){return e===t}));n>=0&&e.favorites.splice(n,1)}(e,t.payload);case"CHART.INDICATOR.DELETE":return function(e,t){var n={};e.allIds.forEach((function(i){e.byId[i].chartId!==t&&(n[i]=e.byId[i])})),e.byId=n,e.allIds=Object.keys(n)}(e,t.payload);case"INDICATOR.LIST.DELETE":return e.byId={},void(e.allIds=[]);default:return e}var n,i,r,a}),{byId:{},allIds:[],favorites:[]});function cs(e,t){e.byId[t.id]=t,e.allIds.includes(t.id)||e.allIds.push(t.id)}var ls=i(67),us=i.n(ls);function hs(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function ds(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?hs(Object(n),!0).forEach((function(t){fs(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):hs(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function fs(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ps(e,t){if(null==e)return{};var n,i,r=function(e,t){if(null==e)return{};var n,i,r={},a=Object.keys(e);for(i=0;i<a.length;i++)n=a[i],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var ms=Object(va.a)((function(e,t){switch(t.type){case"DRAW.ADD.V2":return function(e,t){var n=t.assetId,i=t.chartId,r=t.requestId,a=t.type,o=t.points,s=ps(t,["assetId","chartId","requestId","type","points"]),c={id:r,chartId:i,type:parseInt(a,10),assetId:n,settings:s,isLocked:!1,points:o||[]};ys(e,c)}(e,t.payload);case"DRAW.ADDED":return function(e,t){var n=t.requestId,i=t.id;if(!e.allIds.includes(n))return e;var r=e.allIds.findIndex((function(e){return e===n}));e.allIds.splice(r,1),e.allIds.includes(i)||e.allIds.push(i);e.byId[i]=ds(ds({},e.byId[n]),{},{id:i,requestId:n}),delete e.byId[n];var a=e.selectedIds.findIndex((function(e){return e===n}));-1!==a&&(e.selectedIds.splice(a,1),e.selectedIds.includes(i)||e.selectedIds.push(i))}(e,t.payload);case"DRAW.LOADED":return function(e,t){t.list.forEach((function(t){return ys(e,t)}))}(e,t.payload);case"DRAW.CHANGE":return function(e,t){var n=t.id,i=t.settings;if(!e.allIds.includes(n))return;e.byId[n].settings=us()({},e.byId[n].settings,i)}(e,t.payload);case"DRAW.POINT.CHANGE":return n=e,i=t.payload,gs(n,[i]);case"DRAW.POINTS.CHANGE":return gs(e,t.payload);case"DRAW.LIST.DELETE":return function(e,t){for(var n=t.chartId,i=t.assetId,r=e.allIds.length-1;r>=0;r--){var a=e.allIds[r],o=e.byId[a];o.assetId===i&&o.chartId===n&&(e.allIds.splice(r,1),delete e.byId[a])}e.selectedIds=[]}(e,t.payload);case"DRAW.DELETE":case"DRAW.DELETED":return function(e,t){for(var n=e.allIds.length-1;n>=0;n--){var i=e.allIds[n];i===t&&(e.allIds.splice(n,1),delete e.byId[i])}e.selectedIds=e.selectedIds.filter((function(t){return e.allIds.includes(t)}))}(e,t.payload);case"DRAW.CHOOSE":return function(e,t){if(e.selectedIds.includes(t)||!e.allIds.includes(t))return;e.selectedIds.push(t)}(e,t.payload);case"DRAW.UNCHOOSE":return function(e,t){if(!e.selectedIds.includes(t)||!e.allIds.includes(t))return;e.selectedIds=e.selectedIds.filter((function(e){return t!==e}))}(e,t.payload);case"DRAW.UNCHOOSE.LIST":return function(e){e.selectedIds=[]}(e);case"DRAW.CHOOSE.SETTINGS.CHANGE":return function(e,t){e.selectedIds.forEach((function(n){var i=e.byId[n].settings.lines,r=void 0===i?{}:i,a=Object.keys(r);a.length>0&&Object.keys(t).forEach((function(i){a.forEach((function(r){Object.keys(e.byId[n].settings.lines[r]).includes(i)&&(e.byId[n].settings.lines[r][i]=t[i])}))}))}))}(e,t.payload);case"DRAW.CHOOSE.DELETE":return function(e){e.selectedIds.forEach((function(t){return delete e.byId[t]})),e.allIds=e.allIds.filter((function(t){return!e.selectedIds.includes(t)})),e.selectedIds=[]}(e);case"INDICATOR.LIST.DELETE":return e.byId={},e.allIds=[],void(e.selectedIds=[]);case"DRAW.LOCK":return vs(e,{ids:t.payload.ids,value:!0});case"DRAW.UNLOCK":return vs(e,{ids:t.payload.ids,value:!1});default:return e}var n,i}),{byId:{},allIds:[],selectedIds:[]});function ys(e,t){e.byId[t.id]=t,e.allIds.includes(t.id)||e.allIds.push(t.id)}function gs(e,t){t.forEach((function(t){var n=t.chartId,i=t.drawingId,r=ps(t,["chartId","drawingId"]);if(e.allIds.includes(i)&&e.byId[i].chartId===n){var a=e.byId[i].points,o=a.findIndex((function(e){return e.point===r.point}));-1===o?a.push(ds({},r)):a[o]=ds(ds({},a[o]),r)}}))}function vs(e,t){var n=t.ids,i=t.value;e.allIds.filter((function(e){return n.includes(e)})).forEach((function(t){return e.byId[t].isLocked=i}))}function bs(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function Es(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?bs(Object(n),!0).forEach((function(t){As(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):bs(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function As(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ws={};for(var _s in w.API_LIST)ws[_s]=Es(Es({},w.API_LIST[_s]),{},{lastPing:null,latency:null});var Os={connectedServer:null,serverList:ws,autoConnect:!0,lastConnectTime:null},Ss={FIRST_REGISTER:"first-register",REFILL_DEMO_WITHOUT_MONEY:"refill-demo-without-money",REDEPOSIT:"redeposit",DEMO_TO_REAL:"demo-to-real",RATING:"rating",BONUS:"bonus",DEPOSIT_BONUS:"deposit-bonus",CONFIRM_TRADE:"confirm-trade",CURRENCY_EXCHANGE:"currency-exchange",ERROR_MESSAGE:"error-message",PAIR_INFORMATION:"pair-information",FORM_PROMOCODE:"form-promocode",HISTORY_PROMOCODE:"history-promocode",INFO_PROMOCODE:"info-promocode",ASSETS_DROPDOWN:"assets-dropdown",CASHBACK_INFORMATION:"cashback-information",TURNOVER_INFORMATION:"turnover-information",ACCOUNT_LEVELS:"account-levels",TRADE_INFORMATION:"trade-information",MOBILE_TRADE_LIST:"mobile-trade-list",JOIN_TELEGRAM:"join-telegram"};function Cs(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function Ts(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Cs(Object(n),!0).forEach((function(t){ks(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Cs(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ks(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Is={};Object.keys(Ss).forEach((function(e){Is[Ss[e]]=!1})),Is[Ss.FIRST_REGISTER]=d("firstRegister")&&!d("isHideTradingUI"),Is[Ss.JOIN_TELEGRAM]=d("showTelegramModal");var Ps={states:Is,data:null};function Ns(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function xs(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var Rs=new(function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"nas";Ns(this,e),this.cookieName=t,this.data=new Set(Ka.cookies.getJSON(this.cookieName)||[])}var t,n,i;return t=e,(n=[{key:"save",value:function(){Ka.cookies.setJSON(this.cookieName,this.getAll())}},{key:"getAll",value:function(){return Array.from(this.data)}},{key:"add",value:function(e){return!this.data.has(e)&&(this.data.add(e),this.save(),!0)}},{key:"del",value:function(e){return!!this.data.has(e)&&(this.data.delete(e),this.save(),!0)}},{key:"change",value:function(e){var t=e.prevSymbol,n=e.symbol,i=this.getAll(),r=i.indexOf(t);-1!==r&&(i[r]=n),this.data=new Set(i),this.save()}},{key:"filter",value:function(e){var t=this.getAll(),n=e.map((function(e){return e.symbol})),i=t.filter((function(e){return-1!==n.indexOf(e)}));this.data=new Set(i),this.save()}}])&&xs(t.prototype,n),i&&xs(t,i),e}());function Ds(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ms(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var Bs=new(function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"tabFixed";Ds(this,e),this.cookieName=t,this.data=new Set(Ka.cookies.getJSON(this.cookieName)||[])}var t,n,i;return t=e,(n=[{key:"save",value:function(){Ka.cookies.setJSON(this.cookieName,this.getAll())}},{key:"getAll",value:function(){return Array.from(this.data)}},{key:"add",value:function(e){return!this.data.has(e)&&(this.data.add(e),this.save(),!0)}},{key:"del",value:function(e){return!!this.data.has(e)&&(this.data.delete(e),this.save(),!0)}},{key:"change",value:function(e){var t=this;this.data.clear(),e.forEach((function(e){t.data.add(e)})),this.save()}}])&&Ms(t.prototype,n),i&&Ms(t,i),e}());Object.freeze(Bs);var Ls=Bs,js=function(e){return e.filter((function(e,t,n){return n.indexOf(e)===t}))};function Fs(e){return function(e){if(Array.isArray(e))return Gs(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return Gs(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Gs(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Gs(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function Vs(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function Hs(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Vs(Object(n),!0).forEach((function(t){Us(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Vs(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Us(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Ws={list:Rs.getAll(),tabFixedList:Ls.getAll()};function Ys(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],i=!0,r=!1,a=void 0;try{for(var o,s=e[Symbol.iterator]();!(i=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);i=!0);}catch(e){r=!0,a=e}finally{try{i||null==s.return||s.return()}finally{if(r)throw a}}return n}(e,t)||Xs(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Qs(e){return function(e){if(Array.isArray(e))return zs(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||Xs(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Xs(e,t){if(e){if("string"==typeof e)return zs(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?zs(e,t):void 0}}function zs(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function Ks(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function Js(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ks(Object(n),!0).forEach((function(t){qs(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ks(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function qs(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Zs={active:[],inactive:[]};function $s(e,t,n){var i=e.active,r=e.inactive,a=i.map((function(e){return Js(Js({},e),{},{isNewSignal:!1})})),o=[];return t.length&&t.forEach((function(e){for(var t=e[0],i=function(i){var r=e[1][i],s=a.findIndex((function(e){return e.asset===t&&r[0]===e.time}));-1!==s&&o.unshift.apply(o,Qs(a.splice(s,1))),a.unshift({asset:t,time:r[0],signal:r[1],timestamp:n,isNewSignal:!0})},r=0;r<e[1].length;r++)i(r)})),r.unshift.apply(r,o),r.splice(0,r.length-20),{active:a,inactive:r}}function ec(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(t%60!=0&&n)return e;for(var i=e.active,r=e.inactive,a=[],o=[],s=0;s<i.length;s++)i[s].timestamp+60<=t?a.push(i[s]):o.push(i[s]);return r.push.apply(r,a),r.splice(0,r.length-20),{active:o,inactive:r}}function tc(e){for(var t=e.signals,n=e.time,i=[],r=0;r<t.length;r++)for(var a=Ys(t[r],3),o=a[0],s=a[1],c=a[2],l=0;l<s.length;l++){var u=s[l];i.push({asset:o,time:u.timeFrame,signal:u.signal,timestamp:c,isNewSignal:!1})}return ec({active:i,inactive:[]},n,!1)}function nc(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function ic(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?nc(Object(n),!0).forEach((function(t){rc(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):nc(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function rc(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ac={list:[],position:0,total:0};function oc(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function sc(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?oc(Object(n),!0).forEach((function(t){cc(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):oc(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function cc(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var lc={list:[],data:[],pagination:{total:0,count:0,per_page:10,current_page:1,total_pages:1,links:{}},getAllPendingTrades:{error:null,status:null}},uc=d("history")||{},hc={list:d("history")};function dc(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function fc(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?dc(Object(n),!0).forEach((function(t){pc(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):dc(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function pc(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var mc={countUnreadedNotifications:d("countUnreadedNotifications"),list:[],pagination:{total:0,count:0,per_page:5,current_page:1,total_pages:1,links:{}},getAllUserNotifications:{error:null,status:null},readAllUserNotifications:{error:null,status:null},readUserNotificationById:{error:null,status:null}};function yc(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function gc(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?yc(Object(n),!0).forEach((function(t){vc(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):yc(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function vc(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var bc={data:d("user"),getAuthenticatedUser:{error:null,status:null},updateAuthenticatedUser:{error:null,status:null},deleteAuthenticatedUser:{error:null,status:null},updateAuthenticatedUserAvatar:{error:null,status:null},updateAuthenticatedUserPassword:{message:null,error:null,status:null},deleteAuthenticatedUserAvatar:{error:null,status:null},verifyEmail:{message:null,status:null},documentsUpload:{files:[],error:null,status:null},selfieUpload:{error:null,status:null},documentsSubmit:{error:null,status:null},otpAction:{error:null,status:null},otpSetup:{error:null,status:null},otpCode:{error:null,status:null},boot:!0};function Ec(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function Ac(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ec(Object(n),!0).forEach((function(t){wc(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ec(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function wc(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var _c={data:[],files:[],getAuthenticatedUserCards:{error:null,status:null},cardsUpload:{error:null,status:null},cardsSubmit:{error:null,status:null},cardsSubmitNew:{error:null,status:null}},Oc=Object(er.c)({chartSettings:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_r,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"USER.AUTH":return Sr(e,t.payload);case"HISTORY.LOADED":return xr(e,t.payload);case"CHART.SETTINGS":return Rr(e,t.payload);case"CHART.LAYOUT":return Dr(e,t.payload);case"CHART.CHANGE_TYPE":var n=t.payload,i=n.chartId,r=n.chartType,a=e.chartById[i].chartPeriodRaw,o=ur(r)?vi.Period_5:a;return Mr(e,i,{chartType:r,chartPeriod:o,chartPeriodRaw:a});case"CHART.CHANGE_PERIOD":var s=t.payload,c=s.chartId,l=s.chartPeriod;return Mr(e,c,{chartPeriod:l,chartPeriodRaw:l});case"SYMBOL.CHANGE":return Pr(e,t.payload);case"CHANGE_SYMBOL.START":return Ir(e,t.payload);case"DEAL.AMOUNT":return Tr(e,t.payload);case"DEAL.PERCENT_AMOUNT":return kr(e,t.payload);case"QUOTES.NEW":return Cr(e,t.payload);case"SYMBOL.CHANGE.ACTIVE":return Pr(e,t.payload);case"ZOOM.CHANGE":var u=t.payload,h=u.chartId,d=u.count,f=u.value,p=u.chartType,m=u.secondWidth;return Mr(e,h,{zoom:Ar(Ar({},e.chartById[h].zoom),{},wr({},p,{count:d,value:Math.round(100*f)/100,secondWidth:m}))});case"ZOOM/BTN":case"ZOOM/BTN/RDY":var y=t.payload,g=y.chartId,v=y.zoomStatus;return Mr(e,g,{zoomStatus:v});case"SYMBOL.LIST":return Or(e,t.payload);case"CHART.CHANGE_END":return Br(e,t.payload);case"CHART.CHANGE_EXPIRATION_TIME":return Yr(e,t.payload);case"CHART.GRID_OPACITY":return zr(e,t.payload);case"CHART.AUTO_SCROLLING":return Kr(e,t.payload);case"CHART.ONE_CLICK_TRADE":return Jr(e,t.payload);case"CHART.CHANGE_CHART_UP_COLOR":return qr(e,t.payload);case"CHART.CHANGE_CHART_DOWN_COLOR":return Zr(e,t.payload);case"CHART.CHANGE_PANEL_COORDINATES":return $r(e,t.payload);case"FO":return Lr(e,t.payload);case"FAO":return Vr(e,t.payload);case"CHART.CHANGE_INDICATORS_MINIMIZED":return Hr(e,t.payload);case"CHART.CHANGE_INDICATORS_SHOWING":return Ur(e,t.payload);case"CHART.CHANGE_SHORT_BET_ELEMENT":return Wr(e,t.payload);case"CHART.PENDING_TIME_OPTION":return jr(e,t.payload);case"CHART.CHANGE_PENDING_TRADE_QUOTE":return Fr(e,t.payload);case"CHART.CHANGE_PENDING_TRADE_TIME":return Gr(e,t.payload)}return e},indicators:ss,drawings:ms,modals:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ps,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"MODAL.CHANGE":var n=t.payload,i=n.modalId,r=n.value,a=n.data;return Ts(Ts({},e),{},{states:Ts(Ts({},e.states),{},ks({},i,r)),data:a});default:return e}},analytics:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ea,t=arguments.length>1?arguments[1]:void 0;return t.type,e},assets:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:aa,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SYMBOL.LIST":case"USER.BALANCE":var n=t.payload.assets,i={};n.forEach((function(e){e.signals;var t=ra(e,["signals"]);i[e.symbol]=t}));var r=na(na({},e.assetBySymbol),i),a=Object.keys(r);return na(na({},e),{},{assetBySymbol:r,symbols:a})}return e},deals:Oa,quotes:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Na,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"QUOTES.NEW":var n={};t.payload.forEach((function(e){var t=e.asset,i=e.time,r=e.price;n[t]={time:i,price:r}}));var i=ka(ka({},e.quoteBySymbol),n),r=Object.keys(i);return ka(ka({},e),{},{quoteBySymbol:i,symbols:r})}return e},global:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Uo,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"USER.TODAY_PROFIT":return jo(jo({},e),{},{todayProfit:t.payload});case"USER.AUTH":return jo(jo({},e),{},{isAuthorized:!0});case"SETTINGS.LOADED":return jo(jo(jo({},e),t.payload),{},{infoIcons:jo(jo({},e.infoIcons),t.payload.infoIcons)});case"TIME":return jo(jo({},e),{},{currentTime:t.payload.time});case"CHART.LAYOUT":case"CHART.SETTINGS":if(t.payload.isMobile)return jo(jo({},e),{},{windowLayout:xa});var n=t.payload.charts,i=Object.keys(n).filter((function(e){return n[e].isVisible})),r=Ra[e.windowLayout];return r!==i.length?jo(jo({},e),{},{windowLayout:Da(i.length,xa)}):e;case"USER.BALANCE":var a=t.payload.balance;return e.isDemo?jo(jo({},e),{},{demoBalance:a,balance:a}):jo(jo({},e),{},{liveBalance:a,balance:a});case"USER.BALANCE.LIST":var o=t.payload,s=o.liveBalance,c=o.demoBalance,l=e.isDemo?c:s;return jo(jo({},e),{},{liveBalance:s,demoBalance:c,balance:l});case"USER.BONUS.UPDATE":var u=t.payload.bonus;return jo(jo({},e),{},{bonus:u});case"SYMBOLS.SORT.CHANGE":var h=t.payload.sortType;return jo(jo({},e),{},{assetSortType:h});case"THEME.CHANGE":return jo(jo({},e),{},{theme:t.payload.value});case"SIDEBAR_NAME.CHANGE":return jo(jo({},e),{},{isOpenSidebarName:t.payload.value});case"D.EI":return jo(jo({},e),{},{enabledIndicatorsList:Boolean(t.payload)});case"CHANGE_PANEL_ASSETS":return jo(jo({},e),{},{isOpenAssets:t.payload});case"CHANGE_BACKGROUND_GRAPH":return jo(jo({},e),{},{isBackgroundGraph:t.payload});case"SIDEPANEL.OPENED":return jo(jo({},e),{},{sidebarOpened:!1,sidePanelOpened:t.payload});case"SIDEBAR.OPEN":return jo(jo({},e),{},{sidebarOpened:Boolean(t.payload),sidePanelOpened:!1});case"INDICATOR.SELECTED.ID":var d=t.payload;if("boolean"!=typeof d){var f=t.payload,p=f.selectedIndicatorReqId,m=f.sidePanelOpened;return jo(jo({},e),{},{selectedIndicatorReqId:p,sidePanelOpened:!!m&&"indicators"})}return jo(jo({},e),{},{selectedIndicatorReqId:d});case"USER.PROMOCODE.GET.LOADING":return jo(jo({},e),{},{getAuthenticatedUserActivePromocode:{error:null,status:"loading"}});case"USER.PROMOCODE.GET.SUCCESS":var y=e.promocodes?e.promocodes.map((function(e){return e.id===t.payload.id?t.payload:e})):e.promocodes,g=e.activePromocodes?e.activePromocodes.map((function(e){return e.id===t.payload.id?t.payload:e})):e.activePromocodes;return jo(jo({},e),{},{promocodes:y,activePromocodes:g,getAuthenticatedUserActivePromocode:{error:null,status:"success"}});case"USER.PROMOCODE.GET.ERROR":return jo(jo({},e),{},{getAuthenticatedUserActivePromocode:{error:t.payload,status:"failure"}});case"INDICATOR.DELETE":case"DRAW.DELETE":return e.selectedIndicatorReqId===t.payload.requestId?jo(jo({},e),{},{selectedIndicatorReqId:!1}):e;case"CHANGE_TIMEZONE":var v=parseInt(t.payload);return jo(jo({},e),{},{timeZone:v});case"CHANGE_PERFOMANCE_MODE":return ho.set(t.payload),window.location.reload(),jo(jo({},e),{},{isPerfomanceMode:t.payload});case"CHANGE_SOUND_ONOFF":return yo.set(t.payload),jo(jo({},e),{},{isSoundOnOff:t.payload});case"CHANGE_BALANCE_VISIBLE":return Eo.set(t.payload),jo(jo({},e),{},{isBalanceVisible:t.payload});case"CHANGE_OTCTOOLTIP_VISIBLE":return Oo.set(t.payload),jo(jo({},e),{},{isOTCTooltip:t.payload});case"CHART.UPDATE_BACKGROUND":return jo(jo({},e),{},{background:jo(jo({},e.background),t.payload)})}return e},favorites:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$o,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FAVORITES.NEW":return qo(qo({},e),{},{list:[].concat(zo(e.list),[t.payload])});case"FAVORITES.REMOVE":return qo(qo({},e),{},{list:e.list.filter((function(e){return e!==t.payload}))});case"FAVORITES.CHANGE":return qo(qo({},e),{},{list:zo(t.payload)})}return e},marketForecasts:ns,servers:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Os,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"S.P":var n=t.payload,i=n.server,r=n.time,a=e.serverList[i];return Es(Es({},e),{},{serverList:Es(Es({},e.serverList),{},As({},i,Es(Es({},a),{},{lastPing:r})))});case"S.PO":var o=t.payload,s=o.server,c=o.time,l=e.serverList[s];if(null==l.lastPing)return e;var u=c-l.lastPing,h=e.serverList[s].latency;return h>0&&u/h>5&&(u=h),Es(Es({},e),{},{serverList:Es(Es({},e.serverList),{},As({},s,Es(Es({},l),{},{latency:u})))});case"S.CHANGE":return st(e.lastConnectTime)?Es(Es({},e),{},{lastConnectTime:ot()}):e;case"S.CHANGED":var d=e.autoConnect;return e.connectedServer&&(d=!1),Es(Es({},e),{},{connectedServer:t.payload.value,lastConnectTime:null,autoConnect:d});case"S.A":var f=Boolean(t.payload.value),p={autoConnect:f};return f&&(p.connectedServer=null),Es(Es({},e),p)}return e},navigationSymbols:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ws,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CHART.SETTINGS":if(e.list.length)return e;var n=t.payload.charts,i=Object.values(n).map((function(e){return e.currentAsset.symbol}));return Hs(Hs({},e),{},{list:js([].concat(Fs(e.list),Fs(i)))});case"SYMBOL.LIST":var r=t.payload.assets.map((function(e){return e.symbol}));return Hs(Hs({},e),{},{list:Fs(e.list.filter((function(e){return-1!==r.indexOf(e)})))});case"NAVIGATION.NEW":return Hs(Hs({},e),{},{list:js([].concat(Fs(e.list),[t.payload]))});case"NAVIGATION.REMOVE":return Hs(Hs({},e),{},{list:e.list.filter((function(e){return e!==t.payload}))});case"NAVIGATION.CHANGE":var a=e.list,o=t.payload,s=o.prevSymbol,c=o.symbol,l=a.indexOf(s);return-1!==l&&(a[l]=c),Hs(Hs({},e),{},{list:Fs(a)});case"NAVIGATION.TAB_FIXED":var u=e.tabFixedList,h=u.filter((function(e){return e!==t.payload}));return h.length!==u.length?(Ls.del(t.payload),Hs(Hs({},e),{},{tabFixedList:Fs(h)})):(Ls.add(t.payload),Hs(Hs({},e),{},{tabFixedList:[].concat(Fs(u),[t.payload])}))}return e},signals:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Zs,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SIGNAL.LIST":return tc(t.payload);case"SIGNAL.CHANGE":return $s(e,t.payload.signals,t.payload.time);case"TIME":return ec(e,t.payload.time);case"SIGNAL.UNFOLLOW":return Zs}return e},leaderBoard:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ac,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LEADER_BOARD.LIST":return ic(ic({},e),{},{list:t.payload.list,position:t.payload.position,total:t.payload.total});case"LEADER_BOARD.UPDATE":return ic(ic({},e),{},{list:t.payload.list});case"LEADER_BOARD.POSITION":return ic(ic({},e),{},{position:t.payload.position})}return e},pendingTrade:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:lc,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"DEAL.SUCCESS_PENDING_LIST":return sc(sc({},e),{},{list:t.payload.reverse()});case"DEAL.SUCCESS_PENDING_CREATE":return e.list.unshift(t.payload),sc({},e);case"DEAL.SUCCESS_PENDING_OPENED":case"DEAL.FAILED_PENDING_OPENED":case"DEAL.SUCCESS_PENDING_CANCEL":return sc(sc({},e),{},{list:e.list.filter((function(e){return e.ticket!==t.payload.ticket}))});case"DEAL.RUN_PENDING_GET":return sc(sc({},e),{},{getAllPendingTrades:{error:null,status:"loading"}});case"DEAL.SUCCESS_PENDING_GET":return sc(sc({},e),{},{data:t.payload.data,pagination:t.payload.meta.pagination,getAllPendingTrades:{error:null,status:"success"}});case"DEAL.ERROR_PENDING_GET":return sc(sc({},e),{},{getAllPendingTrades:{error:t.payload,status:"failure"}})}return e},trades:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:uc,t=arguments.length>1?arguments[1]:void 0;return t.type,e},transactions:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:hc,t=arguments.length>1?arguments[1]:void 0;return t.type,e},userNotifications:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:mc,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"USER.SUCCESS_NOTIFICATIONS_GET":var n=t.payload.data;return 1!==t.payload.meta.pagination.current_page&&e.list.length&&(n=e.list.concat(n)),fc(fc({},e),{},{list:n,pagination:t.payload.meta.pagination,getAllUserNotifications:{error:null,status:"success"}});case"USER.RUN_NOTIFICATIONS_GET":return fc(fc({},e),{},{getAllUserNotifications:{error:null,status:"loading"}});case"USER.ERROR_NOTIFICATIONS_GET":return fc(fc({},e),{},{getAllUserNotifications:{error:t.payload,status:"failure"}});case"USER.SUCCESS_NOTIFICATIONS_READ":var i=e.list.map((function(e){return fc(fc({},e),{},{is_readed:!0})}));return fc(fc({},e),{},{list:i,readAllUserNotifications:{error:null,status:"success"},countUnreadedNotifications:0});case"USER.RUN_NOTIFICATIONS_READ":return fc(fc({},e),{},{readAllUserNotifications:{error:null,status:"loading"}});case"USER.ERROR_NOTIFICATIONS_READ":return fc(fc({},e),{},{readAllUserNotifications:{error:t.payload,status:"failure"}});case"USER.SUCCESS_NOTIFICATION_READ":var r=t.payload.data,a=e.list.map((function(e){return e.id===r.id?r:e}));return fc(fc({},e),{},{list:a,readUserNotificationById:{error:null,status:"success"},countUnreadedNotifications:e.countUnreadedNotifications>0?e.countUnreadedNotifications-1:0});case"USER.RUN_NOTIFICATION_READ":return fc(fc({},e),{},{readUserNotificationById:{error:null,status:"loading"}});case"USER.ERROR_NOTIFICATION_READ":return fc(fc({},e),{},{readUserNotificationById:{error:t.payload,status:"failure"}})}return e},user:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:bc,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"USER.PROFILE.BOOT_COMPLETE":return gc(gc({},e),{},{boot:!1});case"USER.PROFILE.SET":return gc(gc({},e),{},{data:t.payload.data});case"USER.PROFILE.GET.RUN":return gc(gc({},e),{},{getAuthenticatedUser:{error:null,status:"loading"}});case"USER.PROFILE.GET.SUCCESS":return gc(gc({},e),{},{getAuthenticatedUser:{error:null,status:"success"}});case"USER.PROFILE.GET.ERROR":return gc(gc({},e),{},{getAuthenticatedUser:{error:t.payload,status:"failure"}});case"USER.PROFILE.UPDATE.RUN":return gc(gc({},e),{},{updateAuthenticatedUser:{error:null,status:"loading"}});case"USER.PROFILE.UPDATE.SUCCESS":return gc(gc({},e),{},{updateAuthenticatedUser:{error:null,status:"success"}});case"USER.PROFILE.UPDATE.ERROR":return gc(gc({},e),{},{updateAuthenticatedUser:{error:t.payload,status:"failure"}});case"USER.PROFILE.DELETE.RUN":return gc(gc({},e),{},{deleteAuthenticatedUser:{error:null,status:"loading"}});case"USER.PROFILE.DELETE.SUCCESS":return gc(gc({},e),{},{data:null,deleteAuthenticatedUser:{error:null,status:"success"}});case"USER.PROFILE.DELETE.ERROR":return gc(gc({},e),{},{deleteAuthenticatedUser:{error:t.payload,status:"failure"}});case"USER.PROFILE.EMAIL.VERIFY.RUN":return gc(gc({},e),{},{verifyEmail:{message:null,status:"loading"}});case"USER.PROFILE.EMAIL.VERIFY.SUCCESS":return gc(gc({},e),{},{verifyEmail:{message:t.payload,status:"success"}});case"USER.PROFILE.EMAIL.VERIFY.ERROR":return gc(gc({},e),{},{verifyEmail:{message:t.payload,status:"failure"}});case"USER.PROFILE.AVATAR.UPDATE.RUN":return gc(gc({},e),{},{updateAuthenticatedUserAvatar:{error:null,status:"loading"}});case"USER.PROFILE.AVATAR.UPDATE.SUCCESS":return gc(gc({},e),{},{updateAuthenticatedUserAvatar:{error:null,status:"success"}});case"USER.PROFILE.AVATAR.UPDATE.ERROR":return gc(gc({},e),{},{updateAuthenticatedUserAvatar:{error:t.payload,status:"failure"}});case"USER.PROFILE.AVATAR.DELETE.RUN":return gc(gc({},e),{},{deleteAuthenticatedUserAvatar:{error:null,status:"loading"}});case"USER.PROFILE.AVATAR.DELETE.SUCCESS":var n=gc(gc({},e.data),{},{avatar:null});return gc(gc({},e),{},{deleteAuthenticatedUserAvatar:{error:null,status:"success"},data:n});case"USER.PROFILE.AVATAR.DELETE.ERROR":return gc(gc({},e),{},{deleteAuthenticatedUserAvatar:{error:t.payload,status:"failure"}});case"USER.PROFILE.DOCUMENTS.UPLOAD.RUN":var i=gc(gc({},e.documentsUpload),{},{error:null,status:"loading"});return gc(gc({},e),{},{documentsUpload:i});case"USER.PROFILE.DOCUMENTS.UPLOAD.DELETE":var r=e.documentsUpload.files.filter((function(e){return e.id!==t.payload})),a=gc(gc({},e.documentsUpload),{},{error:null,status:"success",files:r});return gc(gc({},e),{},{documentsUpload:a});case"USER.PROFILE.DOCUMENTS.UPLOAD.SUCCESS":var o=e.documentsUpload.files.concat(t.payload.data),s=gc(gc({},e.documentsUpload),{},{error:null,status:"success",files:o});return gc(gc({},e),{},{documentsUpload:s});case"USER.PROFILE.DOCUMENTS.UPLOAD.ERROR":var c=gc(gc({},e.documentsUpload),{},{error:t.payload,status:"failure"});return gc(gc({},e),{},{documentsUpload:c});case"USER.PROFILE.DOCUMENTS.SUBMIT.RUN":return gc(gc({},e),{},{documentsSubmit:{error:null,status:"loading"}});case"USER.PROFILE.DOCUMENTS.SUBMIT.SUCCESS":var l=gc(gc({},e.documentsUpload),{},{files:[]});return gc(gc({},e),{},{documentsSubmit:{error:null,status:"success"},documentsUpload:l});case"USER.PROFILE.DOCUMENTS.SUBMIT.ERROR":return gc(gc({},e),{},{documentsSubmit:{error:t.payload,status:"failure"}});case"USER.PROFILE.SELFIE.UPLOAD.RUN":return gc(gc({},e),{},{selfieUpload:{error:null,status:"loading"}});case"USER.PROFILE.SELFIE.UPLOAD.SUCCESS":return gc(gc({},e),{},{selfieUpload:{error:null,status:"success"}});case"USER.PROFILE.SELFIE.UPLOAD.ERROR":return gc(gc({},e),{},{selfieUpload:{error:t.payload,status:"failure"}});case"USER.PROFILE.OTP.ACTION.RUN":return gc(gc({},e),{},{otpAction:{error:null,status:"loading"}});case"USER.PROFILE.OTP.ACTION.SUCCESS":return gc(gc({},e),{},{otpAction:{error:null,status:"success"}});case"USER.PROFILE.OTP.ACTION.CLEAR":return gc(gc({},e),{},{otpAction:{error:null,status:null}});case"USER.PROFILE.OTP.ACTION.ERROR":return gc(gc({},e),{},{otpAction:{error:t.payload,status:"failure"}});case"USER.PROFILE.OTP.SETUP.RUN":return gc(gc({},e),{},{otpSetup:{error:null,status:"loading"}});case"USER.PROFILE.OTP.SETUP.SUCCESS":return gc(gc({},e),{},{otpSetup:{error:null,status:"success"}});case"USER.PROFILE.OTP.SETUP.ERROR":return gc(gc({},e),{},{otpSetup:{error:t.payload,status:"failure"}});case"USER.PROFILE.OTP.CODE.RUN":return gc(gc({},e),{},{otpCode:{error:null,status:"loading"}});case"USER.PROFILE.OTP.CODE.SUCCESS":return gc(gc({},e),{},{otpCode:{error:null,status:"success"}});case"USER.PROFILE.OTP.CODE.ERROR":return gc(gc({},e),{},{otpCode:{error:t.payload,status:"failure"}});case"USER.PROFILE.UPDATE_PASSWORD.RUN":return gc(gc({},e),{},{updateAuthenticatedUserPassword:{message:null,error:null,status:"loading"}});case"USER.PROFILE.UPDATE_PASSWORD.SUCCESS":return gc(gc({},e),{},{updateAuthenticatedUserPassword:{message:t.payload.message,error:null,status:"success"}});case"USER.PROFILE.UPDATE_PASSWORD.ERROR":return gc(gc({},e),{},{updateAuthenticatedUserPassword:{message:null,error:t.payload,status:"failure"}})}return e},cards:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_c,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"USER.CARDS.GET.RUN":return Ac(Ac({},e),{},{getAuthenticatedUserCards:{error:null,status:"loading"}});case"USER.CARDS.GET.SUCCESS":return Ac(Ac({},e),{},{data:t.payload.data,getAuthenticatedUserCards:{error:null,status:"success"}});case"USER.CARDS.GET.ERROR":return Ac(Ac({},e),{},{getAuthenticatedUserCards:{error:t.payload,status:"failure"}});case"USER.CARDS.IMAGE.UPLOAD.RUN":return Ac(Ac({},e),{},{cardsUpload:{error:null,status:"loading"}});case"USER.CARDS.IMAGE.UPLOAD.SUCCESS":return Ac(Ac({},e),{},{files:t.payload.data,cardsUpload:{error:null,status:"success"}});case"USER.CARDS.IMAGE.UPLOAD.ERROR":return Ac(Ac({},e),{},{cardsUpload:{error:t.payload,status:"failure"}});case"USER.CARDS.IMAGE.UPLOAD.DELETE":var n=e.files.filter((function(e){return e.id!==t.payload.id}));return Ac(Ac({},e),{},{files:n});case"USER.CARDS.IMAGE.SUBMIT.RUN":return Ac(Ac({},e),{},{cardsSubmit:{error:null,status:"loading"}});case"USER.CARDS.IMAGE.SUBMIT.SUCCESS":return Ac(Ac({},e),{},{files:[],cardsSubmit:{error:null,status:"success"},data:t.payload.data});case"USER.CARDS.IMAGE.SUBMIT.ERROR":return Ac(Ac({},e),{},{cardsSubmit:{error:t.payload,status:"failure"}});case"USER.CARDS.IMAGE.SUBMIT_NEW.RESET":return Ac(Ac({},e),{},{cardsSubmitNew:{error:null,status:"null"}});case"USER.CARDS.IMAGE.SUBMIT_NEW.RUN":return Ac(Ac({},e),{},{cardsSubmitNew:{error:null,status:"loading"}});case"USER.CARDS.IMAGE.SUBMIT_NEW.SUCCESS":return Ac(Ac({},e),{},{files:[],cardsSubmitNew:{error:null,status:"success"},data:t.payload.data});case"USER.CARDS.IMAGE.SUBMIT_NEW.ERROR":return Ac(Ac({},e),{},{cardsSubmitNew:{error:t.payload,status:"failure"}})}return e}}),Sc=i(299),Cc=function(e,t,n){var i=n.chartSettings.chartIds,r=Li.instance;switch(t.type){case"CHART.SETTINGS":case"CHART.LAYOUT":var a="CHART.SETTINGS"===t.type?Object.keys(t.payload.save):[];!function(e){var t=e.store,n=e.socket,i=e.oldChartIds,r=e.loadedChartIds,a=t.getState().chartSettings.chartIds;a.forEach((function(e){!r.includes(e)&&kc({store:t,socket:n,chartId:e})})),i.length>a.length&&i.forEach((function(e){!a.includes(e)&&n.deleteChart({chartId:e})}))}({store:e,socket:r,oldChartIds:i,loadedChartIds:a});break;case"DRAW.CHOOSE.SETTINGS.CHANGE":var o=e.getState().drawings,s=o.selectedIds,c=o.byId;s.forEach((function(e){r.editDrawing(c[e])}))}},Tc=function(e,t){var n=Li.instance;switch(t.type){case"CHART.CHANGE_TYPE":case"CHART.CHANGE_PERIOD":case"CHART.GRID_OPACITY":case"CHART.AUTO_SCROLLING":case"CHART.ONE_CLICK_TRADE":case"CHART.CHANGE_CHART_UP_COLOR":case"CHART.CHANGE_CHART_DOWN_COLOR":case"SYMBOL.CHANGE":case"DEAL.AMOUNT":case"DEAL.PERCENT_AMOUNT":case"D.TB":case"CHART.CHANGE_END":case"CHART.CHANGE_EXPIRATION_TIME":case"FO":case"FAO":case"CHART.CHANGE_INDICATORS_MINIMIZED":case"CHART.CHANGE_INDICATORS_SHOWING":case"CHART.CHANGE_SHORT_BET_ELEMENT":kc({store:e,socket:n,chartId:t.payload.chartId})}};function kc(e){var t=e.store,n=e.socket,i=e.chartId,r=t.getState().chartSettings.chartById[i];null!=r.currentAsset&&n.saveChart({chartId:i,settings:r})}var Ic=function(e){return function(t){return function(n){var i=e.getState(),r=t(n);return Tc(e,n),Cc(e,n,i),r}}},Pc=i(300),Nc=i.n(Pc);function xc(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function Rc(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?xc(Object(n),!0).forEach((function(t){Dc(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):xc(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Dc(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Mc(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],i=!0,r=!1,a=void 0;try{for(var o,s=e[Symbol.iterator]();!(i=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);i=!0);}catch(e){r=!0,a=e}finally{try{i||null==s.return||s.return()}finally{if(r)throw a}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Bc(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Bc(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Bc(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function Lc(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function jc(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var Fc=new(function(){function e(){var t=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"z";Lc(this,e),this.cookieName=n,this.data={},this.dataToSave=new Set;var i=Ka.cookies.getJSON(this.cookieName)||[];i.forEach((function(e){var n=Mc(e,5),i=n[0],r=n[1],a=n[2],o=n[3],s=n[4],c="".concat(i);void 0===t.data[c]?t.data[c]=Dc({},r,{count:a,value:o,secondWidth:s}):t.data[c][r]={count:a,value:o,secondWidth:s}})),this.throttledSaveToCookie=Ti()(this.saveToCookie,1e3)}var t,n,i;return t=e,(n=[{key:"getData",value:function(){return this.data}},{key:"saveToCookie",value:function(){Ka.cookies.setJSON(this.cookieName,Array.from(this.dataToSave))}},{key:"save",value:function(){var e=this;this.dataToSave.clear(),Object.keys(this.data).forEach((function(t){Object.keys(e.data[t]).forEach((function(n){e.dataToSave.add([t,parseInt(n,10),e.data[t][n].count,+Number(e.data[t][n].value).toFixed(2),+Number(e.data[t][n].secondWidth).toFixed(7)])}))})),this.throttledSaveToCookie()}},{key:"set",value:function(e){var t=e.chartId,n=e.count,i=e.value,r=e.chartType,a=e.secondWidth,o=this.data[t]||{};return this.data[t]=Rc(Rc({},o),{},Dc({},r,{count:n,value:i,secondWidth:a})),this.save(),!0}},{key:"getChartIdByChartName",value:function(e){return e.replace("","")}}])&&jc(t.prototype,n),i&&jc(t,i),e}());Object.freeze(Fc);var Gc=Fc,Vc=i(301),Hc=i.n(Vc),Uc=i(302),Wc=i.n(Uc),Yc=function(e){var t=Hc()(d("url")||"","/"),n=Wc()(e,"/");return"".concat(t,"/").concat(n)};function Qc(e){return{type:"PROMOCODE_NEW",payload:e}}function Xc(e){return{type:"SIDEBAR.OPEN",payload:e}}function zc(e){return{type:"SIDEPANEL.OPENED",payload:e}}function Kc(e){return{type:"INDICATOR.SELECTED.ID",payload:e}}function Jc(e){return{type:"USER.REFILL_DEMO",balance:e}}function qc(e){return{type:"USER.BONUS.UPDATE",payload:{bonus:e.bonus}}}function Zc(e){return{type:"CHANGE_BACKGROUND_GRAPH",payload:e}}function $c(e){return{type:"CHANGE_SOUND_ONOFF",payload:e}}function el(e){return function(t){t({type:"USER.PROMOCODE.GET.LOADING"}),fetch("/api/v1/promocode/"+e,{headers:{Accept:"application/json","Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){t({type:"USER.PROMOCODE.GET.SUCCESS",payload:e})})).catch((function(e){return t({type:"USER.PROMOCODE.GET.ERROR",payload:e.message})}))}}function tl(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],i=!0,r=!1,a=void 0;try{for(var o,s=e[Symbol.iterator]();!(i=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);i=!0);}catch(e){r=!0,a=e}finally{try{i||null==s.return||s.return()}finally{if(r)throw a}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return nl(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return nl(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function nl(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function il(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function rl(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var al=new(function(){function e(){var t=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"pc";il(this,e),this.cookieName=n,this.data={},this.dataToSave=new Set;var i=Ka.cookies.getJSON(this.cookieName)||[];i.forEach((function(e){var n=tl(e,3),i=n[0],r=n[1],a=n[2];t.data[i]={left:r,top:a}})),this.throttledSaveToCookie=Ti()(this.saveToCookie,1e3)}var t,n,i;return t=e,(n=[{key:"getData",value:function(){return this.data}},{key:"saveToCookie",value:function(){Ka.cookies.setJSON(this.cookieName,Array.from(this.dataToSave))}},{key:"save",value:function(){var e=this;this.dataToSave.clear(),Object.keys(this.data).forEach((function(t){e.dataToSave.add([t,parseInt(e.data[t].left),parseInt(e.data[t].top)])})),this.throttledSaveToCookie()}},{key:"set",value:function(e){var t=e.chartId,n=e.value,i=n.left,r=n.top;return this.data[t]={left:i,top:r},this.save(),!0}}])&&rl(t.prototype,n),i&&rl(t,i),e}());Object.freeze(al);var ol=al;function sl(e,t){return Math.sqrt(e*e+t*t)}function cl(e,t,n,i,r){return i+(r-i)*(e-t)/(n-t)}i(464);function ll(e){return{type:"MARKET/FOLLOW",payload:{forecast:e.forecast,chartId:e.chartId}}}function ul(e){return{type:"MARKET/UNFOLLOW",payload:{forecast:e.forecast,chartId:e.chartId}}}function hl(e){return{type:"CHART.CHANGE_END",payload:{chartId:e.chartId,amount:e.amount}}}function dl(e){return{type:"CHART.CHANGE_EXPIRATION_TIME",payload:{chartId:e.chartId,amount:e.amount}}}function fl(e){return{type:"FO",payload:{chartId:e.chartId,value:e.value}}}function pl(e){return{type:"CHART.CHANGE_INDICATORS_MINIMIZED",payload:{chartId:e.chartId,value:e.value}}}function ml(e){return{type:"FAO",payload:{chartId:e.chartId,value:e.value}}}function yl(e){return{type:"CHART.UPDATE_BACKGROUND",payload:e}}function gl(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function vl(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?gl(Object(n),!0).forEach((function(t){bl(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):gl(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function bl(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var El,Al=function(e){var t=e.store,n=e.action,i=e.socket,r=t.getState(),a=n.payload.assets,o=vl({},r.chartSettings.chartById);r.chartSettings.chartIds.forEach((function(e){if(r.chartSettings.chartById[e].isVisible){var t=r.chartSettings.chartById[e],n=t.currentAsset,s=t.chartPeriod,c=a.find((function(e){return e.symbol===n.symbol}));if(c&&c.active)o[e].currentAsset.obj=c;else{var l=Tl({assets:a,symbol:n.symbol,socket:i,chartPeriod:s});o[e].currentAsset.symbol=l,o[e].currentAsset.obj=a.find((function(e){return e.symbol===l}))||{}}}})),n.payload.assets=a,n.payload.currentTime=r.global.currentTime,n.payload.charts=o},wl=function(e){var t=e.assets,n=t.symbols,i=t.assetBySymbol;return n.map((function(e){return i[e]}))},_l=function(e){var t,n=e.store,i=e.action,r=e.socket,a=Object.keys(i.payload.save),o=n.getState(),s=wl(o),c={};if(a.length>0)a.forEach((function(e){c[e]=us()({},vl(vl({},$i),{},{chartId:e}),i.payload.save[e])}));else{c.graph=vl(vl({},$i),{},{chartId:"graph"}),c.graph.currentAsset.symbol=(t=["AUDCAD","AUDCHF","AUDJPY","AUDUSD","CADJPY","CHFJPY","EURCHF","EURJPY","GBPJPY","GBPUSD","NZDJPY","NZDUSD","USDCAD","USDJPY"])[Ie(0,t.length-1)]}var l=o.global.isMobile,u=0,h=Object.keys(c);h.forEach((function(e){var t=c[e],n=t.currentAsset,i=t.isVisible,a=t.chartPeriod,o=n.symbol,h=i?Tl({assets:s,symbol:o,socket:r,chartPeriod:a}):o;c[e].currentAsset.symbol=h,c[e].currentAsset.obj=s.find((function(e){return e.symbol===h}))||{},c[e].isVisible=!(l&&u>0)&&i,i&&u++,Rs.add(o)})),i.payload.charts=c,i.payload.isMobile=l;var d=Object.keys(c).filter((function(e){return c[e].isVisible}));d.length||(c[h[0]].isVisible=!0,d=[h[0]]);var f=Ra[o.global.windowLayout];o.global.isMobile?i.payload.windowLayout=xa:i.payload.windowLayout=f!==d.length?Da(d.length,xa):o.global.windowLayout},Ol=function(e){var t=e.store,n=e.action,i=e.socket,r=n.payload.windowLayout,a=t.getState(),o=a.global.windowLayout;if(r!==o){var s=Ra[r],c=Ra[o],l={},u=a.chartSettings.chartIds,h=[];if(s>c){var d=null,f=0;u.forEach((function(e){var t=a.chartSettings.chartById[e];t.isVisible?(d=t,l[e]=vl({},t),f++):h.push(t)})),h.forEach((function(e){var t=f<s;l[e.chartId]=vl(vl({},e),{},{isVisible:t}),t&&f++}));for(var p=Object.keys(l),m=p.length,y=0;y<s-m;y++){var g=Cl(Ui,p);l[g]=vl(vl({},Nc()(d)),{},{chartId:g,isVisible:!0,indicators:[]}),p.push(g)}}else if(s<c){var v=0;u.forEach((function(e){var t=a.chartSettings.chartById[e];t.isVisible&&v<s?(l[e]=vl({},t),v++):h.push(t)})),h.forEach((function(e){return l[e.chartId]=vl(vl({},e),{},{isVisible:!1})}))}var b=Object.keys(l),E=wl(a);b.filter((function(e){return l[e].isVisible})).forEach((function(e){var t=l[e],n=t.currentAsset,r=t.chartPeriod,a=n.symbol,o=Tl({assets:E,symbol:a,socket:i,chartPeriod:r});l[e].currentAsset.symbol=o,l[e].currentAsset.obj=E.find((function(e){return e.symbol===o}))||{}})),n.payload.charts=l,Sl(n.payload.windowLayout)}else n.payload.charts=a.chartSettings.chartById},Sl=function(e){Ka.cookies.set("windowLayout",e.toString())},Cl=function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=null,i=0;i<e.length;i++)if(!t.includes(e[i])){n=e[i];break}return n},Tl=function(e){var t=e.symbol,n=e.socket,i=e.chartPeriod,r=e.assets;if(!t)return kl({symbol:t,socket:n,assets:r,chartPeriod:i});var a=r.find((function(e){return e.symbol===t}));return a&&a.is_otc?Pl({symbol:t,assetObj:a,socket:n,assets:r,chartPeriod:i}):a&&a.active?(n.emitChangeSymbol({asset:t,chartPeriod:i}),t):kl({symbol:t,assetObj:a,socket:n,assets:r,chartPeriod:i})},kl=function(e){var t=e.symbol,n=e.assetObj,i=e.socket,r=e.assets,a=e.chartPeriod;if(!t||!n)return Il({socket:i,assets:r,chartPeriod:a});var o=n[n.is_otc?"real_id":"otc_id"],s=r.find((function(e){return e.id===o}));return s&&s.active?(i.emitChangeSymbol({asset:s.symbol,chartPeriod:a}),s.symbol):Il({socket:i,assets:r,chartPeriod:a})},Il=function(e){var t=e.socket,n=e.chartPeriod,i=e.assets,r=Nl(i);return t.emitChangeSymbol({asset:r,chartPeriod:n}),r},Pl=function(e){var t=e.symbol,n=e.assetObj,i=e.socket,r=e.assets,a=e.chartPeriod;if(!t)return Il({socket:i,assets:r,chartPeriod:a});var o=n.real_id,s=r.find((function(e){return e.id===o}));return s&&s.active?(i.emitChangeSymbol({asset:s.symbol,chartPeriod:a}),s.symbol):n&&n.active?(i.emitChangeSymbol({asset:t,chartPeriod:a}),t):Il({socket:i,assets:r,chartPeriod:a})},Nl=function(e){for(var t=0;t<e.length;t++){var n=e[t];if(n.active&&"#AAPL_otc"!==n.symbol)return n.symbol}return null},xl=function(e){return function(t){return function(n){var i=Li.instance;switch(n.type){case"USER.REFILL_DEMO":i.refillDemo(n.balance);break;case"CHART.SETTINGS":_l({store:e,action:n,socket:i});break;case"CHART.LAYOUT":Ol({store:e,action:n,socket:i});break;case"DEAL.CANCEL":i.cancelOrder(n.payload.ticket);break;case"DEAL.ROLLOVER":i.rolloverOrder(n.payload.ticket);break;case"DEAL.PENDING_CANCEL":i.pendingCancel(n.payload.ticket);break;case"DEAL.DOUBLE":i.doubleOrder(n.payload.ticket);break;case"DEAL.OPEN":var r=n.payload.chartId,o=e.getState(),s=o.global,c=s.balance,l=s.onlyFastAllowed,u=o.chartSettings.chartById[r],h=u.isFastAmountOption?parseFloat(cl(u.dealPercentValue,0,100,0,c).toFixed(2)):u.dealValue,d=u.currentAsset.obj.is_otc?u.isFastOption:l||!l&&u.isFastOption;i.openOrder({isFastOption:d,time:d?u.currentExpirationTime:u.timePeriod,asset:u.currentAsset.symbol,amount:h,action:n.payload.action});break;case"HISTORY.LOADED":var f=e.getState();n.payload.currentTime=e.getState().global.currentTime,n.payload.assets=wl(f);break;case"SYMBOL.LIST":var p=e.getState().global;n.payload.currentTime=p.currentTime,Al({store:e,action:n,socket:i,balance:n.payload.balance});break;case"USER.BALANCE":var m=e.getState(),y=m.global;n.payload.assets=wl(m),n.payload.currentTime=y.currentTime,Al({store:e,action:n,socket:i,balance:y.isDemo?y.liveBalance:n.payload.balance});break;case"USER.BONUS.REFRESH":a.a.ajax({method:"get",url:Yc("bonus/data"),dataType:"json",success:function(t){e.dispatch(qc({bonus:t}))}});break;case"USER.BONUS.DECLINE":var g=n.payload.setProgress;a.a.ajax({method:"get",url:Yc("bonus/cancel"),dataType:"json",beforeSend:function(){g(!0)},complete:function(){g(!1)},success:function(t){var n=e.getState().global.bonus,i=!!t.error;e.dispatch(qc({bonus:vl(vl({},n),{},{declineSuccess:!i,declineError:i})}))}});break;case"USER.EXCHANGE.CURRENCY":var v=n.payload,b=v.setProgress,E=v.newCurrency,A=v.newBalance;a.a.ajax({method:"post",url:Yc("account/convert"),dataType:"json",data:{newCurrency:E,newBalance:A},beforeSend:function(){b(!0)},success:function(e){e.error?b(!1,e.message):window.location.reload()},error:function(){b(!1)}});break;case"SYMBOL.CHANGE":var w=e.getState();i.emitChangeSymbol({asset:n.payload.symbol,chartPeriod:w.chartSettings.chartById[n.payload.chartId].chartPeriod}),n.payload.assets=wl(w),n.payload.currentTime=w.global.currentTime;break;case"CHANGE_SYMBOL.START":var _=e.getState(),O=_.chartSettings.visibleChartIds,S=_.assets.assetBySymbol[n.payload.symbol],C=1===O.length&&S&&S.active;n.payload.isValidChange=C,n.payload.chartId=O[0],n.payload.assets=wl(_),n.payload.currentTime=_.global.currentTime,C&&i.emitChangeSymbol({asset:n.payload.symbol,chartPeriod:_.chartSettings.chartById[n.payload.chartId].chartPeriod});break;case"SYMBOL.CHANGE.ACTIVE":var T=e.getState(),k=wl(T),I=n.payload,P=I.chartId,N=I.symbol,x=T.chartSettings.chartById[P].chartPeriod;n.payload.symbol=Tl({assets:k,symbol:N,chartPeriod:x,socket:i}),n.payload.assets=wl(T),n.payload.currentTime=T.global.currentTime;break;case"MARKET/FOLLOW":var R=n.payload.chartId,D=e.getState().chartSettings.chartById[R].currentAsset.symbol;i.subscribeMarketForecast(D);break;case"MARKET/UNFOLLOW":var M=n.payload.chartId,B=e.getState().chartSettings.chartById[M].currentAsset.symbol;i.unsubscribeMarketForecast(B);break;case"ZOOM.CHANGE":Gc.set(n.payload);break;case"CHART.CHANGE_PANEL_COORDINATES":ol.set(n.payload);break;case"CHART.UPLOAD_BACKGROUND":var L=n.payload,j=L.files,F=L.success,G=L.error,V=L.always,H=e.getState().global.background,U=a()("<form>");U.fileupload({dropZone:U,url:Yc("settings/background/upload"),dataType:"json"}),e.dispatch(yl({name:j[0].name})),U.fileupload("send",{files:j}).always((function(t){t.done&&t.fail||t.error?(e.dispatch(yl({name:H.name})),G&&G(t)):(e.dispatch(yl({file:t.file})),F&&F(t)),V&&V(t)}));break;case"CHART.RESET_BACKGROUND":var W=n.payload,Y=W.success,Q=W.error,X=W.always,z=e.getState().global.background;e.dispatch(yl({name:null,file:null})),a.a.ajax({method:"post",url:Yc("settings/background/upload"),dataType:"json",data:{reset:!0},complete:function(t){t.always((function(t){t.done&&t.fail||t.error?(e.dispatch(yl({name:z.name,file:z.file})),Q&&Q(t)):Y&&Y(t),X&&X(t)}))}});break;case"CHART.UPDATE_BACKGROUND":var K=n.payload,J=K.opacity;K.save&&a.a.ajax({method:"post",url:Yc("settings/background/update"),dataType:"json",data:{opacity:J}})}return t(n)}}},Rl=function(e){return function(t){return function(n){var i=Li.instance;switch(n.type){case"LEADER_BOARD.FOLLOW":i.subscribeLeaderBoard();break;case"LEADER_BOARD.UNFOLLOW":i.unSubscribeLeaderBoard();break;case"SIGNAL.FOLLOW":i.subscribeSignals();break;case"SIGNAL.UNFOLLOW":i.unSubscribeSignals();break;case"SYMBOL.LIST":Rs.filter(n.payload.assets);break;case"NAVIGATION.NEW":Rs.add(n.payload);break;case"NAVIGATION.REMOVE":Rs.del(n.payload);break;case"NAVIGATION.CHANGE":Rs.change(n.payload);break;case"FAVORITES.NEW":Xo.add(n.payload);break;case"FAVORITES.REMOVE":Xo.del(n.payload);break;case"FAVORITES.CHANGE":Xo.change(n.payload);break;case"S.CHANGE":var r=e.getState().servers;st(r.lastConnectTime)&&i.connectTo(n.payload.value);break;case"S.CHANGED":e.getState().servers.connectedServer;break;case"S.A":n.payload.value&&i.connectTo();break;case"FO":var o=document.body.classList;n.payload?o.contains("is-quick")||o.add("is-quick"):o.remove("is-quick");break;case"SYMBOLS.SORT.CHANGE":$a.change(n.payload.sortType);break;case"PROMOCODE_NEW":a.a.ajax({method:"get",url:Yc("promocode/".concat(n.payload.url,"/apply")),data:n.payload.data,dataType:"json",success:function(e){n.payload.setError(e)}});break;case"CHANGE_TIMEZONE":var s=e.getState().global;n.payload!=s.timeZone&&a.a.ajax({method:"post",url:Yc("account"),data:{"form-id":"time-offset",time_offset:n.payload},dataType:"json"})}return t(n)}}},Dl=function(){return function(e){return function(t){var n=Li.instance;switch(t.type){case"DEAL.OPENED.LIST":t.payload.deals.map((function(e){return e.asset})).forEach((function(e){return n.subscribeAsset(e)}))}return e(t)}}},Ml=function(){return function(e){return function(t){var n=Li.instance;switch(t.type){case"DEAL.SUCCESS_PENDING_LIST":t.payload.map((function(e){return e.symbol})).forEach((function(e){return n.subscribeAsset(e)}));break;case"DEAL.SUCCESS_PENDING_CREATE":[t.payload].forEach((function(e){return n.subscribeAsset(e)}))}return e(t)}}},Bl=i(11);function Ll(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var jl=w.CHART.INDICATORS.INDICATORS_LIST,Fl={SMA:"SMA",WMA:"WMA",EMA:"EMA",SMMA:"SMMA",TMA:"TMA"},Gl=Object.keys(Fl).map((function(e){return{value:e,label:Fl[e]}})),Vl=["#E05507","#E29500","#E2CC00","#35CB01","#00DFD2","#0E8BFF","#6675FF","#B366FF","#D04AC3","#D13939"],Hl={W1:1,W2:2,W3:3,W4:4,W5:5,W6:6,W7:7,W8:8,W9:9,W10:10},Ul={close:"close",open:"open",high:"high",low:"low",hl2:"hl2",hlc3:"hlc3",ohlc4:"ohlc4",hlcc4:"hlcc4"},Wl=Object.keys(Ul).map((function(e){return{value:e,label:Ul[e]}})),Yl={LINE:"line",HISTOGRAM:"histogram"},Ql={lineWidth:{in:Object.values(Hl)},color:{in:Vl},opacity:{min:0,max:100},show:{in:[!0,!1]},ma:{in:Object.values(Fl)},source:{in:Object.values(Ul)},figure:{in:Object.values(Yl)},level:{min:1,max:100}},Xl=(Ll(El={},jl.ADX,{isBottom:!0,priority:0,config:{isMinimized:!1,isVisibility:!0,lines:{adx:{lineWidth:Hl.W1,color:"#0faf5a"},plusDI:{lineWidth:Hl.W1,color:"#db4635"},minusDI:{lineWidth:Hl.W1,color:"#D13939"}},adxSmoothing:14,diLength:14,yShiftAddingValue:0},rules:{adxSmoothing:{min:1,max:100},diLength:{min:1,max:100}},category:"Oscillators"}),Ll(El,jl.ALLIGATOR,{isBottom:!1,config:{lines:{lips:{lineWidth:Hl.W1,color:"#0faf5a"},teeth:{lineWidth:Hl.W1,color:"#db4635"},jaws:{lineWidth:Hl.W1,color:"#D13939"}},lips:{period:5,shift:3},teeth:{period:8,shift:5},jaws:{period:13,shift:8}},rules:{period:{min:1,max:100},shift:{min:1,max:100}},category:"Trend indicators"}),Ll(El,jl.AROON,{isBottom:!0,priority:0,config:{isMinimized:!1,isVisibility:!0,lines:{up:{lineWidth:Hl.W1,color:"#0faf5a"},down:{lineWidth:Hl.W1,color:"#D13939"}},period:25,yShiftAddingValue:0},rules:{period:{min:1,max:100}},category:"Oscillators"}),Ll(El,jl.AWESOME_OSCILLATOR,{isBottom:!0,priority:0,config:{isMinimized:!1,isVisibility:!0,lines:{},priority:0,periodShort:5,periodLong:34,opacity:100,yShiftAddingValue:0},rules:{periodShort:{min:1,max:100},periodLong:{min:1,max:100},opacity:{min:0,max:100,step:10},height:{}},category:"Oscillators"}),Ll(El,jl.BEARS_POWER,{isBottom:!0,priority:0,config:{isMinimized:!1,isVisibility:!0,lines:{main:{color:"#0faf5a",figure:Yl.LINE,lineWidth:Hl.W1}},period:13,yShiftAddingValue:0},rules:{period:{min:1,max:100}},category:"Oscillators"}),Ll(El,jl.BOLLINGER_BANDS,{isBottom:!1,config:{lines:{top:{lineWidth:Hl.W1,color:"#0faf5a",opacity:60},middle:{lineWidth:Hl.W1,color:"#db4635",opacity:60},bottom:{lineWidth:Hl.W1,color:"#D13939",opacity:60},background:{color:"#E2CC00",opacity:10}},period:5,deviation:1},rules:{period:{min:5,max:250},deviation:{min:1,max:50,precision:2}},category:"Trend indicators"}),Ll(El,jl.BULLS_POWER,{isBottom:!0,priority:0,config:{isMinimized:!1,isVisibility:!0,lines:{main:{lineWidth:Hl.W1,color:"#db4635",figure:Yl.LINE}},period:13,yShiftAddingValue:0},rules:{period:{min:1,max:100}},category:"Oscillators"}),Ll(El,jl.CCI,{isBottom:!0,priority:0,config:{isMinimized:!1,isVisibility:!0,lines:{main:{lineWidth:Hl.W1,color:"#db4635"},background:{color:"#D13939",opacity:8}},period:20,yShiftAddingValue:0},rules:{period:{min:1,max:200}},category:"Oscillators"}),Ll(El,jl.DEMARKER,{isBottom:!0,priority:0,config:{isMinimized:!1,isVisibility:!0,lines:{overbought:{lineWidth:Hl.W1,color:"#0faf5a",level:70,opacity:60},oversold:{lineWidth:Hl.W1,color:"#db4635",level:30,opacity:60},main:{lineWidth:Hl.W1,color:"#D13939",figure:Yl.LINE}},period:14,yShiftAddingValue:0},rules:{period:{min:1,max:100}},category:"Oscillators"}),Ll(El,jl.ENVELOPE,{isBottom:!1,config:{lines:{top:{lineWidth:Hl.W1,color:"#0faf5a"},middle:{lineWidth:Hl.W1,color:"#db4635"},bottom:{lineWidth:Hl.W1,color:"#D13939"},background:{color:"#00DFD2",opacity:10}},period:14,deviation:.01,ma:Fl.SMA,source:Ul.close},rules:{period:{min:1,max:200},deviation:{min:.01,max:100,precision:2}},category:"Trend indicators"}),Ll(El,jl.FRACTAL,{isBottom:!1,config:{lines:{up:{color:"#0faf5a"},down:{color:"#D13939"}}},category:"Trend indicators"}),Ll(El,jl.ICHIMOKU_CLOUD,{isBottom:!1,config:{lines:{tenkanSen:{lineWidth:Hl.W1,color:"#0faf5a"},kijunSen:{lineWidth:Hl.W1,color:"#db4635"},chikouSpan:{lineWidth:Hl.W1,color:"#D13939"},senkouSpanA:{color:"#E2CC00",opacity:10,lineWidth:Hl.W1},senkouSpanB:{color:"#00DFD2",opacity:10,lineWidth:Hl.W1}},tenkanSen:9,kijunSen:26,senkouSpanB:52},rules:{tenkanSen:{min:1,max:99},kijunSen:{min:1,max:200},senkouSpanB:{min:1,max:200}},category:"Trend indicators"}),Ll(El,jl.KELTNER_CHANNEL,{isBottom:!1,config:{lines:{top:{lineWidth:Hl.W1,color:"#0faf5a"},middle:{lineWidth:Hl.W1,color:"#db4635"},bottom:{lineWidth:Hl.W1,color:"#D13939"},background:{color:"#E2CC00",opacity:10}},emaPeriod:20,atrPeriod:10,multiplier:1},rules:{emaPeriod:{min:1,max:100},atrPeriod:{min:1,max:100},multiplier:{min:1,max:5}},category:"Trend indicators"}),Ll(El,jl.DONCHIAN_CHANNEL,{isBottom:!1,config:{lines:{top:{lineWidth:Hl.W1,color:"#0faf5a",opacity:60},middle:{lineWidth:Hl.W1,color:"#db4635",opacity:60},bottom:{lineWidth:Hl.W1,color:"#D13939",opacity:60},background:{color:"#E2CC00",opacity:10}},period:20},rules:{period:{min:1,max:100}},category:"Trend indicators"}),Ll(El,jl.SUPERTREND,{isBottom:!1,config:{lines:{upper:{lineWidth:Hl.W1,color:"#0faf5a",opacity:60},lower:{lineWidth:Hl.W1,color:"#db4635",opacity:60}},period:10,multiplier:3},rules:{period:{min:1,max:100},multiplier:{min:1,max:100}},category:"Trend indicators"}),Ll(El,jl.ATR,{isBottom:!0,priority:0,config:{isMinimized:!1,isVisibility:!0,lines:{main:{lineWidth:Hl.W1,color:"#0faf5a",opacity:60}},period:10,yShiftAddingValue:0},rules:{period:{min:1,max:100}},category:"Oscillators"}),Ll(El,jl.MACD,{isBottom:!0,priority:0,config:{isMinimized:!1,isVisibility:!0,lines:{histogram:{colors:{up:{color:"#0faf5a",opacity:50},down:{color:"#D13939",opacity:50}}},macd:{lineWidth:Hl.W1,color:"#0faf5a"},signal:{lineWidth:Hl.W1,color:"#db4635"}},fastPeriod:12,slowPeriod:26,signalPeriod:9,yShiftAddingValue:0},rules:{fastPeriod:{min:1,max:100},slowPeriod:{min:1,max:100},signalPeriod:{min:1,max:100}},category:"Oscillators"}),Ll(El,jl.MOMENTUM,{isBottom:!0,priority:0,config:{isMinimized:!1,isVisibility:!0,lines:{main:{lineWidth:Hl.W1,color:"#D13939"}},period:10,source:Ul.close,yShiftAddingValue:0},rules:{period:{min:1,max:100}},category:"Oscillators"}),Ll(El,jl.MOVING_AVERAGE,{isBottom:!1,config:{lines:{main:{lineWidth:Hl.W1,color:"#db4635"}},ma:Fl.SMA,period:10},rules:{period:{min:1,max:250}},category:"Trend indicators"}),Ll(El,jl.PARABOLIC_SAR,{isBottom:!1,config:{lines:{main:{lineWidth:Hl.W1,color:"#0faf5a"}},acceleration:.02,accelerationMax:.2},rules:{acceleration:{min:.01,max:10,precision:2},accelerationMax:{min:.1,max:10,precision:2}},category:"Trend indicators"}),Ll(El,jl.RSI,{isBottom:!0,priority:0,config:{isMinimized:!1,isVisibility:!0,lines:{overbought:{lineWidth:Hl.W1,color:"#db4635",level:70,opacity:60},oversold:{lineWidth:Hl.W1,color:"#D13939",level:30,opacity:60},main:{lineWidth:Hl.W1,color:"#0faf5a"}},period:14,overboughtLevel:70,oversoldLevel:30,yShiftAddingValue:0},rules:{period:{min:1,max:100},overboughtLevel:{min:0,max:100},oversoldLevel:{min:0,max:100}},category:"Oscillators"}),Ll(El,jl.RATE_OF_CHANGE,{isBottom:!0,priority:0,config:{isMinimized:!1,isVisibility:!0,lines:{main:{lineWidth:Hl.W1,color:"#db4635"}},period:14,yShiftAddingValue:0},rules:{period:{min:1,max:100}},category:"Oscillators"}),Ll(El,jl.STOCHASTIC_OSCILLATOR,{isBottom:!0,priority:0,config:{isMinimized:!1,isVisibility:!0,lines:{kPeriod:{lineWidth:Hl.W1,color:"#0faf5a"},dPeriod:{lineWidth:Hl.W1,color:"#db4635"},overbought:{lineWidth:Hl.W1,color:"#D13939",opacity:60},oversold:{lineWidth:Hl.W1,color:"#00DFD2",opacity:60}},kPeriod:14,dPeriod:3,mPeriod:3,ma:Fl.SMA,yShiftAddingValue:0,overboughtLevel:70,oversoldLevel:30},rules:{kPeriod:{min:1,max:100},dPeriod:{min:1,max:100},mPeriod:{min:1,max:100},overboughtLevel:{min:0,max:100},oversoldLevel:{min:0,max:100}},category:"Oscillators"}),Ll(El,jl.SCHAFF_TREND_CYCLE,{isBottom:!0,priority:0,config:{isMinimized:!1,isVisibility:!0,lines:{upper:{lineWidth:Hl.W1,color:"#0faf5a",opacity:60},lower:{lineWidth:Hl.W1,color:"#db4635",opacity:60}},length:10,fastLength:25,slowLength:50,factorUpper:.75,factorLower:.25,yShiftAddingValue:0},rules:{length:{min:1,max:100},fastLength:{min:1,max:100},slowLength:{min:1,max:100},factorUpper:{min:0,max:1,precision:2,step:.1},factorLower:{min:0,max:1,precision:2,step:.1}},category:"Oscillators"}),Ll(El,jl.VORTEX,{isBottom:!0,priority:0,config:{isMinimized:!1,isVisibility:!0,lines:{viPlus:{lineWidth:Hl.W1,color:"#db4635"},viMinus:{lineWidth:Hl.W1,color:"#D13939"}},period:14,yShiftAddingValue:0},rules:{period:{min:1,max:100}},category:"Oscillators"}),Ll(El,jl.VOLUME_OSCILLATOR,{isBottom:!0,priority:0,config:{isMinimized:!1,isVisibility:!0,lines:{},opacity:100,yShiftAddingValue:0},rules:{opacity:{min:0,max:100,step:10}},category:"Oscillators"}),Ll(El,jl.WILLIAMS_R,{isBottom:!0,priority:0,config:{isMinimized:!1,isVisibility:!0,lines:{main:{lineWidth:Hl.W1,color:"#0faf5a",figure:Yl.LINE},upperBand:{lineWidth:Hl.W1,color:"#db4635",level:-20,opacity:60},lowerBand:{lineWidth:Hl.W1,color:"#D13939",level:-80,opacity:60}},period:14,yShiftAddingValue:0},rules:{period:{min:1,max:100},level:{min:-100,max:0}},category:"Oscillators"}),Ll(El,jl.WEIS_WAVE_VOLUME_OSCILLATOR,{isBottom:!0,priority:0,config:{isMinimized:!1,isVisibility:!0,lines:{},length:2,opacity:100,yShiftAddingValue:0},rules:{length:{min:1,max:10,step:1},opacity:{min:0,max:100,step:10}},category:"Oscillators"}),Ll(El,jl.ZIG_ZAG,{isBottom:!1,config:{lines:{main:{lineWidth:Hl.W2,color:"#D13939"}},deviation:5,depth:12,backstep:3},rules:{deviation:{min:1,max:100},depth:{min:1,max:100},backstep:{min:1,max:100}},category:"Trend indicators"}),El),zl=Object.keys(Xl).filter((function(e){return Xl[e].isBottom})),Kl=function(e){return zl.includes(e)},Jl=function(e){return e.indicators.byId},ql=function(e){return e.drawings.byId},Zl=function(e){return e.indicators.allIds},$l=function(e){return e.drawings.allIds},eu=function(e){return e.drawings.selectedIds},tu=function(e,t){var n=t.chartId;return e.chartSettings.chartById[n].currentAsset.obj.id},nu=function(e){return Object(Bl.a)([Jl,Zl],(function(t,n){if(n.includes(e))return t[e];for(var i=0;i<n.length;i++){var r=n[i];if(t[r].requestId===e)return t[r]}}))},iu=function(e){return Object(Bl.a)([Jl,Zl],(function(t,n){return n||(n=[]),n.filter((function(n){return t[n].chartId===e})).map((function(e){return t[e]}))}))},ru=function(e){return Object(Bl.a)([Jl,Zl],(function(t,n){return n.filter((function(n){var i=t[n],r=i.chartId,a=i.type;return r===e&&Kl(a)})).map((function(e){return t[e]}))}))},au=function(e){return Object(Bl.a)([ql,$l,tu],(function(t,n,i){return n.filter((function(n){var r=t[n],a=r.chartId,o=r.assetId;return a===e&&i===o})).map((function(e){return t[e]}))}))},ou=function(e){return Object(Bl.a)([ql,eu,tu],(function(t,n,i){return n.filter((function(n){var r=t[n],a=r.chartId,o=r.assetId;return a===e&&i===o})).map((function(e){return t[e]}))}))};function su(e,t){if(null==e)return{};var n,i,r=function(e,t){if(null==e)return{};var n,i,r={},a=Object.keys(e);for(i=0;i<a.length;i++)n=a[i],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function cu(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function lu(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var uu=function(e){return function(t){return function(n){var i,r=Li.instance,a=e.getState();switch(n.type){case"DRAW.CHOOSE.DELETE":r.deleteDrawingsWithIds(a.drawings.selectedIds);break;case"DRAW.ADD.V2":n.payload=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?cu(Object(n),!0).forEach((function(t){lu(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):cu(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},n.payload);var o=n.payload,s=o.assetId,c=o.chartId,l=o.requestId,u=o.type,h=o.points,d=su(o,["assetId","chartId","requestId","type","points"]);d.order=a.drawings.allIds.length;var f={assetId:s,chartId:c,requestId:l,type:u,points:h,settings:d};r.addDrawing(f);break;case"INDICATOR.ADD.V2":r.addIndicator(n.payload);break;case"INDICATOR.DELETE":var p=n.payload.id,m=nu(p)(a).requestId;n.payload.requestId=m,r.deleteIndicator(n.payload);break;case"CHART.INDICATOR.DELETE":r.deleteIndicators(n.payload);break;case"DRAW.DELETE":var y=n.payload.id,g=(i=y,Object(Bl.a)([ql,$l],(function(e,t){if(t.includes(i))return e[i];for(var n=0;n<t.length;n++){var r=t[n];if(e[r].requestId===i)return e[r]}})))(a),v=g.id,b=g.chartId,E=g.requestId;n.payload.requestId=E,y!==v&&(n.payload.id=v),r.deleteDrawing({drawingId:v,chartId:b});break;case"DRAW.LIST.DELETE":r.deleteDrawings(n.payload);break;case"DRAW.POINT.CHANGE":r.updateDrawingPoint(n.payload);break;case"DRAW.POINTS.CHANGE":r.updateDrawingPoints(n.payload);break;case"INDICATOR.FOLLOW":r.favoriteIndicator(n.payload);break;case"INDICATOR.UNFOLLOW":r.unfavoriteIndicator(n.payload);break;case"INDICATOR.VIEW.CHANGE":r.changeIndicatorVisibility(n.payload);break;case"INDICATOR.CHANGE":var A=n.payload.shouldUpload;void 0!==A&&A&&r.editIndicator(n.payload);break;case"INDICATOR.LIST.DELETE":var w=n.payload,_=w.assetId,O=w.chartId;r.deleteDrawings({assetId:_,chartId:O}),r.deleteIndicators(O);break;case"DRAW.CHANGE":var S=n.payload.shouldUpload;void 0!==S&&S&&r.editDrawing(n.payload);break;case"DRAW.LOCK":var C=n.payload,T=C.ids,k=C.value;r.lockDrawings(T,k)}return t(n)}}},hu=function(){return function(e){return function(t){var n=t.payload;switch(t.type){case"CHANGE_SOUND_ONOFF":Bo.mute(!n);break;case"DEAL.OPENED":Bo.play(No);break;case"DEAL.OPEN_FAILED":Bo.play(xo);break;case"DEAL.CLOSED":var i=n.deals[0],r=i?i.profit:0;Bo.play(r>=0?Do:Ro)}return e(t)}}},du=i(12),fu=i.n(du),pu=i(303),mu=i(304),yu=i(101),gu=i(305),vu=i(306),bu=i(307),Eu=i(308),Au=i(309),wu=i(310),_u=i(311),Ou=i(312),Su=i(313),Cu=i(314),Tu=i(315),ku=i(316),Iu=i(317),Pu=i(318),Nu=i(319);function xu(e){return(xu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var Ru=er.d,Du=[Sc.a,Rl,xl,Dl,Ml,uu,hu,Ic],Mu=Object(er.e)(Oc,Ru(er.a.apply(void 0,Du)));xu(window.__REACT_DEVTOOLS_GLOBAL_HOOK__),fu.a.registerLocale(pu),fu.a.registerLocale(mu),fu.a.registerLocale(yu),fu.a.registerLocale(yu),fu.a.registerLocale(gu),fu.a.registerLocale(vu),fu.a.registerLocale(bu),fu.a.registerLocale(Eu),fu.a.registerLocale(Au),fu.a.registerLocale(wu),fu.a.registerLocale(_u),fu.a.registerLocale(Ou),fu.a.registerLocale(Su),fu.a.registerLocale(Cu),fu.a.registerLocale(Tu),fu.a.registerLocale(ku),fu.a.registerLocale(Iu),fu.a.registerLocale(Pu),fu.a.registerLocale(Nu);var Bu=Mu;function Lu(e){var t=e.chartId;return{type:"SYMBOL.CHANGE",payload:{symbol:e.symbol,chartId:t}}}function ju(e){return{type:"NAVIGATION.NEW",payload:e}}function Fu(e){return{type:"NAVIGATION.REMOVE",payload:e}}function Gu(e){return{type:"NAVIGATION.TAB_FIXED",payload:e}}function Vu(e){return{type:"DEAL.OPEN",payload:{chartId:e.chartId,action:e.action}}}function Hu(e){return{type:"DEAL.CANCEL",payload:{ticket:e}}}function Uu(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return{type:"DRAW.CHANGE",payload:{id:e,settings:t,shouldUpload:n}}}function Wu(e){return{type:"DRAW.POINTS.CHANGE",payload:e}}function Yu(e){return{type:"DRAW.CHOOSE",payload:e}}function Qu(){return{type:"DRAW.CHOOSE.DELETE",payload:{}}}function Xu(e){return{type:"DRAW.ADD.V2",payload:e}}function zu(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return{type:"INDICATOR.CHANGE",payload:{id:e,settings:t,shouldUpload:n}}}function Ku(e){return{type:"INDICATOR.DELETE",payload:{id:e}}}var Ju,qu=i(320),Zu=i.n(qu),$u=i(321),eh=i.n($u),th=i(17),nh=i.n(th);function ih(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var rh=["#35CB01","#0E8BFF","#D13939","#E2CC00","#00DFD2"];function ah(){return rh[Math.floor(Math.random()*rh.length)]}var oh={VALUES:"values",PERCENTS:"percents"},sh="solid",ch="dashed",lh="dotted",uh=(ih(Ju={},w.CHART.DRAWINGS.HORIZONTAL_LINE,{label:h("Horizontal line"),config:{lines:{main:{lineWidth:Hl.W1,lineStyle:sh,color:ah(),opacity:90}},order:0}}),ih(Ju,w.CHART.DRAWINGS.VERTICAL_LINE,{label:h("Vertical line"),config:{lines:{main:{lineWidth:Hl.W1,lineStyle:sh,color:ah(),opacity:90}},order:0}}),ih(Ju,w.CHART.DRAWINGS.RAY,{label:h("Ray"),config:{lines:{main:{lineWidth:Hl.W1,lineStyle:sh,color:ah(),opacity:90}},order:0}}),ih(Ju,w.CHART.DRAWINGS.FIBONACCI_RETRACEMENT,{label:h("Fibonacci Retracement"),config:{lines:{main:{lineWidth:Hl.W1,color:ah(),opacity:90},level:{color:ah()},value:{color:ah()}},levels:oh.VALUES,order:0},rules:{levels:{in:Object.values(oh)}}}),ih(Ju,w.CHART.DRAWINGS.FIBONACCI_FAN,{label:h("Fibonacci Fan"),config:{lines:{main:{lineWidth:Hl.W1,color:ah(),opacity:90},level:{color:ah()}},order:0}}),ih(Ju,w.CHART.DRAWINGS.TREND_LINE,{label:h("Trend Line"),config:{lines:{main:{lineWidth:Hl.W1,lineStyle:sh,color:ah(),opacity:90}},order:0}}),ih(Ju,w.CHART.DRAWINGS.PARALLEL_CHANNEL,{label:h("Parallel Channel"),config:{lines:{main:{lineWidth:Hl.W1,lineStyle:sh,color:ah(),opacity:100},bg:{color:ah(),opacity:20}},order:0}}),ih(Ju,w.CHART.DRAWINGS.RECTANGLE,{label:h("Rectangle"),config:{lines:{main:{lineWidth:Hl.W1,lineStyle:sh,color:ah(),opacity:100},bg:{color:ah(),opacity:20}},order:0}}),ih(Ju,w.CHART.DRAWINGS.TRIANGLE,{label:h("Triangle"),config:{lines:{main:{lineWidth:Hl.W1,lineStyle:sh,color:ah(),opacity:100},bg:{color:ah(),opacity:20}},order:0}}),ih(Ju,w.CHART.DRAWINGS.CROSS_LINE,{label:h("Cross Line"),config:{lines:{main:{lineWidth:Hl.W1,lineStyle:sh,color:ah(),opacity:90}},order:0}}),ih(Ju,w.CHART.DRAWINGS.TREND_ANGLE,{label:h("Trend Angle"),config:{lines:{main:{lineWidth:Hl.W1,color:ah(),opacity:90}},order:0}}),ih(Ju,w.CHART.DRAWINGS.DISJOINT_CHANNEL,{label:h("Disjoint Channel"),config:{lines:{main:{lineWidth:Hl.W1,lineStyle:sh,color:ah(),opacity:100},bg:{color:ah(),opacity:20}},order:0}}),ih(Ju,w.CHART.DRAWINGS.EXTENDED_LINE,{label:h("Extended Line"),config:{lines:{main:{lineWidth:Hl.W1,lineStyle:sh,color:ah(),opacity:90}},order:0}}),ih(Ju,w.CHART.DRAWINGS.DATE_RANGE,{label:h("Date Range"),config:{lines:{main:{lineWidth:Hl.W1,lineStyle:sh,color:ah(),opacity:90},bg:{color:ah(),opacity:20}},order:0}}),ih(Ju,w.CHART.DRAWINGS.PRICE_RANGE,{label:h("Price Range"),config:{lines:{main:{lineWidth:Hl.W1,lineStyle:sh,color:ah(),opacity:90},bg:{color:ah(),opacity:20}},order:0}}),ih(Ju,w.CHART.DRAWINGS.DATE_PRICE_RANGE,{label:h("Date and Price Range"),config:{lines:{main:{lineWidth:Hl.W1,lineStyle:sh,color:ah(),opacity:90},bg:{color:ah(),opacity:20}},order:0}}),ih(Ju,w.CHART.DRAWINGS.PITCHFORK,{label:h("Pitchfork"),config:{lines:{main:{lineWidth:Hl.W1,lineStyle:sh,color:ah(),opacity:90},bg:{color:ah(),opacity:20}},order:0}}),ih(Ju,w.CHART.DRAWINGS.FLAT_TOP_BOTTOM,{label:h("Flat Top/Bottom"),config:{lines:{main:{lineWidth:Hl.W1,lineStyle:sh,color:ah(),opacity:90},bg:{color:ah(),opacity:20}},order:0}}),ih(Ju,w.CHART.DRAWINGS.ARC_LINE,{label:h("Arc"),config:{lines:{main:{lineWidth:Hl.W1,lineStyle:sh,color:ah(),opacity:90},bg:{color:ah(),opacity:20}},order:0}}),ih(Ju,w.CHART.DRAWINGS.CURVE_LINE,{label:h("Curve"),config:{lines:{main:{lineWidth:Hl.W1,lineStyle:sh,color:ah(),opacity:90},bg:{color:ah(),opacity:20}},order:0}}),ih(Ju,w.CHART.DRAWINGS.PITCHFAN,{label:h("Pitchfan"),config:{lines:{main:{lineWidth:Hl.W1,lineStyle:sh,color:ah(),opacity:90},bg:{color:ah(),opacity:20}},order:0}}),ih(Ju,w.CHART.DRAWINGS.CYCLIC_LINES,{label:h("Cyclic Lines"),config:{lines:{main:{lineWidth:Hl.W1,lineStyle:sh,color:ah(),opacity:90},bg:{color:ah(),opacity:20}},order:0}}),ih(Ju,w.CHART.DRAWINGS.GANN_BOX,{label:h("Gann Box"),config:{lines:{main:{lineWidth:Hl.W1,lineStyle:sh,color:ah(),opacity:90},bg:{color:ah(),opacity:20}},order:0}}),Ju);h("drawings.line_main"),h("drawings.line_bg"),h("drawings.levels"),h("drawings.levels_values");function hh(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function dh(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?hh(Object(n),!0).forEach((function(t){fh(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):hh(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function fh(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ph(e,t){if(null==e)return{};var n,i,r=function(e,t){if(null==e)return{};var n,i,r={},a=Object.keys(e);for(i=0;i<a.length;i++)n=a[i],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function mh(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],i=!0,r=!1,a=void 0;try{for(var o,s=e[Symbol.iterator]();!(i=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);i=!0);}catch(e){r=!0,a=e}finally{try{i||null==s.return||s.return()}finally{if(r)throw a}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return yh(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return yh(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function yh(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var gh={TEXT:"text",NUMBER:"number"};function vh(e,t){if(eh()(e,t))return s()(e,t);var n=t.split("."),i=n.length>0?n[n.length-1]:t;return null!=e&&null!=e[i]?e[i]:null!=Ql[i]?Ql[i]:null}function bh(e){return null!=e.min&&null!=e.max}function Eh(e,t,n,i){var r=e.config,a=vh(e.rules,t),o=a.precision,c=void 0===o?0:o,l=function(e){return null==e?e:("number"==typeof e&&(e=e.toString()),e.replace(",",".").replace(/[^\-\d\\.]/g,"").trim())}(n),u=c>0?parseFloat(l):parseInt(l,10);if((""===l||"-"===l||0===parseInt(l,10))&&!i)return l;if(Number.isNaN(u))return s()(r,t);if(u<a.min&&i)return a.min;if(u>a.max)return a.max;var h=mh(l.split("."),2),d=h[0],f=h[1],p=void 0===f?"":f;return p.length>c?Number("".concat(d,".").concat(p.substring(0,c))):i?u:l}function Ah(e){return e.in&&Array.isArray(e.in)}function wh(e,t,n){var i=e.config;return vh(e.rules,t).in.includes(n)?n:s()(i,t)}function _h(e,t,n){return function(t,i){return function(r){var a,o=void 0!==i||void 0===r||"blur"===r.type,s=void 0!==i?i:"checkbox"===(a=r).currentTarget.type?a.currentTarget.checked:a.currentTarget.value,c=o||!function(e){return void 0!==e&&Object.values(gh).includes(e.currentTarget.type)}(r),l=Th(e,t,s,o);n((function(e){return Zu()(e,t,l)}),c)}}}function Oh(e){return Array.isArray(e)?e.filter((function(e){return t=e.type,Object.values(y).includes(t);var t})).map((function(e){return Ch(Xl[e.type],e)})):[]}function Sh(e){return Array.isArray(e)?e.filter((function(e){return t=e.type,Object.values(w.CHART.DRAWINGS).includes(t);var t})).map((function(e){return Ch(uh[e.type],e)})):[]}function Ch(e,t){if(null==t.settings)return t.settings=e.config,t;var n=t.settings,i=n.lines,r=ph(n,["lines"]),a=e.config,o=a.lines,c=ph(a,["lines"]),l={};Object.keys(o).forEach((function(t){l[t]=function e(t,n,i,r){var a=s()(r,n),o=s()(i,n);if(void 0===a)return o;var c={};Object.keys(o).forEach((function(s){if(void 0===a[s])c[s]=o[s];else if("colors"===s){var l={};Object.keys(o[s]).forEach((function(a){var o="".concat(n,".colors.").concat(a);l[a]=e(t,o,i,r)})),c[s]=l}else c[s]="lineStyle"===s||"color"===s?a[s]:Th(t,"lines.".concat(n,".").concat(s),a[s])})),void 0!==a.show&&(c.show=Boolean(a.show));return c}(e,t,o,i)}));var u={};return Object.keys(c).forEach((function(t){u[t]=function e(t,n,i,r){var a=s()(r,n),o=s()(i,n);if(void 0===a)return o;if(nh()(o)){var c={};return Object.keys(o).forEach((function(a){c[a]=e(t,"".concat(n,".").concat(a),i,r)})),c}if("order"===n)return r.order;if("priority"===n)return r.priority;if("yShiftAddingValue"===n)return r.yShiftAddingValue;if("isMinimized"===n)return r.isMinimized;if("isVisibility"===n)return r.isVisibility;return Th(t,n,a)}(e,t,c,r)})),t.settings=dh(dh({},u),{},{lines:l}),t}function Th(e,t,n){var i=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],r=e.rules,a=vh(r,t);if(a){if(bh(a))return Eh(e,t,n,i);if(Ah(a))return wh(e,t,n)}return null}function kh(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],i=!0,r=!1,a=void 0;try{for(var o,s=e[Symbol.iterator]();!(i=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);i=!0);}catch(e){r=!0,a=e}finally{try{i||null==s.return||s.return()}finally{if(r)throw a}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Ih(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ih(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ih(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function Ph(e,t){if(null==e)return{};var n,i,r=function(e,t){if(null==e)return{};var n,i,r={},a=Object.keys(e);for(i=0;i<a.length;i++)n=a[i],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Nh(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function xh(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Nh(Object(n),!0).forEach((function(t){Rh(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Nh(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Rh(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Dh(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var Mh=new(function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,i;return t=e,(n=[{key:"init",value:function(){this.socket=Li.instance,this.events(),this.connectToSocket(),this.socketEvents()}},{key:"connectToSocket",value:function(){this.socket.connectTo()}},{key:"socketEvents",value:function(){var e=this;this.socket.addEventListener(Y,(function(e){for(var t,n=Gc.getData(),i=ol.getData(),r={},a=0;a<e.length;a++){var o=e[a],s=o.chart_id,c=o.settings;try{r[s]=Gi(JSON.parse(c)),r[s].zoom=xh(xh({},$i.zoom),n[s]),r[s].panelCoordinates=xh(xh({},$i.panelCoordinates),i[s])}catch(e){return Be.error(e),!1}}Bu.dispatch({type:"CHART.SETTINGS",payload:{save:(t={save:r}).save,zoom:t.zoom}})})),this.socket.addEventListener(C,(function(){})),this.socket.addEventListener(x,(function(e){Bu.dispatch({type:"TIME",payload:{time:{time:e}.time}})})),this.socket.addEventListener(Q,(function(){Bu.dispatch({type:"USER.AUTH",payload:{}}),e.socket.loadIndicators(),e.socket.loadDrawings(),e.socket.loadPendingTrades()})),this.socket.addEventListener(V,(function(e){Bu.dispatch({type:"DEAL.OPENED.LIST",payload:{deals:e}})})),this.socket.addEventListener(H,(function(e){Bu.dispatch({type:"DEAL.CLOSED.LIST",payload:{deals:e}})})),this.socket.addEventListener("".concat(_).concat(G),(function(e){Bu.dispatch({type:"DEAL.OPENED",payload:{deal:e}})})),this.socket.addEventListener("".concat(_).concat(F),(function(e){var t=e.deals;Bu.dispatch(function(e){return{type:"DEAL.CLOSED",payload:{deals:e}}}(t))})),this.socket.addEventListener("".concat(S).concat(G),(function(e){Bu.dispatch(function(e){return{type:"DEAL.OPEN_FAILED",payload:e}}(e))})),this.socket.addEventListener("".concat(_).concat(P),(function(e){Bu.dispatch({type:"USER.BALANCE",payload:{balance:{balance:e}.balance}})})),this.socket.addEventListener("".concat(_).concat(N),(function(e){var t=e.liveBalance,n=e.demoBalance;Bu.dispatch(function(e){return{type:"USER.BALANCE.LIST",payload:{liveBalance:e.liveBalance,demoBalance:e.demoBalance}}}({liveBalance:t,demoBalance:n}))})),this.socket.addEventListener(k,(function(e){Bu.dispatch({type:"SYMBOL.LIST",payload:{assets:e}})})),this.socket.addEventListener(ce,(function(e){Bu.dispatch({type:"SIGNAL.LIST",payload:e})})),this.socket.addEventListener(se,(function(e){Bu.dispatch({type:"SIGNAL.CHANGE",payload:e})})),this.socket.addEventListener(R,(function(e){var t=e.asset;Bu.dispatch({type:"HISTORY.LOADED",payload:{asset:t}})})),this.socket.addEventListener(L,(function(e){Bu.dispatch({type:"QUOTES.NEW",payload:e})})),this.socket.addEventListener("".concat(_).concat(ee),(function(e){var t;Bu.dispatch({type:"INDICATOR.ADDED",payload:{requestId:(t=e).requestId,id:t.id}})})),this.socket.addEventListener("".concat(_).concat(re),(function(e){var t,n=Oh(e.list);Bu.dispatch({type:"INDICATOR.LOAD",payload:{favorites:(t={favorites:e.favorites,list:n}).favorites,list:t.list}})})),this.socket.addEventListener("".concat(_).concat(fe),(function(e){var t=Sh(e.list);t=t.map((function(e){var t=e.points,n=e.locked,i=void 0===n?0:n;return xh(xh({},Ph(e,["points","locked"])),{},{isLocked:Boolean(i),points:t.map((function(e){var t=kh(e,4);return{time:t[0],price:t[1],assetId:t[2],point:t[3]}}))})})),Bu.dispatch({type:"DRAW.LOADED",payload:{list:{list:t}.list}})})),this.socket.addEventListener("".concat(_).concat(X),(function(e){var t;Bu.dispatch({type:"DRAW.ADDED",payload:{requestId:(t=e).requestId,id:t.id}})})),this.socket.addEventListener("".concat(_).concat(z),(function(e){Bu.dispatch({type:"DRAW.DELETED",payload:e.drawingId})})),this.socket.addEventListener(J,(function(e){Bu.dispatch({type:"MARKET.CHANGE",payload:[e]})})),this.socket.addEventListener("".concat(_).concat(W),(function(e){Bu.dispatch({type:"DEAL.CANCEL.SUCCESS",payload:{deal:e}})})),this.socket.addEventListener(le,(function(e){Bu.dispatch({type:"LEADER_BOARD.POSITION",payload:e})})),this.socket.addEventListener(ue,(function(e){Bu.dispatch({type:"LEADER_BOARD.UPDATE",payload:e})})),this.socket.addEventListener(he,(function(e){Bu.dispatch({type:"LEADER_BOARD.LIST",payload:e})})),this.socket.addEventListener("".concat(_).concat(de),(function(e){var t=e.profit;Bu.dispatch({type:"USER.TODAY_PROFIT",payload:t})})),this.socket.addEventListener("".concat(_).concat(be),(function(e){var t,n=e.ticket,i=e.amount,r=e.closeTime,a=e.closeTimestamp;Bu.dispatch({type:"DEAL.SUCCESS_ROLLOVER_DEAL",payload:{ticket:(t={ticket:n,amount:i,closeTime:r,closeTimestamp:a}).ticket,amount:t.amount,closeTime:t.closeTime,closeTimestamp:t.closeTimestamp}})})),this.socket.addEventListener("".concat(S).concat(be),(function(e){var t=e.ticket;Bu.dispatch(function(e){return{type:"DEAL.FAILED_ROLLOVER_DEAL",payload:{ticket:e}}}(t))})),this.socket.addEventListener(Oe,(function(e){Bu.dispatch(function(e){return{type:"DEAL.SUCCESS_PENDING_LIST",payload:e}}(e))})),this.socket.addEventListener("".concat(_).concat(Ae),(function(e){var t,n=e.pending;Bu.dispatch({type:"DEAL.SUCCESS_PENDING_CREATE",payload:{amount:(t={amount:n.amount,command:n.command,currency:n.currency,isDemo:n.isDemo,min_payout:0,open_price:n.openPrice,open_time:n.openTime,open_type:n.openType,symbol:n.asset,ticket:n.ticket,timeframe:n.timeframe,uid:n.uid}).amount,command:t.command,currency:t.currency,isDemo:t.isDemo,min_payout:t.min_payout,open_price:t.open_price,open_time:t.open_time,open_type:t.open_type,symbol:t.symbol,ticket:t.ticket,timeframe:t.timeframe,uid:t.uid}})})),this.socket.addEventListener("".concat(_).concat(_e),(function(e){var t=e.ticket;Bu.dispatch(function(e){return{type:"DEAL.SUCCESS_PENDING_CANCEL",payload:{ticket:e}}}(t))})),this.socket.addEventListener("".concat(_).concat(we),(function(e){var t=e.ticket;Bu.dispatch(function(e){return{type:"DEAL.SUCCESS_PENDING_OPENED",payload:{ticket:e}}}(t))})),this.socket.addEventListener("".concat(S).concat(we),(function(e){var t=e.ticket;Bu.dispatch(function(e){return{type:"DEAL.FAILED_PENDING_OPENED",payload:{ticket:e}}}(t))}))}},{key:"events",value:function(){}}])&&Dh(t.prototype,n),i&&Dh(t,i),e}()),Bh=i(0),Lh=i.n(Bh),jh=i(36),Fh=i.n(jh),Gh=i(7),Vh=function(){return De().getPlugin("react").createErrorBoundary(Bh)}(),Hh=(i(519),i(524),i(526),i(528),Object(Bh.memo)((function(e){var t=e.name,n=e.rotate,i=e.className,r=e.onClick;return Lh.a.createElement("svg",{className:"icon-".concat(t)+(n?" icon-rotate":"")+(i?" ".concat(i):""),onClick:r},Lh.a.createElement("use",{xlinkHref:"/profile/images/spritemap.svg#icon-".concat(t)}))})));var Uh=Object(Gh.b)((function(e){var t=e.global;return{sidePanelOpened:t.sidePanelOpened,isDemo:t.isDemo}}),(function(e){return Object(er.b)({changeSidePanelOpened:zc},e)}))((function(e){var t=e.className,n=e.changeSidePanelOpened,i=e.sidePanelOpened,r=e.isDemo;return Lh.a.createElement("nav",{className:"navbar js-navbar ".concat(t)},Lh.a.createElement("a",{href:Yc("support"),className:"navbar__item"},Lh.a.createElement(Hh,{name:"nav-help"})),Lh.a.createElement("a",{href:Yc(r?"demo-trade":"trade"),className:"navbar__item active"},Lh.a.createElement(Hh,{name:"nav-trade"})),Lh.a.createElement("a",{href:Yc("settings"),className:"navbar__item"},Lh.a.createElement(Hh,{name:"nav-profile"})),Lh.a.createElement("button",{className:"navbar__item ",onClick:function(){n("settings"!==i&&"settings")}},Lh.a.createElement(Hh,{name:"nav-settings"})),Lh.a.createElement("button",{className:"navbar__item ",onClick:function(){n("more"!==i&&"more")}},Lh.a.createElement(Hh,{name:"nav-more"})))})),Wh=(i(530),i(68)),Yh=i.n(Wh),Qh=i(69),Xh=i.n(Qh),zh=new Yh.a({id:"logo",use:"logo-usage",viewBox:"0 0 102 26",content:'<symbol viewBox="0 0 102 26" fill="none" xmlns="http://www.w3.org/2000/svg" id="logo">\n<path d="M43.3671 12.9791C43.3671 13.5425 43.305 14.085 43.2015 14.6067C43.0772 15.1284 42.9115 15.6083 42.7044 16.0674C42.4766 16.5264 42.2281 16.9229 41.8967 17.3194C41.586 17.695 41.2339 18.0288 40.8197 18.321L44.0299 21.8266H42.1038C41.8346 21.8266 41.5653 21.7849 41.3582 21.7223C41.1304 21.6388 40.9233 21.5136 40.7369 21.3049L38.8936 19.26C38.6037 19.3434 38.293 19.406 37.9824 19.4478C37.6717 19.4895 37.3403 19.5104 37.009 19.5104C36.0563 19.5104 35.1864 19.3434 34.3994 19.0304C33.6124 18.6966 32.929 18.2584 32.3698 17.6741C31.8106 17.0898 31.3757 16.4012 31.065 15.6083C30.7544 14.8154 30.6094 13.9598 30.6094 13.0208C30.6094 12.0818 30.7544 11.2263 31.065 10.4333C31.3757 9.6404 31.8106 8.95179 32.3698 8.36752C32.929 7.78325 33.6124 7.34505 34.3994 7.01118C35.1864 6.67731 36.0563 6.53125 37.009 6.53125C37.9617 6.53125 38.8315 6.69818 39.6185 7.03205C40.4055 7.36592 41.0683 7.80412 41.6274 8.38839C42.1866 8.97266 42.6216 9.66126 42.9322 10.4542C43.2222 11.1845 43.3671 12.0609 43.3671 12.9791ZM40.9647 12.9791C40.9647 12.2905 40.8612 11.6645 40.6955 11.1011C40.5091 10.5377 40.2398 10.0786 39.9085 9.68213C39.5771 9.28567 39.1422 8.99353 38.6658 8.80573C38.1688 8.59706 37.6096 8.49273 37.009 8.49273C36.3876 8.49273 35.8285 8.59706 35.3521 8.80573C34.8551 9.01439 34.4408 9.30653 34.0888 9.68213C33.7367 10.0786 33.4674 10.5377 33.281 11.1011C33.0947 11.6436 33.0118 12.2696 33.0118 12.9791C33.0118 13.6677 33.1154 14.2937 33.281 14.8571C33.4674 15.3996 33.7367 15.8796 34.0888 16.2552C34.4408 16.6308 34.8551 16.9229 35.3521 17.1316C35.8492 17.3402 36.4084 17.4446 37.009 17.4446C37.6303 17.4446 38.1895 17.3402 38.6658 17.1316C39.1629 16.9229 39.5771 16.6308 39.9085 16.2552C40.2605 15.8796 40.5091 15.3996 40.6955 14.8571C40.8612 14.3146 40.9647 13.6886 40.9647 12.9791Z" fill="#353A4D" />\n<path d="M50.2831 17.4232C50.7388 17.4232 51.1323 17.3398 51.5051 17.1937C51.8571 17.0476 52.1678 16.8181 52.4163 16.5468C52.6649 16.2756 52.8513 15.9417 52.9755 15.5452C53.0998 15.1488 53.1826 14.7106 53.1826 14.2306V6.61426H55.5229V14.2306C55.5229 14.9818 55.3987 15.6913 55.1709 16.3173C54.9223 16.9642 54.591 17.5067 54.1353 17.9867C53.6797 18.4457 53.1412 18.8213 52.4992 19.0717C51.8572 19.343 51.1323 19.4682 50.3246 19.4682C49.5168 19.4682 48.792 19.343 48.1499 19.0717C47.5079 18.8213 46.9487 18.4457 46.5138 17.9867C46.0582 17.5276 45.7061 16.9642 45.4783 16.3173C45.2297 15.6704 45.1055 14.9818 45.1055 14.2306V6.61426H47.4458V14.2098C47.4458 14.6897 47.5079 15.1279 47.6322 15.5244C47.7564 15.9208 47.9428 16.2547 48.1914 16.526C48.4399 16.7972 48.7298 17.0268 49.1026 17.1728C49.434 17.3606 49.8275 17.4232 50.2831 17.4232Z" fill="#353A4D" />\n<path d="M70.0011 12.9788C70.0011 13.9178 69.8562 14.7734 69.5455 15.5663C69.2348 16.3592 68.7999 17.0478 68.2407 17.6321C67.6815 18.2164 67.0188 18.6546 66.2318 18.9885C65.4448 19.3223 64.5749 19.4684 63.6223 19.4684C62.6696 19.4684 61.7997 19.3015 61.0127 18.9885C60.2257 18.6546 59.5423 18.2164 58.9831 17.6321C58.4239 17.0478 57.989 16.3592 57.6783 15.5663C57.3676 14.7734 57.2227 13.9178 57.2227 12.9788C57.2227 12.0398 57.3676 11.1843 57.6783 10.3913C57.989 9.59841 58.4239 8.90981 58.9831 8.32554C59.5423 7.74127 60.2257 7.30307 61.0127 6.9692C61.7997 6.63533 62.6696 6.48926 63.6223 6.48926C64.5749 6.48926 65.4448 6.65619 66.2318 6.99006C67.0188 7.32393 67.6815 7.76213 68.2407 8.3464C68.7999 8.93067 69.2348 9.61928 69.5455 10.4122C69.8562 11.1843 70.0011 12.0607 70.0011 12.9788ZM67.5987 12.9788C67.5987 12.2902 67.4951 11.6642 67.3295 11.1008C67.1431 10.5374 66.8738 10.0783 66.5425 9.68188C66.2111 9.28541 65.7762 8.99327 65.2998 8.80547C64.8235 8.61767 64.2436 8.49247 63.643 8.49247C63.0216 8.49247 62.4625 8.5968 61.9861 8.80547C61.4891 9.01414 61.0748 9.30628 60.7228 9.68188C60.3707 10.0783 60.1014 10.5374 59.915 11.1008C59.7286 11.6434 59.6458 12.2694 59.6458 12.9788C59.6458 13.6674 59.7494 14.2934 59.915 14.8568C60.1014 15.3994 60.3707 15.8793 60.7228 16.2549C61.0748 16.6305 61.4891 16.9226 61.9861 17.1313C62.4832 17.34 63.0424 17.4443 63.643 17.4443C64.2643 17.4443 64.8235 17.34 65.2998 17.1313C65.7969 16.9226 66.2111 16.6305 66.5425 16.2549C66.8945 15.8793 67.1431 15.3994 67.3295 14.8568C67.5159 14.3143 67.5987 13.6883 67.5987 12.9788Z" fill="#353A4D" />\n<path d="M80.0661 6.63574V8.57635H76.2761V19.3436H73.9358V8.57635H70.125V6.63574H80.0661Z" fill="#353A4D" />\n<path d="M89.488 6.63574V8.51375H83.8962V12.0402H88.3075V13.8556H83.8962V17.4447H89.488V19.3436H81.5352V6.63574H89.488Z" fill="#353A4D" />\n<path d="M94.5636 12.7908L90.5458 6.63513H92.8861C93.0518 6.63513 93.176 6.65599 93.2382 6.69772C93.321 6.73946 93.3831 6.82292 93.4246 6.90639L96.3033 11.5805C96.3241 11.4971 96.3655 11.4345 96.4069 11.351C96.4483 11.2884 96.4897 11.2049 96.5312 11.1215L99.1614 6.94813C99.2857 6.73946 99.4514 6.61426 99.6585 6.61426H101.916L97.8152 12.7074L101.999 19.343H99.6585C99.5135 19.343 99.3685 19.3013 99.2857 19.2178C99.1821 19.1343 99.0993 19.0509 99.0372 18.9465L96.1169 14.0846C96.0962 14.1472 96.0755 14.2098 96.0341 14.2932C96.0134 14.3558 95.972 14.4184 95.9513 14.4602L93.1346 18.9257C93.0725 19.03 92.9896 19.1135 92.9068 19.1969C92.8032 19.2804 92.6997 19.3221 92.5547 19.3221H90.3594L94.5636 12.7908Z" fill="#353A4D" />\n<path d="M22.3468 19.5104V6.51043L17.0863 3.44302V5.63403L20.4621 7.61637V18.4045L18.971 19.2809V10.5169H17.0863V20.3868L15.5537 21.2632V8.05457H13.669V22.3692L12.1364 23.2665V2.75441L15.5537 4.75763V2.54575L11.1838 0L6.83452 2.54575V4.73676L10.2518 2.75441V23.2665L8.71919 22.3692V8.05457H6.83452V21.2841L5.30193 20.3868V10.5169H3.41726V19.3018L1.88467 18.4045V7.61637L1.98822 7.55377L5.30193 5.63403V3.42215L0 6.51043V19.5104L11.1838 26L22.3468 19.5104Z" fill="#A0002A" />\n</symbol>'}),Kh=(Xh.a.add(zh),i(5)),Jh=i.n(Kh),qh=(i(532),function(e){var t=e.className,n=e.children,i=e.label,r=e.type,a=e.size,o=e.dark,s=e.icon,c=e.iconPosition,l=e.href,u=e.spaced,h=e.disabled,d=e.onClick,f=l?"a":"button";return Lh.a.createElement(f,{className:"button"+(r?" button--".concat(r):"")+(a?" button--".concat(a):"")+(o?" button--dark":"")+(u?" button--spaced":"")+(t?" ".concat(t):""),href:l,disabled:h,onClick:function(e){d&&d(e)}},s&&"before"===c&&Lh.a.createElement(Hh,{name:s}),(n||i)&&(s?Lh.a.createElement("span",null,n||i):n||i),s&&"after"===c&&Lh.a.createElement(Hh,{name:s}))});qh.propTypes={className:Jh.a.string,children:Jh.a.oneOfType([Jh.a.string,Jh.a.node]),label:Jh.a.string,type:Jh.a.oneOf(["primary","success","warning","danger","light"]),size:Jh.a.oneOf(["tiny","small"]),icon:Jh.a.string,iconPosition:Jh.a.oneOf(["before","after"]),href:Jh.a.string,dark:Jh.a.bool,spaced:Jh.a.bool,disabled:Jh.a.bool,onClick:Jh.a.func},qh.defaultProps={iconPosition:"after",dark:!1,spaced:!1,disabled:!1};var Zh=qh;i(534);function $h(e){return{type:"MODAL.CHANGE",payload:{modalId:e.modalId,value:e.value,data:e.data}}}var ed={DEPOSIT_BONUS:1,CANCEL_TRADE:2,LOSS_CASHBACK:3,TURNOVER_CASHBACK:4,EXECUTE_BONUS:5,CANCEL_NONVOLATILE:6},td=i(322),nd=i.n(td);function id(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function rd(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?id(Object(n),!0).forEach((function(t){ad(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):id(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ad(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function od(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],i=!0,r=!1,a=void 0;try{for(var o,s=e[Symbol.iterator]();!(i=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);i=!0);}catch(e){r=!0,a=e}finally{try{i||null==s.return||s.return()}finally{if(r)throw a}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return sd(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return sd(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function sd(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var cd=Object(Gh.b)((function(e){var t=e.global;return{email:t.email,liveBalance:t.liveBalance,demoBalance:t.demoBalance,isDemo:t.isDemo,uid:t.uid,currencyCode:t.currencyCode,currency:t.currency,bonus:t.bonus,balance:t.balance,levelsList:t.levelsList,isBalanceVisible:t.isBalanceVisible,maxDemoBalance:t.maxDemoBalance,activePromocodes:t.activePromocodes}}),{userRefillDemo:Jc,userRefreshBonus:function(){return{type:"USER.BONUS.REFRESH"}},changeModalState:$h,changeBalanceVisible:function(e){return{type:"CHANGE_BALANCE_VISIBLE",payload:e}}})((function(e){var t=e.dropdownRef,n=e.email,i=e.liveBalance,r=e.demoBalance,a=e.uid,o=e.currencyCode,s=e.currency,c=e.bonus,l=e.isDemo,u=e.userRefillDemo,d=e.userRefreshBonus,f=e.changeModalState,p=e.setOpen,m=(e.balance,e.levelsList),y=e.isBalanceVisible,g=e.changeBalanceVisible,v=e.maxDemoBalance,b=e.activePromocodes,E="standart",A=h("standart"),w=h("+{value}% profit",0);i>=m[1]&&i<m[2]&&(E=A="pro",w=h("+{value}% profit",2)),i>=m[2]&&(E=A="vip",w=h("+{value}% profit",4));var _=od(Object(Bh.useState)(y?"eye":"eye-cross"),2),O=_[0],S=_[1],C=od(Object(Bh.useState)(!1),2),T=C[0],k=C[1],I=od(Object(Bh.useState)(!1),2),P=I[0],N=I[1],x=function(){N(!P)},R=od(Object(Bh.useState)(i),2),D=R[0],M=R[1],B=od(Object(Bh.useState)(r),2),L=B[0],j=B[1],F=nd()(b||[],(function(e){return e.settings.type})),G=function(e){return e.settings.type===ed.TURNOVER_CASHBACK?f({modalId:Ss.TURNOVER_INFORMATION,value:!0,data:rd(rd({},e),{},{promocode:e.settings.promocode,url:""})}):e.settings.type===ed.LOSS_CASHBACK?f({modalId:Ss.CASHBACK_INFORMATION,value:!0,data:rd(rd({},e),{},{promocode:e.settings.promocode,url:""})}):void 0};return Lh.a.createElement("div",{className:"usermenu__dropdown",ref:t},Lh.a.createElement("ul",{className:"usermenu__select"},Lh.a.createElement("li",{className:"usermenu__select-item"},Lh.a.createElement("div",{className:"usermenu__level-info"},Lh.a.createElement("div",{className:"usermenu__level",onClick:function(){if(p(!1),!m.length)return!1;f({modalId:Ss.ACCOUNT_LEVELS,value:!0,data:{level:E,levelsList:m,currency:s}})}},Lh.a.createElement("div",{className:"usermenu__level-icon"},y&&Lh.a.createElement(Hh,{name:"profile-level-".concat(E)}),!y&&Lh.a.createElement(Hh,{name:"profile-level-visible"})),Lh.a.createElement("div",{className:"usermenu__level-block"},y&&Lh.a.createElement("div",{className:"usermenu__level-name"},A,":"),!y&&Lh.a.createElement("div",{className:"usermenu__level-name"},"* * *"),y&&Lh.a.createElement("div",{className:"usermenu__level-profit"},w),!y&&Lh.a.createElement("div",{className:"usermenu__level-profit"},"* * * * * *"))),Lh.a.createElement("div",{className:"usermenu__eye",onClick:function(){S(y?"eye-cross":"eye"),g(!y)}},Lh.a.createElement(Hh,{name:O}))),Lh.a.createElement("div",{className:"usermenu__block"},Lh.a.createElement("div",{className:"usermenu__block-info ".concat(2===F.length?"two-active":1===F.length?"one-active":"")},y&&Lh.a.createElement("div",{className:"usermenu__email"},n),!y&&Lh.a.createElement("div",{className:"usermenu__email"},"* * * * * * * * * * * * *"),y&&Lh.a.createElement("span",{className:"usermenu__number"},"ID: ",a),!y&&Lh.a.createElement("span",{className:"usermenu__number"},"ID: * * * * * * *")),!!F.length&&Lh.a.createElement("div",{className:"usermenu__block-market"},F.map((function(e){if(e.settings.type===ed.TURNOVER_CASHBACK){var t=h("Percentage of turnover {percent}%",e.settings.param1);return Lh.a.createElement("div",{key:e.id,className:"usermenu__block-tooltip","data-text":t,onClick:function(){return G(e)}},Lh.a.createElement(Hh,{name:"usermenu-percentage"}))}if(e.settings.type===ed.LOSS_CASHBACK){var n=h("Cashback {percent}%",e.settings.param1);return Lh.a.createElement("div",{key:e.id,className:"usermenu__block-tooltip","data-text":n,onClick:function(){return G(e)}},Lh.a.createElement(Hh,{name:"usermenu-cashback"}))}})))),Lh.a.createElement("div",{className:"usermenu__currency"},Lh.a.createElement("div",{className:"usermenu__currency-text"},h("Currency:")),Lh.a.createElement("div",{className:"usermenu__currency-code"},o),Lh.a.createElement("div",{onClick:function(){p(!1),f({modalId:Ss.CURRENCY_EXCHANGE,value:!0})},className:"usermenu__currency-button"},h("Change")))),Lh.a.createElement("li",{className:"usermenu__select-item usermenu__select-item--radio "+(l?"":"active")},Lh.a.createElement("a",{className:"usermenu__select-name",href:Yc("trade")},h("Live Account")),y&&Lh.a.createElement("b",{className:"usermenu__select-balance"},ma({amount:i,currency:s})),!y&&Lh.a.createElement("b",{className:"usermenu__select-balance"},"* * * * * * *"),c&&c.percent>0&&Lh.a.createElement("div",{className:"usermenu__select-bonus",onClick:function(){p(!1),f({modalId:Ss.BONUS,value:!0}),d()}},"BONUS",c.percent,"%"),Lh.a.createElement("div",{className:"usermenu__select-balance__edit-input ".concat(T?" active":"")},Lh.a.createElement("label",{className:"input-control input-control--text input-control__border ".concat(D>i?"input-control--invalid":"")},Lh.a.createElement("span",{className:"input-control__label"},h("Daily budget limit")),Lh.a.createElement("input",{className:"input-control__input",type:"text",name:"state",value:D,onChange:function(e){M(e.target.value)}})),D>i&&Lh.a.createElement("div",{className:"input-control__hint"},h("The value cannot exceed your total budget")),Lh.a.createElement(Zh,{type:"primary",className:"usermenu__select-balance__edit-button",onClick:function(){k(!T)}},h("Apply"),Lh.a.createElement(Hh,{name:"arrow-right-circle"})))),Lh.a.createElement("li",{className:"usermenu__select-item usermenu__select-item--radio "+(l?"active":"")},Lh.a.createElement("a",{className:"usermenu__select-name",href:Yc("demo-trade")},h("Demo Account")),y&&Lh.a.createElement("div",{className:"usermenu__select-balance__block"},Lh.a.createElement("b",{className:"usermenu__select-balance"},ma({amount:r,currency:s})),Lh.a.createElement("div",{className:"usermenu__select-refresh",onClick:function(){u()}},Lh.a.createElement(Hh,{name:"refresh"}))),!y&&Lh.a.createElement("b",{className:"usermenu__select-balance"},"* * * * * * *"),Lh.a.createElement("div",{className:"usermenu__select-pencil",onClick:x},Lh.a.createElement("div",{className:"usermenu__select-balance__edit ".concat(P?"active":"")},Lh.a.createElement(Hh,{name:"pencil-account"}),Lh.a.createElement("div",{className:"usermenu__select-balance__edit-tooltip"},h("Edit")))),Lh.a.createElement("div",{className:"usermenu__select-balance__edit-input ".concat(P?" active":"")},Lh.a.createElement("label",{className:"input-control input-control--text input-control__border ".concat(L>v?"input-control--invalid":"")},Lh.a.createElement("span",{className:"input-control__label"},h("New value")),Lh.a.createElement("input",{className:"input-control__input",type:"text",name:"state",value:L,onChange:function(e){j(e.target.value)}})),L>v&&Lh.a.createElement("div",{className:"input-control__hint"},"Max. ",s,v),Lh.a.createElement(Zh,{type:"primary",className:"usermenu__select-balance__edit-button",onClick:function(){if(L>v)return!1;x(),u(+L)}},h("Confirm"),Lh.a.createElement(Hh,{name:"arrow-right-circle"}))))),Lh.a.createElement("ul",{className:"usermenu__menu"},Lh.a.createElement("li",{className:"usermenu__menu-item"},Lh.a.createElement("a",{className:"usermenu__menu-link",href:Yc("deposit")},h("Deposit"))),Lh.a.createElement("li",{className:"usermenu__menu-item"},Lh.a.createElement("a",{className:"usermenu__menu-link",href:Yc("withdrawal")},h("Withdrawal"))),Lh.a.createElement("li",{className:"usermenu__menu-item"},Lh.a.createElement("a",{className:"usermenu__menu-link",href:Yc("balance")},h("Transactions"))),Lh.a.createElement("li",{className:"usermenu__menu-item"},Lh.a.createElement("a",{className:"usermenu__menu-link",href:Yc("trades")},h("Trades"))),Lh.a.createElement("li",{className:"usermenu__menu-item"},Lh.a.createElement("a",{className:"usermenu__menu-link",href:Yc("settings")},h("Profile"))),Lh.a.createElement("li",{className:"usermenu__menu-logout"},Lh.a.createElement("a",{className:"usermenu__menu-button usermenu__menu-button--danger",href:Yc("logout")},Lh.a.createElement(Hh,{name:"logout"}),Lh.a.createElement("span",null,h("Logout"))))))}));function ld(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],i=!0,r=!1,a=void 0;try{for(var o,s=e[Symbol.iterator]();!(i=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);i=!0);}catch(e){r=!0,a=e}finally{try{i||null==s.return||s.return()}finally{if(r)throw a}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return ud(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ud(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ud(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var hd=Object(Gh.b)((function(e){var t=e.global;return{liveBalance:t.liveBalance,currency:t.currency,isDemo:t.isDemo,balance:t.balance,levelsList:t.levelsList,isBalanceVisible:t.isBalanceVisible,isMobile:t.isMobile}}))((function(e){var t=e.liveBalance,n=e.currency,i=e.isDemo,r=e.balance,a=e.levelsList,o=e.isBalanceVisible,s=e.isMobile,c=ld(Object(Bh.useState)(!1),2),l=c[0],u=c[1],d=Object(Bh.useRef)(null),f=Object(Bh.useRef)(null),p=function e(t){d&&d.current&&!d.current.contains(t.target)&&(document.removeEventListener("click",e),u(!1))};Object(Bh.useEffect)((function(){l?document.addEventListener("click",p):document.removeEventListener("click",p)}));var m="standart";t>=a[1]&&t<a[2]&&(m="pro"),t>=a[2]&&(m="vip");var y=h(s?"Demo":"Demo Account"),g=h(s?"Live":"Live Account");return Lh.a.createElement("div",{className:"usermenu"+(l?" active":""),ref:d},Lh.a.createElement("div",{className:"usermenu__info"+(l?" active":""),onClick:function(){u(!l)}},o&&Lh.a.createElement("div",{className:"usermenu__info-levels"},Lh.a.createElement(Hh,{name:"profile-level-".concat(m)})),Lh.a.createElement("div",{className:"usermenu__info-text"},o&&Lh.a.createElement("div",{className:"usermenu__info-name"},i?y:g),!o&&Lh.a.createElement("div",{className:"usermenu__info-name secondary"},"* * * * * * *"),o&&Lh.a.createElement("div",{className:"usermenu__info-balance"},ma({amount:r,currency:n})),!o&&Lh.a.createElement("div",{className:"usermenu__info-balance secondary"},"* * * * * * * * *")),Lh.a.createElement("div",{className:"usermenu__info-caret"},Lh.a.createElement(Hh,{name:"caret"}))),l&&Lh.a.createElement(cd,{setOpen:u,dropdownRef:f}))}));i(536);function dd(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],i=!0,r=!1,a=void 0;try{for(var o,s=e[Symbol.iterator]();!(i=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);i=!0);}catch(e){r=!0,a=e}finally{try{i||null==s.return||s.return()}finally{if(r)throw a}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return fd(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return fd(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function fd(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var pd=Object(Gh.b)((function(e){var t=e.global;return{balance:t.balance,currency:t.currency,isDemo:t.isDemo,liveBalance:t.liveBalance,levelsList:t.levelsList,isBalanceVisible:t.isBalanceVisible}}))((function(e){var t=e.balance,n=e.currency,i=e.isDemo,r=e.liveBalance,a=e.levelsList,o=e.isBalanceVisible,s=dd(Object(Bh.useState)(!1),2),c=s[0],l=s[1],u=Object(Bh.useRef)(null),d=function e(t){u&&u.current&&!u.current.contains(t.target)&&(document.removeEventListener("click",e),l(!1))};Object(Bh.useEffect)((function(){c?document.addEventListener("click",d):document.removeEventListener("click",d)}));var f="standart";return r>=a[1]&&r<a[2]&&(f="pro"),r>=a[2]&&(f="vip"),Lh.a.createElement("div",{className:"usermenu usermenu-mobile"+(c?" active":""),ref:u},Lh.a.createElement("div",{className:"usermenu-mobile__info",onClick:function(){l(!c)}},o&&Lh.a.createElement("div",{className:"usermenu-mobile__info-levels"},Lh.a.createElement(Hh,{name:"profile-level-".concat(f)})),o&&Lh.a.createElement("div",{className:"usermenu-mobile__info-name"},h(i?"Demo":"Live")),!o&&Lh.a.createElement("div",{className:"usermenu-mobile__info-name secondary"},"* * * * * * *"),o&&Lh.a.createElement("div",{className:"usermenu-mobile__info-balance"},ma({amount:t,currency:n})),!o&&Lh.a.createElement("div",{className:"usermenu-mobile__info-balance secondary"},"* * * * * * * * *"),Lh.a.createElement("div",{className:"usermenu-mobile__info-caret"},Lh.a.createElement(Hh,{name:"caret"}))),c&&Lh.a.createElement(cd,{setOpen:l}))})),md=(i(538),i(323)),yd=i.n(md),gd=i(324),vd=i.n(gd);function bd(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],i=!0,r=!1,a=void 0;try{for(var o,s=e[Symbol.iterator]();!(i=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);i=!0);}catch(e){r=!0,a=e}finally{try{i||null==s.return||s.return()}finally{if(r)throw a}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Ed(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ed(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ed(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var Ad=Object(Gh.b)((function(e){var t=e.global;return{lastDeposit:t.lastDeposit,possibleBonus:t.possibleBonus}}))((function(e){var t=e.lastDeposit,n=e.possibleBonus,i=bd(Object(Bh.useState)(!0),2),r=i[0],a=i[1],o=Object(Bh.useCallback)((function(){a(!r)}),[r,a]);return n&&!t&&r&&Lh.a.createElement("div",{className:"header__banner"},Lh.a.createElement("img",{className:"header__banner-bg",src:"/trade-room/files/".concat(yd.a),alt:"Banner bg"}),Lh.a.createElement("a",{className:"header__banner-container",href:Yc("deposit")+"?code="+n.promocode},Lh.a.createElement("img",{className:"header__banner-icon",src:"/trade-room/files/".concat(vd.a),alt:"Banner icon"}),Lh.a.createElement("span",null,h("Get a {bonus}% bonus on your first deposit",n.percent)),Lh.a.createElement("div",{className:"header__banner-percents"},n.percent,"%")),Lh.a.createElement("div",{className:"header__banner-close",onClick:o},Lh.a.createElement(Hh,{name:"close"})))}));i(540);function wd(e){return(wd="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _d(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function Od(e,t){return(Od=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Sd(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=Td(e);if(t){var r=Td(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return Cd(this,n)}}function Cd(e,t){return!t||"object"!==wd(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Td(e){return(Td=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function kd(e,t,n,i){var r=function(n){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Od(e,t)}(c,n);var r,a,o,s=Sd(c);function c(n,r){var a;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),(a=s.call(this,n,r)).mapStateToProps=e?function(t,n){return e(t,n,r)}:null,a.mapDispatchToProps="function"==typeof t?function(e,n){return t(e,n,r)}:t,a.component=Object(Gh.b)(a.mapStateToProps,a.mapDispatchToProps)(i),a.shouldComponentUpdate=a.component.shouldComponentUpdate,a}return r=c,(a=[{key:"render",value:function(){var e=this.component;return Lh.a.createElement(e,this.props)}}])&&_d(r.prototype,a),o&&_d(r,o),c}(Lh.a.Component);return r.contextType=n,r}function Id(e,t,n){return function(i){return kd(e,t,n,i)}}i(542),i(544);var Pd=Object(Bh.memo)((function(e){var t=e.country,n=e.className;return Lh.a.createElement("svg",{className:"".concat(n?n+" ":"","flag-").concat(t)},Lh.a.createElement("use",{xlinkHref:"/profile/images/flags.svg#flag-"+t}))})),Nd=Object(Bh.memo)((function(e){var t=e.flags,n=e.className;return Lh.a.createElement("div",{className:"flags"+(n?" ".concat(n):"")},t&&t.map((function(e,t){return Lh.a.createElement(Pd,{country:e,key:t})})))})),xd=function(e){var t=e.payout_1,n=e.payout_5,i=e.time,r=e.levelPercent,a=void 0===r?0:r;return i>=300?n+a:t+a},Rd=Lh.a.createContext("chartId"),Dd=Lh.a.createContext("chartSlotIndex"),Md=function(e){var t=e.levelsList,n=e.liveBalance,i=0;return n>=t[1]&&n<t[2]&&(i=2),n>=t[2]&&(i=4),i},Bd=Id((function(e){var t=e.chartSettings.chartById.graph,n=t.dealValue,i=t.currentAsset,r=t.timePeriod,a=i.obj,o=a.assetsList,s=a.label,c=a.payout_1,l=a.payout_5,u=a.fixed,h=e.global;return{dealValue:n,assetsList:o,label:s,currency:h.currency,timePeriod:r,payout_1:c,payout_5:l,fixed:u,levelsList:h.levelsList,liveBalance:h.liveBalance}}),null,Rd)((function(e){var t=e.assetsList,n=e.label,i=e.payout_1,r=e.payout_5,a=e.timePeriod,o=e.currency,s=e.dealValue,c=e.toggleDropdown,l=e.classNameSelect,u=e.fixed,d=e.levelsList,f=e.liveBalance,p=u?0:Md({levelsList:d,liveBalance:f}),m=xd({payout_1:i,payout_5:r,time:a,levelPercent:p}),y=(s+s*m/100).toFixed(2);return Lh.a.createElement(Lh.a.Fragment,null,Lh.a.createElement("div",{className:"trading-chart__mobile-select ".concat(l),onClick:c},Lh.a.createElement(Nd,{className:"trading-chart__mobile-select__flags",flags:t}),Lh.a.createElement("div",null,n),Lh.a.createElement("div",{className:"trading-chart__mobile-select__percent"},m,"%"),Lh.a.createElement(Hh,{className:"trading-chart__mobile-select__caret",name:"caret"})),Lh.a.createElement("div",{className:"trading-chart__mobile__payout"},h("Your payout:")," ",Lh.a.createElement("b",{className:y>0?"trading-chart__mobile__payout-up":"trading-chart__mobile__payout-down"},y," ",o)))}));i(546),i(548);function Ld(e){var t=new URLSearchParams(e);return function(e){e({type:"USER.RUN_NOTIFICATIONS_GET"}),fetch("/api/v1/user/notifications?"+t.toString(),{headers:{Accept:"application/json","Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(t){e({type:"USER.SUCCESS_NOTIFICATIONS_GET",payload:t})})).catch((function(t){return e({type:"USER.ERROR_NOTIFICATIONS_GET",payload:t.message})}))}}i(550);var jd=function(e){var t=Object(Gh.c)(),n=e.notification,i=n.id,r=n.type,a=n.header,o=n.title,s=n.description,c=n.created_at,l=n.is_readed,u=Object(Gh.d)((function(e){return e.userNotifications.readUserNotificationById.status})),h="";switch(r){case 1:h="warning";break;case 2:h="support";break;case 3:h="promo";break;case 4:case 5:h="news"}var d=Qe.a.unix(c);d=Qe()().diff(d,"days")?d.format("DD/MM/YYYY HH:mm"):d.locale(e.lang).fromNow();return Lh.a.createElement("div",{className:"header-notifications__item",onClick:function(){"loading"===u||l||t(function(e){return function(t){t({type:"USER.RUN_NOTIFICATION_READ"}),fetch("/api/v1/user/notifications/"+e+"/read",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){t({type:"USER.SUCCESS_NOTIFICATION_READ",payload:e})})).catch((function(e){return t({type:"USER.ERROR_NOTIFICATION_READ",payload:e.message})}))}}(i))}},Lh.a.createElement("div",{className:"header-notifications__item-icon"},Lh.a.createElement(Hh,{name:"notification-".concat(h)})),Lh.a.createElement("div",{className:"header-notifications__item-description"},!!a&&Lh.a.createElement("div",{className:"header-notifications__item-header",dangerouslySetInnerHTML:{__html:a}}),Lh.a.createElement("div",{className:"header-notifications__item-title",dangerouslySetInnerHTML:{__html:o}}),Lh.a.createElement("div",{dangerouslySetInnerHTML:{__html:s}}),Lh.a.createElement("div",{className:"header-notifications__item-date"},d)),!l&&Lh.a.createElement("div",{className:"header-notifications__item-readed"}),l&&Lh.a.createElement("div",{className:"header-notifications__item-not-readed"}))},Fd=i(325),Gd=function(e){var t=Object(Gh.c)(),n=Object(Gh.d)((function(e){return e.userNotifications.pagination})),i=n.current_page,r=n.total_pages,a=Object(Gh.d)((function(e){return e.userNotifications.getAllUserNotifications.status})),o=Object(Gh.d)((function(e){return e.userNotifications.readAllUserNotifications.status})),s=e.notifications,c=e.count,l=e.onClickCloseList,u=e.isMobile,d=e.lang,f="loading"===a;return Lh.a.createElement("div",{className:"header-notifications__list"},Lh.a.createElement("div",{className:"header-notifications__list-title"},Lh.a.createElement("div",null,h("Notifications")),Lh.a.createElement("div",{onClick:function(){c&&"loading"!==o&&t((function(e){e({type:"USER.RUN_NOTIFICATIONS_READ"}),fetch("/api/v1/user/notifications/read",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(t){e({type:"USER.SUCCESS_NOTIFICATIONS_READ",payload:t})})).catch((function(t){return e({type:"USER.ERROR_NOTIFICATIONS_READ",payload:t.message})}))}))},className:"header-notifications__list-title__all ".concat(c?"":"opacity")},h("mark all as read")),Lh.a.createElement("div",{className:"header-notifications__list-close",onClick:l},Lh.a.createElement(Hh,{name:"close"}))),Lh.a.createElement("div",{className:"header-notifications__list-body"},!s.length&&!f&&Lh.a.createElement("div",{className:"header-notifications__list-body__no"},h("No notifications")),!s.length&&f&&Lh.a.createElement("div",{className:"header-notifications__list-loader"},Lh.a.createElement(Hh,{name:"notifications-preloader"})),!!s.length&&Lh.a.createElement(Fd.a,{next:function(){var e=i+1;if(e<1||e>r)return!1;t(Ld({page:e}))},hasMore:i!==r,dataLength:s.length,endMessage:Lh.a.createElement("div",{className:"header-notifications__list-body__no"},h("No more notifications")),loader:Lh.a.createElement("div",{className:"header-notifications__list-preloader"},Lh.a.createElement(Hh,{name:"notifications-preloader"})),height:s.length>=1?u?window.innerHeight-42:window.innerHeight-282>500?500:window.innerHeight-282:""},s.map((function(e){return Lh.a.createElement(jd,{key:e.id,notification:e,lang:d})})))))};function Vd(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],i=!0,r=!1,a=void 0;try{for(var o,s=e[Symbol.iterator]();!(i=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);i=!0);}catch(e){r=!0,a=e}finally{try{i||null==s.return||s.return()}finally{if(r)throw a}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Hd(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Hd(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Hd(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var Ud=function(e){var t=Object(Gh.c)(),n=Object(Gh.d)((function(e){return e.userNotifications.list})),i=Object(Gh.d)((function(e){return e.userNotifications.countUnreadedNotifications})),r=Object(Gh.d)((function(e){return e.userNotifications.getAllUserNotifications.status})),a=e.isMobile,o=e.lang,s=e.className,c=Vd(Object(Bh.useState)(!1),2),l=c[0],u=c[1],h=Object(Bh.useRef)(null),d=Object(Bh.useCallback)((function(e){h.current&&!h.current.contains(e.target)&&(document.removeEventListener("click",d),u(!1))}),[h,u]);return Object(Bh.useEffect)((function(){l?(document.addEventListener("click",d),"loading"!==r&&t(Ld())):document.removeEventListener("click",d)}),[l]),Lh.a.createElement("div",{className:"header-notifications ".concat(s||""),ref:h},Lh.a.createElement("div",{className:"header-notifications__button ".concat(l?"active":""),onClick:function(){return u(!l)}},Lh.a.createElement(Hh,{name:"notification",className:"header-notifications__icon"}),!!i&&Lh.a.createElement("div",{className:"header-notifications__count"},i)),l&&Lh.a.createElement(Gd,{notifications:n,count:i,lang:o,isMobile:a,onClickCloseList:function(){return u(!1)}}))};var Wd=Object(Gh.b)((function(e){var t=e.global,n=t.sidePanelOpened,i=t.theme,r=t.lang,a=t.lastDeposit,o=t.possibleBonus,s=t.isMobile,c=t.isHideTradingUI;return{sidePanelOpened:n,theme:i,lang:r,lastDeposit:a,possibleBonus:o,isGraph:!!e.chartSettings.chartById.graph,isMobile:s,isHideTradingUI:c}}),(function(e){return Object(er.b)({changeSidePanelOpened:zc,changeModalState:$h},e)}))((function(e){var t=e.className,n=e.sidePanelOpened,i=e.changeSidePanelOpened,r=e.lang,a=e.theme,o=e.lastDeposit,s=e.possibleBonus,c=e.isGraph,l=e.isMobile,u=e.isHideTradingUI,d=e.isTrading;var f=function(){e.changeModalState({modalId:Ss.ASSETS_DROPDOWN,value:!1,data:null})},p="light"===a?"light":"dark";return Lh.a.createElement("header",{className:"header ".concat(t)},Lh.a.createElement("div",{className:"header__brand"},Lh.a.createElement("a",{className:"header__logo",href:"/trade"},Lh.a.createElement(Hh,{name:"logo-".concat(p)})),Lh.a.createElement("div",{className:"header__slogan"},"Web Trading Platform")),Lh.a.createElement("div",{className:"header__mobile-menu",onClick:function(){i("more"!==n&&"more")}}),!u&&d&&Lh.a.createElement(Ad,null),c&&"deal-list"!==n&&Lh.a.createElement(Bd,{classNameSelect:"",toggleDropdown:function(){e.changeModalState({modalId:Ss.ASSETS_DROPDOWN,value:!0,data:{activeTab:"currency",offsetLeft:0,changeSymbolReplace:function(){},toggleDropdown:f}})}}),!u&&c&&Lh.a.createElement(Ud,{isMobile:l,lang:r,className:"header-notifications-mobile"}),!u&&c&&Lh.a.createElement(pd,null),!u&&Lh.a.createElement("div",{className:"header__container"},Lh.a.createElement(Ud,{isMobile:l,lang:r}),Lh.a.createElement(hd,{className:"header__usermenu"}),Lh.a.createElement("div",{className:"header__sidebar"},Lh.a.createElement(Zh,{className:"header__sidebar-button ".concat(s&&!o?"deposit":""," "),type:"success",size:"small",href:Yc("deposit")},Lh.a.createElement("div",{className:"button__icon"},Lh.a.createElement(Hh,{name:"plus"})),Lh.a.createElement("span",null,h("Deposit"))),Lh.a.createElement(Zh,{className:"header__sidebar-button hide-md-down",size:"small",href:Yc("withdrawal")},h("Withdrawal")))),!u&&l&&Lh.a.createElement("div",{className:"header__mobile-button__container"},Lh.a.createElement(Zh,{className:"header__mobile-button",type:"success",size:"small",href:Yc("deposit")},Lh.a.createElement("span",null,h("Deposit")))))})),Yd=(i(552),i(103)),Qd=i.n(Yd);var Xd=Object(Gh.b)((function(e){var t=e.global,n=t.sidebarOpened;return{sidePanelOpened:t.sidePanelOpened,sidebarOpened:n,email:t.email,isDemo:t.isDemo,theme:t.theme,countUnreadedMessages:t.countUnreadedMessages,hasProfileNotifications:t.hasProfileNotifications,isSoundOnOff:t.isSoundOnOff,telegramChat:t.telegramChat,liveBalance:t.liveBalance,levelsList:t.levelsList,isHideTradingUI:t.isHideTradingUI}}),(function(e){return Object(er.b)({changeSidePanelOpened:zc,changeSidebarOpened:Xc,changeSoundOnOff:$c},e)}))((function(e){var t=e.sidebarOpened,n=e.changeSidebarOpened,i=e.email,r=e.isDemo,a=e.changeSidePanelOpened,o=e.sidePanelOpened,s=e.theme,c=e.countUnreadedMessages,l=e.hasProfileNotifications,u=e.toggleSidebarName,d=e.isOpenSidebarName,f=e.isSoundOnOff,p=e.changeSoundOnOff,m=e.telegramChat,y=(e.liveBalance,e.levelsList,e.isHideTradingUI),g=e.isTrading;var v="light"===s?"light":"dark";return Lh.a.createElement("aside",{className:"sidebar app__sidebar"+(t?" active":"")},Lh.a.createElement("div",{onClick:function(){n(!t)}},!t&&Lh.a.createElement(Hh,{name:"burger-".concat(v),className:"sidebar__toggle"}),t&&Lh.a.createElement(Hh,{name:"burger-closed-".concat(v),className:"sidebar__toggle"})),Lh.a.createElement("nav",{className:"sidebar__buttons"},Lh.a.createElement("button",{className:"sidebar__button ".concat(d?"open-name":""),onClick:function(){a("help"!==o&&"help")},"data-text":h("Help")},Lh.a.createElement("div",{className:"sidebar__button-icon ".concat(c?"help":""," ")},Lh.a.createElement(Hh,{name:"help"}),d&&Lh.a.createElement("span",null,h("Help")))),Lh.a.createElement("a",{className:"sidebar__button "+(g&&!r?"active":"")+(d?" open-name":""),"data-text":h("Trade"),href:Yc("trade")},Lh.a.createElement("div",{className:"sidebar__button-icon"},Lh.a.createElement(Hh,{name:"trade"}),d&&Lh.a.createElement("span",null,h("Trade")))),!y&&Lh.a.createElement("a",{className:"sidebar__button "+(g&&r?"active":"")+(d?" open-name":""),"data-text":h("Demo"),href:Yc("demo-trade")},Lh.a.createElement("div",{className:"sidebar__button-icon"},Lh.a.createElement(Hh,{name:"academic"}),d&&Lh.a.createElement("span",null,h("Demo")))),!y&&Lh.a.createElement("a",{className:"sidebar__button ".concat(d?"open-name":""," ").concat(g?"":"active"),"data-text":h("Profile"),href:Yc("settings")},Lh.a.createElement("div",{className:"sidebar__button-icon ".concat(l?"profile-error":""," ")},Lh.a.createElement(Hh,{name:"profile"}),d&&Lh.a.createElement("span",null,h("Profile")))),!y&&Lh.a.createElement("a",{className:"sidebar__button ".concat(d?"open-name":""),"data-text":h("Analytics"),href:Yc("analytics")},Lh.a.createElement("div",{className:"sidebar__button-icon"},Lh.a.createElement(Hh,{name:"analytics"}),d&&Lh.a.createElement("span",null,h("Analytics")))),!y&&g&&Lh.a.createElement("button",{className:"sidebar__button ".concat(d?"open-name":""),"data-text":h("Top"),onClick:function(){a("leader"!==o&&"leader")}},Lh.a.createElement("div",{className:"sidebar__button-icon"},Lh.a.createElement(Hh,{name:"top"}),d&&Lh.a.createElement("span",null,h("Top")))),g&&Lh.a.createElement("button",{className:"sidebar__button ".concat(d?"open-name":""),"data-text":h("Signals"),onClick:function(){a("signals"!==o&&"signals")}},Lh.a.createElement("div",{className:"sidebar__button-icon"},Lh.a.createElement(Hh,{name:"trading-signals"}),d&&Lh.a.createElement("span",null,h("Signals")))),!y&&Lh.a.createElement("a",{className:"sidebar__button ".concat(d?"open-name":""),"data-text":h("Market"),href:Yc("market")},Lh.a.createElement("div",{className:"sidebar__button-icon"},Lh.a.createElement(Hh,{name:"market"}),d&&Lh.a.createElement("span",null,h("Market"))))),Lh.a.createElement("div",{className:"sidebar__usermenu"},Lh.a.createElement("div",{className:"sidebar__usermenu-head"},i),!y&&Lh.a.createElement("nav",{className:"sidebar__list-menu"},Lh.a.createElement("a",{className:"sidebar__list-menu__link",href:Yc("deposit")},h("Deposit")),Lh.a.createElement("a",{className:"sidebar__list-menu__link",href:Yc("withdrawal")},h("Withdrawal")),Lh.a.createElement("a",{className:"sidebar__list-menu__link",href:Yc("balance")},h("Transactions")),Lh.a.createElement("a",{className:"sidebar__list-menu__link",href:Yc("trades")},h("Trades")),Lh.a.createElement("a",{className:"sidebar__list-menu__link",href:Yc("settings")},h("Profile")))),Lh.a.createElement("div",{className:"sidebar__footer sidebar__footer--closed"},Lh.a.createElement("div",{className:"sidebar__settings-block"},Lh.a.createElement("button",{className:"sidebar__settings-button",onClick:function(){Qd.a.isEnabled&&Qd.a.toggle()}},Lh.a.createElement(Hh,{name:"settings-full-screen"})),Lh.a.createElement("button",{className:"sidebar__settings-button ".concat(d?"":"rotate"),onClick:u},Lh.a.createElement(Hh,{name:"left-sidebar"}))),Lh.a.createElement("div",{className:"sidebar__settings"},Lh.a.createElement("button",{className:"sidebar__settings-button",onClick:function(){a("settings"!==o&&"settings")}},Lh.a.createElement(Hh,{name:"settings"})),Lh.a.createElement("button",{className:"sidebar__settings-button",onClick:function(){p(!f)}},Lh.a.createElement(Hh,{name:"".concat(f?"settings-sound":"settings-sound-off")}))),Lh.a.createElement("a",{href:"https://t.me/".concat(m),target:"_blank",className:"sidebar__telegramchat"},Lh.a.createElement("div",null,Lh.a.createElement(Hh,{name:"telegram-chat"}),h("Official"))),Lh.a.createElement("div",{className:"sidebar__livechat"},Lh.a.createElement("a",{className:"sidebar__livechat-status online",href:Yc("support/create"),onClick:function(){}},h("Help")))),Lh.a.createElement("div",{className:"sidebar__footer sidebar__footer--open"},Lh.a.createElement("nav",{className:"sidebar__list-menu sidebar__list-menu--tiny"},Lh.a.createElement("a",{className:"list-menu__link",href:Yc("about-us")},h("About us")),Lh.a.createElement("a",{className:"sidebar__list-menu__link",href:Yc("support")},h("Support"))),Lh.a.createElement("a",{className:"sidebar__logout",href:Yc("logout")},Lh.a.createElement(Hh,{name:"logout"})," ",h("Logout"))))})),zd=function(e){var t=e.title,n=e.body,i=e.footer,r=e.children,a=e.panelClass,o=e.showInnerPanel,s=e.onInnerPanel;return Lh.a.createElement("div",{className:"sidepanel__content"},Lh.a.createElement("div",{className:"sidepanel__content-wrapper"+(a?" ".concat(a):"")},t&&!o&&Lh.a.createElement("div",{className:"sidepanel__title"},t),o&&Lh.a.createElement("div",{className:"panel-indicators__single-back",onClick:function(){s(!1)}},Lh.a.createElement(Hh,{name:"caret-left"})," ",t||"Back"),n&&!r&&Lh.a.createElement("div",{className:"sidepanel__body"},n),i&&!r&&Lh.a.createElement("div",{className:"sidepanel__footer"},i),r&&!n&&Lh.a.Children.map(r,(function(e){return Lh.a.cloneElement(e,{showInnerPanel:o,onInnerPanel:s})}))))};zd.propTypes={title:Jh.a.string.isRequired,body:Jh.a.node,footer:Jh.a.oneOfType([Jh.a.node,Jh.a.string]),children:Jh.a.node,panelClass:Jh.a.string,showInnerPanel:Jh.a.bool,onInnerPanel:Jh.a.func},zd.defaultProps={showInnerPanel:!1};var Kd=zd,Jd=(i(554),i(556),Object(Bh.forwardRef)((function(e,t){var n=e.className,i=e.label,r=e.children,a=e.inputType,o=e.inputId,s=e.theme,c=e.labelAccent,l=e.isValid,u=e.active,d=e.onClick,f=e.onClickSwitchTime,p=e.isSwitcherVisible;void 0===p&&(p=!0);var m=void 0===l?null:l?"input-control--valid":"input-control--invalid";return Lh.a.createElement("label",{ref:t,className:"input-control"+(a?" input-control--".concat(a):"")+("light"!==s?" input-control--".concat(s):"")+(u?" active":"")+(m?" ".concat(m):"")+(n?" ".concat(n):""),htmlFor:o,onClick:function(e){d&&d(e)}},"checkbox"===a&&r,Lh.a.createElement("span",{className:"input-control__label"+(c?" input-control__label--accent":"")},i),"time"===a&&p&&Lh.a.createElement("span",{className:"input-control__label__switch",onClick:f},h("Switch time")),"checkbox"!==a&&r)})));Jd.displayName="InputLabel";var qd=Jd;function Zd(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],i=!0,r=!1,a=void 0;try{for(var o,s=e[Symbol.iterator]();!(i=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);i=!0);}catch(e){r=!0,a=e}finally{try{i||null==s.return||s.return()}finally{if(r)throw a}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return $d(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return $d(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function $d(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var ef=function(e){var t=e.inputId,n=e.value,i=e.options,r=e.iconsProvider,a=e.active,o=e.onChange,s=e.onOutsideClick,c=Zd(Object(Bh.useState)(y(n)),2),l=c[0],u=c[1],h=Zd(Object(Bh.useState)(e.value),2),d=h[0],f=h[1],p=Object(Bh.createRef)(),m=Object(Bh.useCallback)((function(e){p.current&&!p.current.contains(e.target)&&(document.removeEventListener("click",m),s&&s())}),[p,s]);function y(e){var t=i.filter((function(t){return t.value===e}));return t.length?t[0]:i[0]}return Object(Bh.useEffect)((function(){f(function(e){var t=y(e);return t?t.label:e}(l.value)),o&&o(l.value,l)}),[l]),Object(Bh.useEffect)((function(){return a?document.addEventListener("click",m,!1):document.removeEventListener("click",m,!1),function(){document.removeEventListener("click",m,!1)}}),[a,m]),Lh.a.createElement(Lh.a.Fragment,null,Lh.a.createElement("input",{className:"input-control__input",id:t,type:"hidden",value:n}),Lh.a.createElement("div",{className:"input-control__value"},r?r(n):"",d),Lh.a.createElement("div",{className:"input-control__caret"},Lh.a.createElement(Hh,{name:"caret"})),Lh.a.createElement("div",{className:"input-control__dropdown"+(r?" input-control__dropdown--icons":""),ref:p},i.map((function(e,t){return Lh.a.createElement("div",{className:"input-control__dropdown-option"+(n===e.value?" active":""),onClick:function(t){return function(e,t){t.stopPropagation(),t.preventDefault(),document.removeEventListener("click",m,!1),u(e),s&&s()}(e,t)},key:t},r?r(e.value):"",e.label)}))))};ef.propTypes={className:Jh.a.string,inputId:Jh.a.string.isRequired,options:Jh.a.arrayOf(Jh.a.exact({label:Jh.a.string,value:Jh.a.oneOfType([Jh.a.string,Jh.a.number]).isRequired})).isRequired,defaultValue:Jh.a.oneOfType([Jh.a.string,Jh.a.number]),active:Jh.a.bool,iconsProvider:Jh.a.func,onChange:Jh.a.func,onOutsideClick:Jh.a.func},ef.defaultProps={};var tf=ef;function nf(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],i=!0,r=!1,a=void 0;try{for(var o,s=e[Symbol.iterator]();!(i=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);i=!0);}catch(e){r=!0,a=e}finally{try{i||null==s.return||s.return()}finally{if(r)throw a}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return rf(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return rf(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function rf(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var af=function(e){var t=e.inputId,n=e.options,i=e.active,r=e.defaultValue,a=e.onChange,o=e.onOutsideClick,s=e.isFastOption,c=e.timeZone,l=e.isInputDisabled;void 0===l&&(l=!1);var u=nf(Object(Bh.useState)(r),2),d=u[0],f=u[1],p=nf(Object(Bh.useState)(0),2),m=p[0],y=p[1],g=nf(Object(Bh.useState)(0),2),v=g[0],b=g[1],E=nf(Object(Bh.useState)(0),2),A=E[0],w=E[1],_=nf(Object(Bh.useState)(!1),2),O=_[0],S=_[1],C=nf(Object(Bh.useState)(!1),2),T=C[0],k=(C[1],nf(Object(Bh.useState)(!1),2)),I=k[0],P=(k[1],Object(Bh.createRef)());Object(Bh.useEffect)((function(){f(r),N(r)}),[r,s]);var N=Object(Bh.useCallback)((function(e){var t=nf((s?et(e,c):ze(e)).split(":"),3),n=t[0],i=t[1],r=t[2];y(n),b(i),w(r)}),[s,c]),x=Object(Bh.useCallback)((function(e){var t=+e.target.value;return S(!1),isNaN(t)?null:y(t>23?23:t)}),[s,a]),R=Object(Bh.useCallback)((function(e){var t=+e.target.value;return t>=99||isNaN(t)?null:b(t>59?59:t)}),[s,a]),D=Object(Bh.useCallback)((function(e){var t=+e.target.value;return isNaN(t)?null:w(t>59?59:t)}),[s,a]);var M=s?et(d,c):ze(d);return Lh.a.createElement(Lh.a.Fragment,null,Lh.a.createElement("input",{className:"input-control__input",id:t,type:"hidden",value:d}),Lh.a.createElement("div",{className:"input-control__value"},M),Lh.a.createElement("div",{className:"input-control__caret"},Lh.a.createElement(Hh,{name:"caret"})),Lh.a.createElement("div",{className:"input-control-mobile__block"+(i?" active":""),ref:P},Lh.a.createElement("div",{className:"input-control-mobile__block__content"},Lh.a.createElement("div",{className:"input-control-mobile__block__header"},h("Time"),Lh.a.createElement("div",{onClick:function(e){return(t=e).stopPropagation(),t.preventDefault(),document.querySelector(".app__page").classList.remove("--fixed"),a&&a(d),void(o&&o());var t}},Lh.a.createElement(Hh,{name:"close"}))),Lh.a.createElement("div",{className:"input-control-mobile__block__modal"},n.map((function(e,t){return Lh.a.createElement("div",{className:"input-control-mobile__block__modal-item"+(d===e.value?" active":""),key:t,onClick:function(t){return function(e,t){e.stopPropagation(),e.preventDefault(),document.querySelector(".app__page").classList.remove("--fixed"),a&&a(t.value),o&&o()}(t,e)}},e.label)}))),Lh.a.createElement("div",{className:"input-control-mobile__block__time"},Lh.a.createElement("label",{className:"input-control input-control--number input-control--text-left ".concat(O?"input-control--invalid":"")},Lh.a.createElement("span",{className:"input-control__label"},h("H:")),Lh.a.createElement("input",{type:"text",className:"input-control__input ".concat(O?"input-control-mobile__text-error":""),value:m,onChange:x,disabled:l})),Lh.a.createElement("label",{className:"input-control input-control--number input-control--text-left ".concat(T?"input-control--invalid":"")},Lh.a.createElement("span",{className:"input-control__label"},h("M:")),Lh.a.createElement("input",{type:"text",className:"input-control__input ".concat(T?"input-control-mobile__text-error":""),value:v,onChange:R,disabled:l})),Lh.a.createElement("label",{className:"input-control input-control--number input-control--text-left ".concat(I?"input-control--invalid":"")},Lh.a.createElement("span",{className:"input-control__label"},h("S:")),Lh.a.createElement("input",{type:"text",className:"input-control__input ".concat(I?"input-control-mobile__text-error":""),value:A,onChange:D,disabled:l}))),(!m&&!v&&!A||O)&&Lh.a.createElement("div",{className:"input-control-mobile__block__time-error"},h("You can't enter a time less than 1 minute or more than 4 hours")),!m&&!v&&I&&Lh.a.createElement("div",{className:"input-control-mobile__block__time-error"},h("You can't enter a number less than 0 or greater than 59 in seconds")),Lh.a.createElement("div",{className:"input-control-mobile__block-button ".concat(m||v||A?"":"disable"),onClick:function(e){if(!m&&!v&&!A)return!1;e.stopPropagation(),e.preventDefault();var t=parseInt(m,10),n=parseInt(v,10),i=parseInt(A,10);if(!s&&(m>4||4===m&&(v>0||A>0)))return S(!0);var r=60*t*60+60*n+i;s?(r+=d-d%86400,r-=c):r<60?r=60:r>14400&&(r=14400),a&&a(r),o&&o()}},Lh.a.createElement(Hh,{name:"check"}),h("Apply")))))};af.propTypes={inputId:Jh.a.string.isRequired,active:Jh.a.bool,onChange:Jh.a.func,onOutsideClick:Jh.a.func};var of=af;function sf(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],i=!0,r=!1,a=void 0;try{for(var o,s=e[Symbol.iterator]();!(i=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);i=!0);}catch(e){r=!0,a=e}finally{try{i||null==s.return||s.return()}finally{if(r)throw a}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return cf(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return cf(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function cf(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var lf=function(e){var t=e.className,n=e.inputId,i=e.onChange,r=sf(Object(Bh.useState)(e.value),2),a=r[0],o=r[1];return Object(Bh.useEffect)((function(){i&&i(a)}),[a]),Lh.a.createElement(Lh.a.Fragment,null,Lh.a.createElement("input",{className:"input-control__checkbox"+(t?" ".concat(t):""),id:n,type:"checkbox",checked:a,onChange:function(e){var t=e.target.checked;o(t)}}))};lf.propTypes={className:Jh.a.string,inputId:Jh.a.string},lf.defaultProps={value:!1};var uf=lf,hf=i(37),df=i.n(hf);function ff(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],i=!0,r=!1,a=void 0;try{for(var o,s=e[Symbol.iterator]();!(i=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);i=!0);}catch(e){r=!0,a=e}finally{try{i||null==s.return||s.return()}finally{if(r)throw a}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return pf(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return pf(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function pf(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var mf=function(e){var t=e.className,n=e.inputId,i=e.options,r=e.minValue,a=e.maxValue,o=e.controlRef,s=e.active,c=e.onChange,l=e.onOutsideClick,u=e.decreaseHandler,h=e.increaseHandler,d=e.defaultValue,f=e.timeZone,p=e.isFastOption,m=e.isInputDisabled;void 0===m&&(m=!1);var y=e.formatFunction,g=ff(Object(Bh.useState)(null),2),v=g[0],b=g[1],E=Object(Bh.useCallback)((function(e){o.current&&!o.current.contains(e.target)&&(document.removeEventListener("click",E),l&&l())}),[o,l]);return Object(Bh.useEffect)((function(){return s?document.addEventListener("click",E,!1):document.removeEventListener("click",E,!1),function(){document.removeEventListener("click",E,!1)}}),[s,E]),Object(Bh.useEffect)((function(){d&&b(et(d,p?f:0))}),[d,f]),y||(y=Je),Lh.a.createElement(Lh.a.Fragment,null,Lh.a.createElement("button",{className:"input-control__button",disabled:void 0!==r&&r>=v,onClick:function(e){if(e.stopPropagation(),s&&l&&l(),null!==u)return u()}},"-"),Lh.a.createElement(df.a,{id:n,type:"text",placeholder:"00:00:30",mask:[/[0]/,/[0-4]/,":",/[0-5]/,/[0-9]/,":",/[0-5]/,/[0-9]/],value:p&&v?v.substr(0,5):v,onChange:function(e){var t,n=e.target.selectionStart,i=String(e.nativeEvent.data),r=e.target.defaultValue;switch(n){case 1:t=0;break;case 3:t=1;break;case 4:t=3;break;case 6:t=4;break;case 7:t=6;break;case 8:t=7;break;default:t=n}var a=r.substring(0,t)+i+r.substring(t+1),o=3600*a[1],s=60*a.substr(3,2),l=a.substr(6,2),u=Number(o)+Number(s)+Number(l);u<60?u=60:u>14400&&(u=14400),u&&(b(et(u,p?f:0)),c&&c(u))},disabled:m,className:"input-control__input opacity"+(t?" ".concat(t):"")}),Lh.a.createElement("button",{className:"input-control__button",disabled:void 0!==a&&a<=v,onClick:function(e){if(e.stopPropagation(),s&&l&&l(),null!==h)return h()}},"+"),Lh.a.createElement("div",{className:"input-control__dropdown"},i&&i.map((function(e,t){return Lh.a.createElement("div",{className:"input-control__dropdown-option"+(v===e.value?" active":""),onClick:function(t){return function(e,t){t.stopPropagation(),t.preventDefault(),document.removeEventListener("click",E,!1),c&&c(e.value),l&&l()}(e,t)},key:t},e.label?e.label:y(e.value))}))))};function yf(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],i=!0,r=!1,a=void 0;try{for(var o,s=e[Symbol.iterator]();!(i=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);i=!0);}catch(e){r=!0,a=e}finally{try{i||null==s.return||s.return()}finally{if(r)throw a}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return gf(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return gf(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function gf(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var vf=function(e){var t=e.className,n=e.inputId,i=e.prefix,r=e.suffix,a=e.minValue,o=e.maxValue,s=e.onChange,c=e.onFocus,l=e.onBlur,u=e.precision,h=void 0===u?1:u,d=yf(Object(Bh.useState)(e.value||0),2),f=d[0],p=d[1],m=yf(Object(Bh.useState)(b(f)),2),y=m[0],g=m[1];function v(e){return"string"==typeof e&&"."===e[e.length-1]&&h<1||("string"==typeof e&&(e=parseFloat(e)||0),void 0!==o&&o<e&&(e=o)),e}function b(e){return i&&(e="".concat(i," ").concat(e)),r&&(e="".concat(e," ").concat(r)),e}return Object(Bh.useEffect)((function(){g(b(f)),s&&s(f)}),[f]),Lh.a.createElement(Lh.a.Fragment,null,Lh.a.createElement("button",{className:"input-control__button",disabled:void 0!==a&&a>=f,onClick:function(e){e.stopPropagation(),p(v((f-h).toFixed(2)))}},"-"),Lh.a.createElement("input",{className:"input-control__input"+(t?" ".concat(t):""),type:"text",id:n,value:y,onChange:function(e){var t=v(e.target.value);p(t)},onFocus:function(e){c&&c(e)},onBlur:function(e){var t=v(e.target.value);void 0!==a&&a>t&&(t=a),p(t),l&&l(e)}}),Lh.a.createElement("button",{className:"input-control__button",disabled:void 0!==o&&o<=f,onClick:function(e){e.stopPropagation(),p(v((f+h).toFixed(2)))}},"+"))};vf.propTypes={className:Jh.a.string,inputId:Jh.a.string.isRequired,value:Jh.a.oneOfType([Jh.a.string,Jh.a.number]),suffix:Jh.a.string,prefix:Jh.a.string,onChange:Jh.a.func,onFocus:Jh.a.func,onBlur:Jh.a.func},vf.defaultProps={};var bf=vf;function Ef(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],i=!0,r=!1,a=void 0;try{for(var o,s=e[Symbol.iterator]();!(i=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);i=!0);}catch(e){r=!0,a=e}finally{try{i||null==s.return||s.return()}finally{if(r)throw a}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Af(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Af(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Af(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var wf=function(e){var t=e.label,n=e.className,i=e.inputId,r=e.value,a=e.disableSlider,o=e.minWidth,s=e.maxWidth,c=e.palette,l=e.onChange,u=Ef(Object(Bh.useState)(r.width),2),h=u[0],d=u[1],f=Ef(Object(Bh.useState)(r.color),2),p=f[0],m=f[1];return Object(Bh.useEffect)((function(){l&&l({width:h,color:p})}),[h,p]),Lh.a.createElement(Lh.a.Fragment,null,Lh.a.createElement("div",{className:"input-control__preview"},!!c.length&&Lh.a.createElement("div",{className:"input-control__preview-preset",style:{backgroundColor:p}}),Lh.a.createElement("div",null,!!t&&Lh.a.createElement("div",{className:"input-control__preview-label"},t),!a&&Lh.a.createElement("input",{className:"input-control__slider"+(n?" ".concat(n):""),type:"range",id:i,min:o,max:s,defaultValue:h,onChange:function(e){return d(e.currentTarget.value,e)}}))),!!c.length&&Lh.a.createElement("div",{className:"input-control__palette"},c.map((function(e,t){return Lh.a.createElement("div",{className:"input-control__palette-preset"+(e===p?" active":""),style:{backgroundColor:e},onClick:function(t){return m(e,t)},key:t})}))))};wf.propTypes={className:Jh.a.string,value:Jh.a.exact({width:Jh.a.oneOfType([Jh.a.number,Jh.a.string]),color:Jh.a.string}),minWidth:Jh.a.number,maxWidth:Jh.a.number,palette:Jh.a.arrayOf(Jh.a.string)},wf.defaultProps={value:{width:2,color:"#d13939"},minWidth:1,maxWidth:10,palette:[]};var _f=wf;function Of(){return(Of=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}function Sf(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],i=!0,r=!1,a=void 0;try{for(var o,s=e[Symbol.iterator]();!(i=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);i=!0);}catch(e){r=!0,a=e}finally{try{i||null==s.return||s.return()}finally{if(r)throw a}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Cf(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Cf(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Cf(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function Tf(e,t){if(null==e)return{};var n,i,r=function(e,t){if(null==e)return{};var n,i,r={},a=Object.keys(e);for(i=0;i<a.length;i++)n=a[i],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var kf=function(e){var t=e.className,n=e.theme,i=e.type,r=e.label,a=e.labelAccent,o=e.defaultValue,s=e.isValid,c=e.options,l=e.iconsProvider,u=e.suffix,h=e.prefix,d=e.minValue,f=e.maxValue,p=e.palette,m=e.helpMessage,y=e.hintMessage,g=e.hintAlign,v=e.onChange,b=e.onFocus,E=e.onBlur,A=e.precision,w=void 0===A?1:A,_=e.minWidth,O=e.maxWidth,S=e.disableSlider,C=e.onClickSwitchTime,T=e.isSwitcherVisible,k=e.isInputDisabled,I=e.isFastOption,P=e.timeZone,N=e.decreaseHandler,x=e.increaseHandler,R=Tf(e,["className","theme","type","label","labelAccent","defaultValue","isValid","options","iconsProvider","suffix","prefix","minValue","maxValue","palette","helpMessage","hintMessage","hintAlign","onChange","onFocus","onBlur","precision","minWidth","maxWidth","disableSlider","onClickSwitchTime","isSwitcherVisible","isInputDisabled","isFastOption","timeZone","decreaseHandler","increaseHandler"]),D=Sf(Object(Bh.useState)(o),2),M=D[0],B=D[1],L=Sf(Object(Bh.useState)(!1),2),j=L[0],F=L[1],G=r.toLowerCase().replace(/\W/g,"")+"-"+Math.round((new Date).getTime()*Math.random()),V=Object(Bh.createRef)();function H(e){if("time"===i&&e.target===document.querySelector(".input-control__label__switch"))return!1;"select-mobile"===i&&document.querySelector(".app__page").classList.add("--fixed"),F(!0),b&&b()}function U(){F(!1),E&&E()}function W(e){B(e)}function Y(e){return Lh.a.createElement(qd,{theme:n,label:r,labelAccent:a,inputType:i,inputId:G,isValid:s,className:(u||h?" input-control--text-left":"")+(e?" ".concat(e):""),active:j,onClick:H,ref:V,onClickSwitchTime:C,isSwitcherVisible:T},function(e){switch(e){case"number":return Lh.a.createElement(bf,{inputId:G,value:M,minValue:d,maxValue:f,prefix:h,suffix:u,onChange:W,onFocus:H,onBlur:U,precision:w});case"checkbox":return Lh.a.createElement(uf,{inputId:G,value:M,onChange:W});case"select":return Lh.a.createElement(tf,{inputId:G,value:M,options:c,iconsProvider:l,active:j,onChange:W,onOutsideClick:U});case"select-mobile":return Lh.a.createElement(of,{inputId:G,defaultValue:o,value:M,options:c,iconsProvider:l,active:j,onChange:W,onOutsideClick:U,isFastOption:I,onClickSwitchTime:C,timeZone:P,isInputDisabled:k});case"line-params":return Lh.a.createElement(_f,{disableSlider:S,label:r,inputId:G,value:M,minWidth:_,maxWidth:O,palette:p,onChange:W});case"time":return Lh.a.createElement(mf,{inputId:G,value:M,options:c,active:j,onChange:v,onOutsideClick:U,controlRef:V,defaultValue:o,minValue:d,maxValue:f,isFastOption:I,timeZone:P,decreaseHandler:N,increaseHandler:x,isInputDisabled:k});case"text":default:return Lh.a.createElement("input",Of({type:"text",id:G,className:"input-control__input"},R))}}(i))}return Object(Bh.useEffect)((function(){v&&v(M)}),[M]),m||y?Lh.a.createElement("div",{className:"input-control-wrapper"+(t?" ".concat(t):"")},Y(),m&&Lh.a.createElement("div",{className:"input-control__help"},m),y&&Lh.a.createElement("div",{className:"input-control__hint"+("center"===g?" input-control__hint--center":"")},y)):Y(t)},If=(i(558),function(e){var t=e.colorActive,n=e.colorsList,i=e.label,r=e.onChange;return Lh.a.createElement("div",{className:"input-color"},Lh.a.createElement("div",{className:"input-color__label"},Lh.a.createElement("div",{className:"input-color__preview",style:{backgroundColor:t}}),i),Lh.a.createElement("div",{className:"input-color__list"},n.map((function(e){return Lh.a.createElement("div",{key:e,style:{backgroundColor:e},className:"input-color__list-item",onClick:function(){return r(e)}},e===t&&Lh.a.createElement(Hh,{name:"#FFFFFF"===e?"check-dark":"check-white"}))}))))});If.propTypes={colorActive:Jh.a.string.isRequired,colorsList:Jh.a.arrayOf(Jh.a.string).isRequired,label:Jh.a.string.isRequired,onChange:Jh.a.func.isRequired};var Pf=If,Nf=i(104);function xf(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var Rf,Df,Mf,Bf=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,i;return t=e,i=[{key:"getTimezones",value:function(){return e.tzlist||(e.tzlist=window.settings.tzlist.map((function(e){return{value:e.value,label:e.label}}))),e.tzlist}},{key:"getCurrentTimezoneOffset",value:function(){return 60*Nf.tz(Nf.tz.guess()).utcOffset()}}],(n=null)&&xf(t.prototype,n),i&&xf(t,i),e}();Mf=null,(Df="tzlist")in(Rf=Bf)?Object.defineProperty(Rf,Df,{value:Mf,enumerable:!0,configurable:!0,writable:!0}):Rf[Df]=Mf;var Lf=i(326),jf=i.n(Lf),Ff=(i(560),function(e){var t=e.minValue,n=e.maxValue,i=e.value,r=e.onChange,a=e.onChangeStart,o=e.onChangeComplete,s=e.formatLabel;return Lh.a.createElement(Lh.a.Fragment,null,Lh.a.createElement(jf.a,{minValue:t||0,maxValue:n||100,value:i,onChange:r,onChangeStart:a,onChangeComplete:o,formatLabel:s}))});function Gf(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],i=!0,r=!1,a=void 0;try{for(var o,s=e[Symbol.iterator]();!(i=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);i=!0);}catch(e){r=!0,a=e}finally{try{i||null==s.return||s.return()}finally{if(r)throw a}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Vf(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Vf(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Vf(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var Hf=Object(Gh.b)((function(e){var t=e.global,n=t.lang,i=t.langs,r=t.theme,a=t.timeZone,o=t.isPerfomanceMode,s=t.background,c=e.chartSettings.visibleChartIds[0],l=e.chartSettings.chartById[c],u=l.gridOpacity,h=l.isAutoScrolling,d=l.isOneClickTrade,f=l.upColor,p=l.downColor;return{lang:n,langs:i,gridOpacity:u,isAutoScrolling:h,isOneClickTrade:d,isPerfomanceMode:o,isShortBetElement:l.isShortBetElement,chartId:c,theme:r,upColor:f,downColor:p,timeZone:a,background:s}}),{changeChartGridOpacity:function(e){return{type:"CHART.GRID_OPACITY",payload:{chartId:e.chartId,amount:e.amount}}},changeChartAutoScrolling:function(e){return{type:"CHART.AUTO_SCROLLING",payload:{chartId:e.chartId,value:e.value}}},changeTheme:function(e){return io.change(e),{type:"THEME.CHANGE",payload:{value:e}}},changeChartOneClickTrade:function(e){return{type:"CHART.ONE_CLICK_TRADE",payload:{chartId:e.chartId,value:e.value}}},changeChartUpColor:function(e){return{type:"CHART.CHANGE_CHART_UP_COLOR",payload:{chartId:e.chartId,value:e.value}}},changeChartDownColor:function(e){return{type:"CHART.CHANGE_CHART_DOWN_COLOR",payload:{chartId:e.chartId,value:e.value}}},changeTimezone:function(e){return{type:"CHANGE_TIMEZONE",payload:e}},changePerfomanceMode:function(e){return{type:"CHANGE_PERFOMANCE_MODE",payload:e}},changeShortBetElement:function(e){return{type:"CHART.CHANGE_SHORT_BET_ELEMENT",payload:e}},uploadBackground:function(e){return{type:"CHART.UPLOAD_BACKGROUND",payload:e}},resetBackground:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{type:"CHART.RESET_BACKGROUND",payload:e}},updateBackground:yl})((function(e){var t=e.langs,n=e.lang,i=e.theme,r=e.timeZone,a=e.chartId,o=e.gridOpacity,s=e.isAutoScrolling,c=e.isOneClickTrade,l=e.isPerfomanceMode,u=e.isShortBetElement,d=e.upColor,f=e.downColor,p=e.changeTheme,m=e.changeChartGridOpacity,y=e.changeChartAutoScrolling,g=e.changeChartOneClickTrade,v=e.changeChartUpColor,b=e.changeChartDownColor,E=e.changeTimezone,A=e.changePerfomanceMode,w=e.changeShortBetElement,_=e.background,O=e.uploadBackground,S=e.resetBackground,C=e.updateBackground;var T=Object.keys(t).map((function(e){return{value:e,label:t[e].name}}));function k(e){if(e===i)return!1;document.documentElement.classList.remove(i),document.documentElement.classList.add(e),p(e)}var I=Bf.getTimezones();var P=Gf(Object(Bh.useState)(!1),2),N=P[0],x=P[1],R=function(e,t){(t||_.opacity!=e)&&C({opacity:e,save:t})};return Lh.a.createElement("div",{className:"panel-settings"},Lh.a.createElement("div",{className:"panel-settings__field"},Lh.a.createElement(kf,{type:"select",theme:"dark",label:h("Language"),defaultValue:n,iconsProvider:function(e){switch(e){case"ar":return Lh.a.createElement(Pd,{country:"sa",className:"flag"});case"en":return Lh.a.createElement(Pd,{country:"gb",className:"flag"});case"fa":return Lh.a.createElement(Pd,{country:"ir",className:"flag"});case"fl":return Lh.a.createElement(Pd,{country:"ph",className:"flag"});case"hi":return Lh.a.createElement(Pd,{country:"in",className:"flag"});case"ms":return Lh.a.createElement(Pd,{country:"my",className:"flag"});case"pt":return Lh.a.createElement(Pd,{country:"br",className:"flag"});case"vt":return Lh.a.createElement(Pd,{country:"vn",className:"flag"});case"zh":return Lh.a.createElement(Pd,{country:"cn",className:"flag"});default:return Lh.a.createElement(Pd,{country:e,className:"flag"})}},options:T,onChange:function(e){var i;n!==(i=e)&&(window.location=t[i].url)}})),Lh.a.createElement("div",{className:"panel-settings__field"},Lh.a.createElement(kf,{type:"select",theme:"dark",label:h("Timezone"),defaultValue:I.find((function(e){return parseInt(e.value)===r})).value,options:I,onChange:function(e){return function(e){E(e)}(e)}})),Lh.a.createElement("div",{className:"panel-settings__section"},Lh.a.createElement("div",{className:"sidepanel__section-caption sidepanel__section-caption--bright"},h("Template")),Lh.a.createElement("label",{className:"panel-settings__them-switch"},Lh.a.createElement("span",{className:"panel-settings__them-slider ".concat("light"===i?"active":"")},Lh.a.createElement("div",{className:"panel-settings__them-text"},Lh.a.createElement(Hh,{name:"light-mode"}),h("Light Mode"))),Lh.a.createElement("span",null,Lh.a.createElement("input",{type:"radio",name:"radio",onChange:function(){return k("light")},checked:"light"===i}))),Lh.a.createElement("label",{className:"panel-settings__them-switch"},Lh.a.createElement("span",{className:"panel-settings__them-slider ".concat("dark"===i?"active":"")},Lh.a.createElement("div",{className:"panel-settings__them-text"},Lh.a.createElement(Hh,{name:"twilight-mode"}),h("Twilight"))),Lh.a.createElement("span",null,Lh.a.createElement("input",{type:"radio",name:"radio",onChange:function(){return k("dark")},checked:"dark"===i}))),Lh.a.createElement("label",{className:"panel-settings__them-switch"},Lh.a.createElement("span",{className:"panel-settings__them-slider ".concat("black"===i?"active":"")},Lh.a.createElement("div",{className:"panel-settings__them-text"},Lh.a.createElement(Hh,{name:"night-mode"}),h("Full Night"))),Lh.a.createElement("span",null,Lh.a.createElement("input",{type:"radio",name:"radio",onChange:function(){return k("black")},checked:"black"===i})))),Lh.a.createElement("div",{className:"panel-settings__section"},Lh.a.createElement("div",{className:"sidepanel__section-caption sidepanel__section-caption--bright"},h("Platform")),Lh.a.createElement("div",{className:"panel-settings__field"},Lh.a.createElement(kf,{type:"number",theme:"dark",label:h("Grid's opacity"),minValue:0,maxValue:10,defaultValue:o,onChange:function(e){if(o===e)return!1;m({chartId:a,amount:e})}})),Lh.a.createElement("div",{className:"panel-settings__field"},Lh.a.createElement(kf,{type:"checkbox",theme:"dark",label:h("Auto-scrolling"),labelAccent:!0,helpMessage:h("Automatic graphic scrolling"),defaultValue:s,onChange:function(e){if(s===e)return!1;y({chartId:a,value:e})}})),Lh.a.createElement("div",{className:"panel-settings__field"},Lh.a.createElement(kf,{type:"checkbox",theme:"dark",label:h("1-click trade"),labelAccent:!0,helpMessage:h("Open trades without confirmation"),defaultValue:c,onChange:function(e){if(c===e)return!1;g({chartId:a,value:e})}})),Lh.a.createElement("div",{className:"panel-settings__field"},Lh.a.createElement(kf,{type:"checkbox",theme:"dark",label:h("Perfomance Mode"),labelAccent:!0,helpMessage:h("Use optimized rendering for chart and candles"),defaultValue:l,onChange:function(e){if(l===e)return!1;A(e)}})),Lh.a.createElement("div",{className:"panel-settings__field"},Lh.a.createElement(kf,{type:"checkbox",theme:"dark",label:h("Short order label"),labelAccent:!0,helpMessage:h("Use short order element mode"),defaultValue:u,onChange:function(e){if(u===e)return!1;w({chartId:a,value:e})}}))),Lh.a.createElement("div",{className:"panel-settings__section"},Lh.a.createElement("div",{className:"sidepanel__section-caption sidepanel__section-caption--bright"},h("Graph colors")),Lh.a.createElement(Pf,{colorActive:d,label:h("Up Trend"),colorsList:Vi,onChange:function(e){v({chartId:a,value:e})}}),Lh.a.createElement(Pf,{colorActive:f,label:h("Down Trend"),colorsList:Hi,onChange:function(e){b({chartId:a,value:e})}})),Lh.a.createElement("div",{className:"panel-settings__section"},Lh.a.createElement("div",{className:"sidepanel__section-caption sidepanel__section-caption--bright"},h("Background")),Lh.a.createElement("label",{className:"panel-settings__background-wrapper"},Lh.a.createElement("input",{className:"panel-settings__background-input",type:"file",onChange:function(e){var t=e.currentTarget.files;t.length&&(x(!0),O({files:t,always:function(){x(!1)}}))}}),Lh.a.createElement("div",{className:"panel-settings__background"},!(_.name||_.file)&&Lh.a.createElement(Lh.a.Fragment,null,Lh.a.createElement(Hh,{name:"bg-image-settings-graph",className:"panel-settings__background-icon"}),Lh.a.createElement("div",null,Lh.a.createElement("div",{className:"panel-settings__background-title"},h("Choose file")),Lh.a.createElement("div",{className:"panel-settings__background-subtitle"},"(",h("Max size — 2 Mb"),")"))),(_.name||_.file)&&Lh.a.createElement(Lh.a.Fragment,null,N&&Lh.a.createElement(Lh.a.Fragment,null,Lh.a.createElement("div",{className:"panel-settings__background-file__louder"})),Lh.a.createElement("div",{className:"panel-settings__background-file"},h("File: "),Lh.a.createElement("b",null,_.name||_.file)),Lh.a.createElement("div",{className:"panel-settings__background-file__delete",onClick:function(e){S(),e.preventDefault()}},Lh.a.createElement(Hh,{name:"bg-image-settings-delete"}))))),_.file&&Lh.a.createElement("div",{className:"panel-settings__opacity"},Lh.a.createElement(Ff,{minValue:1,maxValue:100,value:Math.max(1,Math.min(100,_.opacity||30)),onChange:function(e){R(e,!1)},onChangeComplete:function(e){R(e,!0)},formatLabel:function(e){return"".concat(e,"%")}}))))})),Uf=(i(562),i(38)),Wf=function(e){var t=e.title,n=e.children;return Lh.a.createElement("div",{className:"sidepanel__section"},Lh.a.createElement("div",{className:"sidepanel__section-caption"},t),Lh.a.createElement("ul",{className:"sidepanel__menu"},n))};Wf.propTypes={title:Jh.a.string.isRequired,children:Jh.a.node.isRequired},Wf.defaultProps={};var Yf=Wf,Qf=function(e){var t=e.categories,n=e.indicators,i=e.onIndicatorSelect,r=e.onDeleteAll;function a(e,t){return Lh.a.createElement(Yf,{title:h(e.name),key:t},e.indicators.map((function(e,t){return Lh.a.createElement("li",{className:"sidepanel__menu-item",key:t,onClick:function(){return function(e){i(e)}(e)}},h("".concat(e)))})))}return Lh.a.createElement(Lh.a.Fragment,null,Lh.a.createElement("div",{className:"sidepanel__body sidepanel__body--scroll-shadow"},t.map((function(e,t){return a({name:e,indicators:n.filter((function(t){return Xl[t].category===e}))},t)}))),Lh.a.createElement("div",{className:"sidepanel__footer"},Lh.a.createElement(Zh,{className:"sidepanel__button",dark:!0,type:"danger",size:"small",icon:"recycle",iconPosition:"before",onClick:function(){r&&r()}},h("Delete all"))))},Xf=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},zf=function(e){var t=e.settings,n=e.inputs,i=e.onParamChanged,r=e.rules,a=e.precision;return Lh.a.createElement(Lh.a.Fragment,null,Object.keys(n).map((function(e){return Lh.a.createElement("div",{className:"panel-indicators__single-settings",key:"single-settings-"+e},Lh.a.createElement("div",{className:"panel-indicators__single-field",key:"single-settings-field-"+e},Lh.a.createElement(kf,{type:"number",theme:"dark",label:n[e],minValue:vh(r,e).min,maxValue:vh(r,e).max,defaultValue:s()(t,e),onChange:function(t){i(e,t)()},key:"input-"+e,precision:a?a[e]:"deviation"===e?.01:1})))})),Object.keys(t.lines).map((function(e){return Lh.a.createElement("div",{className:"panel-indicators__single-settings",key:"single-settings-"+e},Lh.a.createElement("div",{className:"panel-indicators__single-field",key:"single-settings-field-"+e},Lh.a.createElement(kf,{type:"line-params",disableSlider:!Xf(t.lines[e],"lineWidth"),theme:"dark",label:e,minValue:0,maxValue:1,defaultValue:{width:t.lines[e].lineWidth,color:t.lines[e].color},onChange:function(n){t.lines[e].color!==n.color&&i("lines.".concat(e,".color"),n.color)(),Xf(t.lines[e],"lineWidth")&&t.lines[e].lineWidth!==Math.floor(n.width)&&i("lines.".concat(e,".lineWidth"),Math.floor(n.width))()},key:"input-"+e,palette:Vl})))})))},Kf={adxSmoothing:h("ADX Smoothing"),diLength:h("DI Length")},Jf=function(e){var t=e.indicator,n=e.onParamChanged,i=e.rules,r=t.settings;return Lh.a.createElement(zf,{settings:r,inputs:Kf,onParamChanged:n,rules:i})};function qf(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],i=!0,r=!1,a=void 0;try{for(var o,s=e[Symbol.iterator]();!(i=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);i=!0);}catch(e){r=!0,a=e}finally{try{i||null==s.return||s.return()}finally{if(r)throw a}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Zf(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Zf(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Zf(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var $f={"jaws.period":h("Jaws Period"),"jaws.shift":h("Jaws Shift"),"teeth.period":h("Teeth Period"),"teeth.shift":h("Teeth Shift"),"lips.period":h("Lips Period"),"lips.shift":h("Lips Shift")},ep=function(e){var t=e.indicator,n=e.onParamChanged,i=e.rules,r=t.settings;return Lh.a.createElement(zf,{settings:r,inputs:$f,onParamChanged:n,rules:i})},tp={periodShort:h("Period Short"),periodLong:h("Period Long"),opacity:h("Opacity")},np=function(e){var t=e.indicator,n=e.onParamChanged,i=e.rules,r=t.settings;return Lh.a.createElement(zf,{settings:r,inputs:tp,onParamChanged:n,rules:i})},ip={period:h("Period"),deviation:h("Deviation")},rp=function(e){var t=e.indicator,n=e.onParamChanged,i=e.rules,r=t.settings;return Lh.a.createElement(zf,{settings:r,inputs:ip,onParamChanged:n,rules:i})},ap={},op=function(e){var t=e.indicator,n=e.onParamChanged,i=e.rules,r=t.settings;return Lh.a.createElement(zf,{settings:r,inputs:ap,onParamChanged:n,rules:i})},sp={tenkanSen:"Tenkan Sen",kijunSen:"Kijun Sen",senkouSpanB:"Senkou Span B"},cp=function(e){var t=e.indicator,n=e.onParamChanged,i=e.rules,r=t.settings;return Lh.a.createElement(zf,{settings:r,inputs:sp,onParamChanged:n,rules:i})},lp={emaPeriod:"EMA ".concat(h("Period")),atrPeriod:"ATR ".concat(h("Period")),multiplier:h("Multiplier")},up=function(e){var t=e.indicator,n=e.onParamChanged,i=e.rules,r=t.settings;return Lh.a.createElement(zf,{settings:r,inputs:lp,onParamChanged:n,rules:i})},hp={fastPeriod:h("Fast period"),slowPeriod:h("Slow period"),signalPeriod:h("Signal period")},dp=function(e){var t=e.indicator,n=e.onParamChanged,i=e.rules,r=t.settings;return Lh.a.createElement(zf,{settings:r,inputs:hp,onParamChanged:n,rules:i})},fp={acceleration:h("Acceleration"),accelerationMax:h("Max acceleration")},pp={acceleration:.01,accelerationMax:.1},mp=function(e){var t=e.indicator,n=e.onParamChanged,i=e.rules,r=t.settings;return Lh.a.createElement(zf,{settings:r,inputs:fp,onParamChanged:n,rules:i,precision:pp})},yp={deviation:h("Deviation"),depth:h("Depth"),backstep:h("Backstep")},gp=function(e){var t=e.indicator,n=e.onParamChanged,i=e.rules,r=t.settings;return Lh.a.createElement(zf,{settings:r,inputs:yp,onParamChanged:n,rules:i})},vp={period:h("Period")},bp=function(e){var t=e.indicator,n=e.onParamChanged,i=e.rules,r=t.settings;return Lh.a.createElement(zf,{settings:r,inputs:vp,onParamChanged:n,rules:i})},Ep={period:h("Period"),deviation:h("Deviation")},Ap=function(e){var t=e.indicator,n=e.onParamChanged,i=e.rules,r=t.settings,a=Ep,o=Object.keys(a);return Lh.a.createElement(Lh.a.Fragment,null,o.map((function(e){return Lh.a.createElement("div",{className:"panel-indicators__single-settings",key:"single-settings-"+e},Lh.a.createElement("div",{className:"panel-indicators__single-field",key:"single-settings-field-"+e},Lh.a.createElement(kf,{type:"number",theme:"dark",label:a[e],minValue:vh(i,e).min,maxValue:vh(i,e).max,defaultValue:s()(r,e),onChange:function(t){n(e,t)()},key:"input-"+e,precision:"deviation"===e?.01:1})))})),Lh.a.createElement("div",{className:"panel-indicators__single-settings",key:"single-settings-ma"},Lh.a.createElement("div",{className:"panel-indicators__single-field",key:"single-settings-field-ma"},Lh.a.createElement(kf,{theme:"dark",label:"Moving average",type:"select",defaultValue:r.ma,options:Gl,onChange:function(e){void 0!==e&&n("ma",e)()}}))),Lh.a.createElement("div",{className:"panel-indicators__single-settings",key:"single-settings-source"},Lh.a.createElement("div",{className:"panel-indicators__single-field",key:"single-settings-field-source"},Lh.a.createElement(kf,{theme:"dark",label:"Moving average",type:"select",defaultValue:r.source,options:Wl,onChange:function(e){void 0!==e&&n("source",e)()}}))),Object.keys(r.lines).map((function(e){return Lh.a.createElement("div",{className:"panel-indicators__single-settings",key:"single-settings-"+e},Lh.a.createElement("div",{className:"panel-indicators__single-field",key:"single-settings-field-"+e},Lh.a.createElement(kf,{type:"line-params",disableSlider:!Xf(r.lines[e],"lineWidth"),theme:"dark",label:e,minValue:0,maxValue:1,defaultValue:{width:r.lines[e].lineWidth,color:r.lines[e].color},onChange:function(t){r.lines[e].color!==t.color&&n("lines.".concat(e,".color"),t.color)(),Xf(r.lines[e],"lineWidth")&&r.lines[e].lineWidth!==Math.floor(t.width)&&n("lines.".concat(e,".lineWidth"),Math.floor(t.width))()},key:"input-"+e,palette:Vl})))})))},wp={period:h("Period")},_p=function(e){var t=e.indicator,n=e.onParamChanged,i=e.rules,r=t.settings,a=wp,o=Object.keys(a);return Lh.a.createElement(Lh.a.Fragment,null,o.map((function(e){return Lh.a.createElement("div",{className:"panel-indicators__single-settings",key:"single-settings-"+e},Lh.a.createElement("div",{className:"panel-indicators__single-field",key:"single-settings-field-"+e},Lh.a.createElement(kf,{type:"number",theme:"dark",label:a[e],minValue:vh(i,e).min,maxValue:vh(i,e).max,defaultValue:s()(r,e),onChange:function(t){n(e,t)()},key:"input-"+e,precision:"deviation"===e?.01:1})))})),Lh.a.createElement("div",{className:"panel-indicators__single-settings",key:"single-settings-ma"},Lh.a.createElement("div",{className:"panel-indicators__single-field",key:"single-settings-field-ma"},Lh.a.createElement(kf,{theme:"dark",label:"Moving average",type:"select",defaultValue:r.ma,options:Gl,onChange:function(e){n("ma",e)()}}))),Object.keys(r.lines).map((function(e){return Lh.a.createElement("div",{className:"panel-indicators__single-settings",key:"single-settings-"+e},Lh.a.createElement("div",{className:"panel-indicators__single-field",key:"single-settings-field-"+e},Lh.a.createElement(kf,{type:"line-params",disableSlider:!Xf(r.lines[e],"lineWidth"),theme:"dark",label:e,minValue:0,maxValue:1,defaultValue:{width:r.lines[e].lineWidth,color:r.lines[e].color},onChange:function(t){r.lines[e].color!==t.color&&n("lines.".concat(e,".color"),t.color)(),Xf(r.lines[e],"lineWidth")&&r.lines[e].lineWidth!==Math.floor(t.width)&&n("lines.".concat(e,".lineWidth"),Math.floor(t.width))()},key:"input-"+e,palette:Vl})))})))},Op={kPeriod:"%K ".concat(h("Period")),dPeriod:"%D ".concat(h("Period")),mPeriod:h("Smoothing period"),overboughtLevel:h("Overbought Level"),oversoldLevel:h("Oversold Level")},Sp=function(e){var t=e.indicator,n=e.onParamChanged,i=e.rules,r=t.settings,a=Op,o=Object.keys(a);return Lh.a.createElement(Lh.a.Fragment,null,o.map((function(e){return Lh.a.createElement("div",{className:"panel-indicators__single-settings",key:"single-settings-"+e},Lh.a.createElement("div",{className:"panel-indicators__single-field",key:"single-settings-field-"+e},Lh.a.createElement(kf,{type:"number",theme:"dark",label:a[e],minValue:vh(i,e).min,maxValue:vh(i,e).max,defaultValue:s()(r,e),onChange:function(t){n(e,t)()},key:"input-"+e,precision:"deviation"===e?.01:1})))})),Lh.a.createElement("div",{className:"panel-indicators__single-settings",key:"single-settings-ma"},Lh.a.createElement("div",{className:"panel-indicators__single-field",key:"single-settings-field-ma"},Lh.a.createElement(kf,{theme:"dark",label:"Moving average",type:"select",defaultValue:r.ma,options:Gl,onChange:function(e){n("ma",e)()}}))),Object.keys(r.lines).map((function(e){return Lh.a.createElement("div",{className:"panel-indicators__single-settings",key:"single-settings-"+e},Lh.a.createElement("div",{className:"panel-indicators__single-field",key:"single-settings-field-"+e},Lh.a.createElement(kf,{type:"line-params",disableSlider:!Xf(r.lines[e],"lineWidth"),theme:"dark",label:e,minValue:0,maxValue:1,defaultValue:{width:r.lines[e].lineWidth,color:r.lines[e].color},onChange:function(t){r.lines[e].color!==t.color&&n("lines.".concat(e,".color"),t.color)(),Xf(r.lines[e],"lineWidth")&&r.lines[e].lineWidth!==Math.floor(t.width)&&n("lines.".concat(e,".lineWidth"),Math.floor(t.width))()},key:"input-"+e,palette:Vl})))})))},Cp={opacity:h("Opacity")},Tp=function(e){var t=e.indicator,n=e.onParamChanged,i=e.rules,r=t.settings;return Lh.a.createElement(zf,{settings:r,inputs:Cp,onParamChanged:n,rules:i})},kp={period:h("Period"),overboughtLevel:h("Overbought Level"),oversoldLevel:h("Oversold Level")},Ip=function(e){var t=e.indicator,n=e.onParamChanged,i=e.rules,r=t.settings;return Lh.a.createElement(zf,{settings:r,inputs:kp,onParamChanged:n,rules:i})},Pp={period:"".concat(h("Period"))},Np=function(e){var t=e.indicator,n=e.onParamChanged,i=e.rules,r=t.settings;return Lh.a.createElement(zf,{settings:r,inputs:Pp,onParamChanged:n,rules:i})},xp={period:"".concat(h("Period")),multiplier:"".concat(h("Multiplier"))},Rp=function(e){var t=e.indicator,n=e.onParamChanged,i=e.rules,r=t.settings;return Lh.a.createElement(zf,{settings:r,inputs:xp,onParamChanged:n,rules:i})},Dp={period:h("Period")},Mp=function(e){var t=e.indicator,n=e.onParamChanged,i=e.rules,r=t.settings;return Lh.a.createElement(zf,{settings:r,inputs:Dp,onParamChanged:n,rules:i})},Bp={length:h("Length"),opacity:h("Opacity")},Lp=function(e){var t=e.indicator,n=e.onParamChanged,i=e.rules,r=t.settings;return Lh.a.createElement(zf,{settings:r,inputs:Bp,onParamChanged:n,rules:i})},jp={length:h("Length"),fastLength:h("Fast Length"),slowLength:h("Slow Length"),factorUpper:h("Upper Band"),factorLower:h("Lower Band")},Fp={length:1,fastLength:1,slowLength:1,factorUpper:.1,factorLower:.1},Gp=function(e){var t=e.indicator,n=e.onParamChanged,i=e.rules,r=t.settings;return Lh.a.createElement(zf,{settings:r,inputs:jp,onParamChanged:n,rules:i,precision:Fp})};function Vp(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],i=!0,r=!1,a=void 0;try{for(var o,s=e[Symbol.iterator]();!(i=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);i=!0);}catch(e){r=!0,a=e}finally{try{i||null==s.return||s.return()}finally{if(r)throw a}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Hp(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Hp(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Hp(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var Up=Si.a.debounce((function(e,t,n,i){return e(t,n,i)}),2e3),Wp=Object(Gh.b)(null,{editIndicator:zu})((function(e){var t=e.indicator,n=e.editIndicator,i=Vp(function(e){var t=qf(Object(Bh.useState)(e),2),n=t[0],i=t[1],r=qf(Object(Bh.useState)(!0),2),a=r[0],o=r[1];return[n,a,function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];i(Object(va.b)(n,e)),o(t)}]}(t.settings),3),r=i[0],a=i[1],o=i[2];Object(Bh.useEffect)((function(){a&&Up(n,t.id,r,!0)}),[a,r]);var s=Object(Bh.useCallback)(_h(Xl[t.type],0,o),[r]),c=Xl[t.type].rules;return Lh.a.createElement(Lh.a.Fragment,null,t.type===y.STOCHASTIC_OSCILLATOR&&Lh.a.createElement(Sp,{indicator:t,onParamChanged:s,rules:c}),t.type===y.MOVING_AVERAGE&&Lh.a.createElement(_p,{indicator:t,onParamChanged:s,rules:c}),t.type===y.ENVELOPE&&Lh.a.createElement(Ap,{indicator:t,onParamChanged:s,rules:c}),t.type===y.ADX&&Lh.a.createElement(Jf,{indicator:t,onParamChanged:s,rules:c}),t.type===y.ALLIGATOR&&Lh.a.createElement(ep,{indicator:t,onParamChanged:s,rules:c}),t.type===y.AWESOME_OSCILLATOR&&Lh.a.createElement(np,{indicator:t,onParamChanged:s,rules:c}),t.type===y.VOLUME_OSCILLATOR&&Lh.a.createElement(Tp,{indicator:t,onParamChanged:s,rules:c}),t.type===y.BOLLINGER_BANDS&&Lh.a.createElement(rp,{indicator:t,onParamChanged:s,rules:c}),t.type===y.FRACTAL&&Lh.a.createElement(op,{indicator:t,onParamChanged:s,rules:c}),t.type===y.ICHIMOKU_CLOUD&&Lh.a.createElement(cp,{indicator:t,onParamChanged:s,rules:c}),t.type===y.KELTNER_CHANNEL&&Lh.a.createElement(up,{indicator:t,onParamChanged:s,rules:c}),t.type===y.DONCHIAN_CHANNEL&&Lh.a.createElement(Np,{indicator:t,onParamChanged:s,rules:c}),t.type===y.SUPERTREND&&Lh.a.createElement(Rp,{indicator:t,onParamChanged:s,rules:c}),t.type===y.ATR&&Lh.a.createElement(Mp,{indicator:t,onParamChanged:s,rules:c}),t.type===y.SCHAFF_TREND_CYCLE&&Lh.a.createElement(Gp,{indicator:t,onParamChanged:s,rules:c}),t.type===y.MACD&&Lh.a.createElement(dp,{indicator:t,onParamChanged:s,rules:c}),t.type===y.PARABOLIC_SAR&&Lh.a.createElement(mp,{indicator:t,onParamChanged:s,rules:c}),t.type===y.ZIG_ZAG&&Lh.a.createElement(gp,{indicator:t,onParamChanged:s,rules:c}),t.type===y.RSI&&Lh.a.createElement(Ip,{indicator:t,onParamChanged:s,rules:c}),t.type===y.WEIS_WAVE_VOLUME_OSCILLATOR&&Lh.a.createElement(Lp,{indicator:t,onParamChanged:s,rules:c}),function(e){switch(e){case y.AROON:case y.ATR:case y.BEARS_POWER:case y.BULLS_POWER:case y.CCI:case y.DEMARKER:case y.MOMENTUM:case y.RSI:case y.VORTEX:case y.WILLIAMS_R:case y.RATE_OF_CHANGE:return!0}return!1}(t.type)&&Lh.a.createElement(bp,{indicator:t,onParamChanged:s,rules:c}))}));function Yp(e){return(Yp="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Qp(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Xp(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function zp(e,t){return(zp=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Kp(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=Zp(e);if(t){var r=Zp(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return Jp(this,n)}}function Jp(e,t){return!t||"object"!==Yp(t)&&"function"!=typeof t?qp(e):t}function qp(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Zp(e){return(Zp=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function $p(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var em=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&zp(e,t)}(a,e);var t,n,i,r=Kp(a);function a(){var e;Qp(this,a);for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return $p(qp(e=r.call.apply(r,[this].concat(n))),"handleDeleteClick",(function(){var t=e.props.item;e.props.onDelete&&e.props.onDelete(t.id)})),$p(qp(e),"handleOnChangeMobile",(function(){e.props.isBackgroundGraph&&e.props.changeIsBackgroundGraph(!1),e.props.changeSidePanelOpened(!1)})),e}return t=a,(n=[{key:"componentWillUnmount",value:function(){this.props.changeSelectedIndicatorReqId(!1)}},{key:"render",value:function(){var e=this.props,t=e.item,n=e.isMobile;return t?Lh.a.createElement(Lh.a.Fragment,null,Lh.a.createElement("div",{className:"sidepanel__body sidepanel__body--scroll-shadow"},Lh.a.createElement("div",{className:"panel-indicators__single-title"},h("".concat(t.type))),Lh.a.createElement(Wp,{indicator:t})),Lh.a.createElement("div",{className:"sidepanel__footer"},!n&&Lh.a.createElement(Zh,{className:"sidepanel__button",dark:!0,type:"danger",size:"small",icon:"recycle",iconPosition:"before",onClick:this.handleDeleteClick},h("Delete")),n&&Lh.a.createElement("div",{className:"sidepanel__button-mobile"},Lh.a.createElement(Zh,{className:"sidepanel__button-delete",dark:!0,type:"danger",size:"small",icon:"recycle",iconPosition:"before",onClick:this.handleDeleteClick}),Lh.a.createElement(Zh,{className:"sidepanel__button-success",type:"success",size:"small",icon:"check",iconPosition:"before",onClick:this.handleOnChangeMobile},h("Ok"))))):null}}])&&Xp(t.prototype,n),i&&Xp(t,i),a}(Lh.a.Component),tm=Id((function(e,t){var n=t.id,i=t.onIndicatorDelete;return{item:nu(n)(e),onDelete:i,isMobile:e.global.isMobile,isBackgroundGraph:e.global.isBackgroundGraph}}),{changeSelectedIndicatorReqId:Kc,changeSidePanelOpened:zc,changeIsBackgroundGraph:Zc},Rd)(em),nm=function(e){return e.assets.assetBySymbol},im=function(e){return e.assets.symbols},rm=function(e){return e.chartSettings.chartById},am=Object(Bl.a)([function(e,t){return e.chartSettings.chartById[t.chartId].currentAsset.symbol},function(e){return e.marketForecasts}],(function(e,t){return t[e]?t[e]:50})),om=(Object(Bl.a)([function(e){return e.signals}],(function(e){return function(t,n){return e[n]&&e[n][t]?e[n][t]:"right1"}})),function(e){return e.assets.assetBySymbol}),sm=function(e){return e.assets.symbols},cm=Object(Bl.a)([sm,om,rm],(function(e,t,n){return function(i){if(null==n[i].currentAsset)return null;var r=n[i].currentAsset.symbol;return e.includes(r)?t[r]:null}})),lm=(Object(Bl.a)([om,sm,rm],(function(e,t,n){return function(i){if(null==n[i].currentAsset)return null;var r=n[i].currentAsset.symbol;return t.includes(r)?e[r].label:null}})),Object(Bl.a)([om,sm],(function(e,t){return function(n){return t.includes(n)?e[n]:null}})),Object(Bl.a)([om,sm],(function(e,t){return function(n){return t.includes(n)?e[n].label:null}})),Object(Bl.a)([om,sm,rm],(function(e,t,n){return function(i){if(null==n[i].currentAsset)return null;var r=n[i].currentAsset.symbol;return t.includes(r)?e[r].type:null}})));Object(Bl.a)([om,sm],(function(e,t){return function(n){return t.includes(n)?e[n].timeframes:[]}}));function um(e){return(um="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function hm(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function dm(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?hm(Object(n),!0).forEach((function(t){Em(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):hm(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function fm(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function pm(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function mm(e,t){return(mm=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ym(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=bm(e);if(t){var r=bm(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return gm(this,n)}}function gm(e,t){return!t||"object"!==um(t)&&"function"!=typeof t?vm(e):t}function vm(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function bm(e){return(bm=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Em(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Am=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&mm(e,t)}(a,e);var t,n,i,r=ym(a);function a(){var e;fm(this,a);for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return Em(vm(e=r.call.apply(r,[this].concat(n))),"handleIndicatorSelect",(function(t){var n=Uf();e.handleAddIndicator(n,t),e.props.changeIndicatorsMinimized({chartId:e.props.chartId,value:!1}),e.props.changeSelectedIndicatorReqId({selectedIndicatorReqId:n,sidePanelOpened:!0})})),Em(vm(e),"handleIndicatorDelete",(function(t){e.props.deleteIndicator(t),e.showList()})),Em(vm(e),"clearIndicators",(function(){e.props.deleteAllIndicatorsByChartId(e.props.chartId)})),e}return t=a,(n=[{key:"handleAddIndicator",value:function(e,t){var n=Xl[t];this.props.addIndicator(dm(dm({},n.config),{},{chartId:this.props.chartId,type:t,requestId:e}))}},{key:"showList",value:function(){this.showIndicator(null)}},{key:"showIndicator",value:function(e){this.props.onInnerPanel&&this.props.onInnerPanel(!!e)}},{key:"hideIndicator",value:function(){this.props.onInnerPanel&&this.props.onInnerPanel(!1)}},{key:"componentDidMount",value:function(){this.props.selectedIndicatorReqId&&this.showIndicator(this.props.selectedIndicatorReqId)}},{key:"componentDidUpdate",value:function(e){e.selectedIndicatorReqId!==this.props.selectedIndicatorReqId&&this.showIndicator(this.props.selectedIndicatorReqId)}},{key:"componentWillUnmount",value:function(){this.showList()}},{key:"render",value:function(){var e=this.props,t=e.showInnerPanel,n=e.asset,i=e.selectedIndicatorReqId;if(!n)return null;var r=Object.keys(Xl);return Lh.a.createElement(Lh.a.Fragment,null,!t&&Lh.a.createElement(Qf,{categories:["Trend indicators","Oscillators"],indicators:r,onIndicatorSelect:this.handleIndicatorSelect,onDeleteAll:this.clearIndicators}),t&&i&&Lh.a.createElement(tm,{id:i,onIndicatorDelete:this.handleIndicatorDelete}))}}])&&pm(t.prototype,n),i&&pm(t,i),a}(Lh.a.Component),wm=Id((function(e){var t=e.global,n=e.chartSettings.visibleChartIds[0];return{asset:cm(e)(n),chartId:n,selectedIndicatorReqId:t.selectedIndicatorReqId,isMobile:t.isMobile}}),{addIndicator:function(e){return{type:"INDICATOR.ADD.V2",payload:e}},deleteAllIndicatorsByChartId:function(e){return{type:"CHART.INDICATOR.DELETE",payload:e}},deleteIndicator:Ku,editIndicator:zu,changeSelectedIndicatorReqId:Kc,changeIndicatorsMinimized:pl},Rd)(Am);function _m(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function Om(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_m(Object(n),!0).forEach((function(t){Sm(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_m(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Sm(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Cm=Id((function(e){var t=e.chartSettings.visibleChartIds[0];return{asset:cm(e)(t),chartId:t,isBackgroundGraph:e.global.isBackgroundGraph}}),{deleteAllDrawings:function(e){return{type:"DRAW.LIST.DELETE",payload:{chartId:e.chartId,assetId:e.assetId}}},addDrawing:Xu,changeIsBackgroundGraph:Zc},Rd)((function(e){var t=e.chartId,n=e.asset,i=e.addDrawing,r=e.deleteAllDrawings,a=e.isBackgroundGraph,o=e.changeIsBackgroundGraph,s=e.onAdded,c=Object(Bh.useCallback)((function(e){var r=Uf(),c=Om({},uh[e].config),l=parseInt(e,10),u=JSON.parse(JSON.stringify(c.lines));if(c.hasOwnProperty("lines")){["main","level","value","bg"].forEach((function(e){u.hasOwnProperty(e)&&(u[e].color=ah())}))}a&&o(!1);var h=Om(Om({},c),{},{lines:u,chartId:t,type:l,assetId:n.id,requestId:r});i(h),s&&s()}),[t,n,o,a]),l=Object(Bh.useCallback)((function(){r({chartId:t,assetId:n.id})}),[t,n]);return Lh.a.createElement(Lh.a.Fragment,null,Lh.a.createElement("div",{className:"sidepanel__body sidepanel__body--scroll-shadow"},Lh.a.createElement(Yf,{title:h("Drawings")},Object.keys(uh).sort((function(e,t){return uh[e].label>uh[t].label?1:uh[e].label<uh[t].label?-1:0})).map((function(e,t){return Lh.a.createElement("li",{className:"sidepanel__menu-item",key:t,onClick:function(){return c(e)}},uh[e].label)})))),Lh.a.createElement("div",{className:"sidepanel__footer"},Lh.a.createElement(Zh,{className:"sidepanel__button",dark:!0,type:"danger",size:"small",icon:"recycle",iconPosition:"before",onClick:l},h("Delete all"))))})),Tm=(i(564),function(e){var t=e.item,n=e.onClickItem;function i(){return Lh.a.createElement(Lh.a.Fragment,null,Lh.a.createElement(Hh,{className:"panel-help__item-icon ".concat(t.inThemeDark?"dark":""),name:t.icon}),Lh.a.createElement("div",{className:"panel-help__item-name"},t.name),Lh.a.createElement("div",{className:"panel-help__item-text"},Lh.a.createElement("div",{dangerouslySetInnerHTML:{__html:t.text}})))}var r=t.href;return Lh.a.createElement(Lh.a.Fragment,null,!r&&Lh.a.createElement("div",{className:"panel-help__item",onClick:function(){return n(t)}},i()),!!r&&Lh.a.createElement("a",{className:"panel-help__item",href:Yc(r)},i()))});Tm.propTypes={},Tm.defaultProps={};var km=Tm;function Im(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],i=!0,r=!1,a=void 0;try{for(var o,s=e[Symbol.iterator]();!(i=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);i=!0);}catch(e){r=!0,a=e}finally{try{i||null==s.return||s.return()}finally{if(r)throw a}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Pm(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Pm(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Pm(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var Nm=function(e){var t=e.item,n=Im(Object(Bh.useState)(!1),2),i=n[0],r=n[1];return Lh.a.createElement("div",{className:"panel-help__question"},Lh.a.createElement("div",{className:"panel-help__question--header",onClick:function(){r(!i)}},Lh.a.createElement(Hh,{className:"panel-help__question--icon"+(i?" active":""),name:"caret"}),Lh.a.createElement("div",{className:"panel-help__question--name"+(i?" active":"")},t.question)),Lh.a.createElement("div",{className:"panel-help__question--answer"+(i?" active":"")},Lh.a.createElement("div",{dangerouslySetInnerHTML:{__html:t.answer}})))};Nm.propTypes={},Nm.defaultProps={};var xm=Nm;function Rm(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],i=!0,r=!1,a=void 0;try{for(var o,s=e[Symbol.iterator]();!(i=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);i=!0);}catch(e){r=!0,a=e}finally{try{i||null==s.return||s.return()}finally{if(r)throw a}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Dm(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Dm(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Dm(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var Mm=Object(Gh.b)((function(e){var t=e.global;return{theme:t.theme,countUnreadedMessages:t.countUnreadedMessages}}),null)((function(e){var t=e.data,n=e.theme,i=e.countUnreadedMessages,r=Rm(Object(Bh.useState)(t),2),a=r[0],o=r[1];function s(e,n){var i=t.item.findIndex((function(t){return t.name===e.resetName}));return-1!==i&&n?o(t.item[i]):n?o(t):void o(e)}return Lh.a.createElement("div",{className:"panel-help"},Lh.a.createElement("div",{className:"panel-help__header"},a.icon&&Lh.a.createElement(Hh,{name:a.icon,className:"panel-help__header-icon ".concat(a.inThemeDark?"panel-help__header-dark":"")}),Lh.a.createElement("div",{className:"panel-help__header-title"},a.name)),a.resetName&&Lh.a.createElement("div",{className:"panel-help__header-back",onClick:function(){return s(a,!0)}},Lh.a.createElement(Hh,{className:"panel-help__header-back--icon",name:"caret"}),Lh.a.createElement("div",null,a.resetName)),Lh.a.createElement("div",{className:"panel-help__content"+(a.isSupport?" panel-help__content--support":"")+(a.questions?" panel-help__content--questions":"")},!!a.item&&!a.questions&&Lh.a.createElement("div",{className:"panel-help__items"},a.item.map((function(e,t){return Lh.a.createElement(km,{item:e,key:t,onClickItem:s})})),a.isHelp&&Lh.a.createElement("a",{className:"panel-help__item",href:Yc("support")},Lh.a.createElement(Hh,{className:"panel-help__item-icon",name:"support"}),Lh.a.createElement("div",{className:"panel-help__item-name"},h("Support")),Lh.a.createElement("div",{className:"panel-help__item-text"},Lh.a.createElement("div",{dangerouslySetInnerHTML:{__html:h("Ask a specialist")}})),!!i&&Lh.a.createElement("div",{className:"panel-help__help"},Lh.a.createElement(Hh,{name:"email-help"}),Lh.a.createElement("div",null,h("New message"))))),a.questions&&Lh.a.createElement("div",{className:"panel-help__questions"},Lh.a.createElement("div",{className:"panel-help__questions--counter"},a.questions.length," questions"),a.questions.map((function(e,t){return Lh.a.createElement(xm,{key:t,item:e})}))),a.questions&&Lh.a.createElement("div",{className:"panel-help__page--bg"},Lh.a.createElement("a",{className:"panel-help__page",href:Yc("support/faq")},Lh.a.createElement(Hh,{className:"panel-help__page--icon",name:"help-faq"}),Lh.a.createElement("div",null,h("Open FAQ page")))),a.isSupport&&Lh.a.createElement("div",{className:"panel-help__support"},Lh.a.createElement(Hh,{className:"panel-help__support-icon",name:"dark"===n?"help-support-black":"help-support-light"}),Lh.a.createElement("div",null,h("Didn't find an answer to your question?")),Lh.a.createElement("a",{className:"panel-help__support-text",href:Yc("support")},h("Contact support")))))}));i(566);var Bm=Object(Gh.b)((function(e){var t=e.global,n=t.sidePanelOpened;return{email:t.email,sidePanelOpened:n,isHideTradingUI:t.isHideTradingUI}}),(function(e){return Object(er.b)({changeSidePanelOpened:zc},e)}))((function(e){var t=e.email,n=e.changeSidePanelOpened,i=e.sidePanelOpened,r=e.isHideTradingUI;return Lh.a.createElement("div",{className:"panel-menu"},Lh.a.createElement("div",{className:"panel-menu__title"},h("More")),Lh.a.createElement("div",{className:"panel-menu__item graph",onClick:function(){n("leader"!==i&&"leader")}},Lh.a.createElement("div",{className:"panel-menu__item-top"},Lh.a.createElement(Hh,{name:"top",className:"panel-menu__item-icon"}),h("Leader Board")),Lh.a.createElement(Hh,{name:"caret-right",className:"panel-menu__item-caret"})),Lh.a.createElement("div",{className:"panel-menu__item graph",onClick:function(){n("signals"!==i&&"signals")}},Lh.a.createElement("div",{className:"panel-menu__item-top"},Lh.a.createElement(Hh,{name:"trading-signals",className:"panel-menu__item-icon"}),h("Signals")),Lh.a.createElement(Hh,{name:"caret-right",className:"panel-menu__item-caret"})),Lh.a.createElement("div",{className:"panel-menu__mail"},t),Lh.a.createElement("div",{className:"panel-menu__block"},!r&&Lh.a.createElement("a",{className:"panel-menu__item",href:Yc("deposit")},h("Deposit"),Lh.a.createElement(Hh,{name:"caret-right",className:"panel-menu__item-caret"})),!r&&Lh.a.createElement("a",{className:"panel-menu__item",href:Yc("withdrawal")},h("Withdrawal"),Lh.a.createElement(Hh,{name:"caret-right",className:"panel-menu__item-caret"})),!r&&Lh.a.createElement("a",{className:"panel-menu__item",href:Yc("balance")},h("Transactions"),Lh.a.createElement(Hh,{name:"caret-right",className:"panel-menu__item-caret"})),!r&&Lh.a.createElement("a",{className:"panel-menu__item",href:Yc("trades")},h("Trades"),Lh.a.createElement(Hh,{name:"caret-right",className:"panel-menu__item-caret"})),!r&&Lh.a.createElement("a",{className:"panel-menu__item",href:Yc("settings")},h("Profile"),Lh.a.createElement(Hh,{name:"caret-right",className:"panel-menu__item-caret"})),!r&&Lh.a.createElement("a",{className:"panel-menu__item",href:Yc("analytics")},h("Analytics"),Lh.a.createElement(Hh,{name:"caret-right",className:"panel-menu__item-caret"})),!r&&Lh.a.createElement("a",{className:"panel-menu__item",href:Yc("market")},h("Market"),Lh.a.createElement(Hh,{name:"caret-right",className:"panel-menu__item-caret"})),Lh.a.createElement("a",{href:Yc("logout"),className:"panel-menu__logout text-danger"},Lh.a.createElement(Hh,{name:"logout"}),Lh.a.createElement("span",null,h("Logout")))))})),Lm=(i(568),i(570),Object(Gh.b)((function(e){var t=e.leaderBoard,n=e.global,i=t.position,r=t.total;return{position:i,currency:"$",nickname:n.nickname,todayProfit:n.todayProfit,country:n.country,total:r}}),null)((function(e){var t=e.country,n=e.nickname,i=e.todayProfit,r=e.currency,a=e.position,o=e.total,s=ma({amount:i,currency:r}),c=o>0?100-Math.floor(100*a/o):0;return Lh.a.createElement("div",{className:"position"},Lh.a.createElement("div",{className:"position__header"},Lh.a.createElement("div",{className:"position__header-name"},Lh.a.createElement(Pd,{country:t.toLowerCase()}),n),Lh.a.createElement("div",{className:"position__header-money"+(i<0?" --red":" --green")},s)),Lh.a.createElement("div",{className:"position__loading"},Lh.a.createElement("span",{className:"position__expand",style:{width:c+"%"}})),Lh.a.createElement("div",{className:"position__footer"},Lh.a.createElement("div",{className:"position__footer-title"},h("Your position:")),a))})));i(572),i(574);function jm(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],i=!0,r=!1,a=void 0;try{for(var o,s=e[Symbol.iterator]();!(i=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);i=!0);}catch(e){r=!0,a=e}finally{try{i||null==s.return||s.return()}finally{if(r)throw a}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Fm(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Fm(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Fm(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var Gm=function(e){var t=e.amount,n=jm(Object(Bh.useState)([]),2),i=n[0],r=n[1];return Object(Bh.useEffect)((function(){if(!i.length){var e=new Array(4).fill(void 0);return r(0===t?e.map((function(){return new Object({color:"",width:0})})):t<0?e.map((function(e,t){return new Object({color:"red",width:t>=1?0:100})})):t<1e3?e.map((function(e,t){return new Object({color:"yellow",width:t>=2?0:100})})):t>=1e3?e.map((function(){return new Object({color:"green",width:100})})):e.map((function(e,t){return new Object({color:"green",width:t>=3?0:100})})))}}),[i,t]),Lh.a.createElement("div",{className:"progress-bar"},!!i.length&&i.map((function(e,t){return Lh.a.createElement("div",{key:t,className:"progress-bar__block"},Lh.a.createElement("div",{className:e.color,style:{width:e.width+"%"}}))})))},Vm=(i(576),function(e){var t=Object(Bh.useRef)(),n=e.count,i=e.percent;return Object(Bh.useEffect)((function(){if(t.current){var e=t.current.lastChild.lastChild,n=e.attributes.r.value,r=Math.PI*(2*n),a=i;a<0&&(a=0),a>100&&(a=100),e.style.strokeDashoffset=(100-a)/100*r,e.style.stroke=a>66?"var(--color-green)":a>33?"var(--color-yellow)":"var(--color-red)"}}),[n]),Lh.a.createElement("div",{className:"pie-chart"},Lh.a.createElement("div",{className:"pie-chart-win-cont",id:"cont","data-pct":n,"data-value":i,ref:t},Lh.a.createElement("svg",{id:"win-trades-svg",width:"56",height:"56",viewport:"0 0 56 56",version:"1.1",xmlns:"http://www.w3.org/2000/svg"},Lh.a.createElement("circle",{r:"24",cx:"28",cy:"28",fill:"transparent",strokeDasharray:"150.79",strokeDashoffset:"0"}),Lh.a.createElement("circle",{id:"win-trades-bar",r:"24",cx:"28",cy:"28",fill:"transparent",strokeDasharray:"150.79",strokeDashoffset:"0"}))))}),Hm=function(e){var t=e.user,n=fu.a.getName(t.country,t.lang);return n&&void 0!==n||(n=fu.a.getName(t.country,"en")),Lh.a.createElement("div",{className:"panel-leader-board__information",style:{top:t.top,left:t.left}},Lh.a.createElement("div",{className:"panel-leader-board__information-header"},Lh.a.createElement("div",{className:"panel-leader-board__information-avatar"},t.avatarUrl?Lh.a.createElement("img",{src:"https://quotex.com".concat(t.avatarUrl,"?w=64")}):Lh.a.createElement(Hh,{name:"avatar-default"})),Lh.a.createElement("div",null,Lh.a.createElement("div",{className:"panel-leader-board__information-location"},n),Lh.a.createElement("div",{className:"panel-leader-board__information-name"},t.nick,Lh.a.createElement("div",{className:"panel-leader-board__information-status ".concat("pro")},Lh.a.createElement(Hh,{name:"profile-level-".concat("pro")}))))),Lh.a.createElement("div",{className:"panel-leader-board__information-block"},Lh.a.createElement("div",{className:"panel-leader-board__information-block__item"},Lh.a.createElement(Vm,{count:20,percent:10}),Lh.a.createElement("div",{className:"panel-leader-board__information-block__label"},h("Trades count"))),Lh.a.createElement("div",{className:"panel-leader-board__information-block__item"},Lh.a.createElement(Vm,{count:30,percent:65}),Lh.a.createElement("div",{className:"panel-leader-board__information-block__label"},h("Profitable trades")))),Lh.a.createElement("div",{className:"panel-leader-board__information-block border"},Lh.a.createElement("div",{className:"panel-leader-board__information-block__item"},Lh.a.createElement("div",{className:"panel-leader-board__information-block__value"},"340 $"),Lh.a.createElement(Gm,{amount:340}),Lh.a.createElement("div",{className:"panel-leader-board__information-block__label"},h("Trades profit"))),Lh.a.createElement("div",{className:"panel-leader-board__information-block__item"},Lh.a.createElement("div",{className:"panel-leader-board__information-block__value"},"2000 $"),Lh.a.createElement(Gm,{amount:2e3}),Lh.a.createElement("div",{className:"panel-leader-board__information-block__label"},h("Average profit")))),Lh.a.createElement("div",{className:"panel-leader-board__information-block border"},Lh.a.createElement("div",{className:"panel-leader-board__information-block__item"},Lh.a.createElement("div",{className:"panel-leader-board__information-block__value"},"3 $"),Lh.a.createElement(Gm,{amount:3}),Lh.a.createElement("div",{className:"panel-leader-board__information-block__label"},h("Min trade amount"))),Lh.a.createElement("div",{className:"panel-leader-board__information-block__item"},Lh.a.createElement("div",{className:"panel-leader-board__information-block__value"},"-1 $"),Lh.a.createElement(Gm,{amount:-1}),Lh.a.createElement("div",{className:"panel-leader-board__information-block__label"},h("Max trade amount")))))};function Um(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function Wm(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Um(Object(n),!0).forEach((function(t){Ym(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Um(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ym(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Qm(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],i=!0,r=!1,a=void 0;try{for(var o,s=e[Symbol.iterator]();!(i=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);i=!0);}catch(e){r=!0,a=e}finally{try{i||null==s.return||s.return()}finally{if(r)throw a}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Xm(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Xm(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Xm(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var zm=Object(Gh.b)((function(e){return{list:e.leaderBoard.list,currency:"$",lang:e.global.lang}}),{subscribeLeaderBoard:function(){return{type:"LEADER_BOARD.FOLLOW"}},unsubscribeLeaderBoard:function(){return{type:"LEADER_BOARD.UNFOLLOW"}},changeModalState:$h})((function(e){var t=e.list,n=e.subscribeLeaderBoard,i=e.unsubscribeLeaderBoard,r=e.currency,a=(e.lang,e.changeModalState);Object(Bh.useEffect)((function(){n();var e=Li.instance.addEventListener(C,(function(){n()}));return function(){i(),Li.instance.removeEventListener(C,e)}}),[]);var o=Qm(Object(Bh.useState)(null),2),s=o[0],c=o[1];Object(Bh.useCallback)((function(e,t){if(!t)return c(t);var n=e.currentTarget.getBoundingClientRect().left+e.currentTarget.getBoundingClientRect().width+10,i=e.currentTarget.getBoundingClientRect().top;return document.documentElement.clientHeight<i+418&&(i=document.documentElement.clientHeight-422),s&&s.place!==t.place?c(Wm(Wm({},t),{},{top:i,left:n})):c(s?null:Wm(Wm({},t),{},{top:i,left:n}))}),[s]);return Lh.a.createElement("div",{className:"panel-leader-board"},Lh.a.createElement("div",{className:"panel-leader-board__header"},Lh.a.createElement("div",{className:"panel-leader-board__header-title"},h("Leader Board")),Lh.a.createElement("div",{className:"panel-leader-board__header-subtitle"},h("of the Day"))),Lh.a.createElement("div",{className:"panel-leader-board__body"},Lh.a.createElement(Lm,null),Lh.a.createElement("div",{className:"panel-leader-board__body-rating",onClick:function(){a({modalId:Ss.RATING,value:!0})}},Lh.a.createElement(Hh,{name:"rating"}),Lh.a.createElement("div",null,h("How does this rating work?")))),Lh.a.createElement("div",{className:"panel-leader-board__items"},t.map((function(e,t){var n,i,a=Qm(e,5),o=(a[0],a[1]),c=a[2],l=a[3],u=a[4],h=ma({amount:c,currency:r}),d=t+1;return Lh.a.createElement("div",{key:t,className:"panel-leader-board__item ".concat(s&&s.place===d?"active":"")},Lh.a.createElement("div",{className:"panel-leader-board__item-inform"},Lh.a.createElement("div",{className:"panel-leader-board__item-key"},1===d&&Lh.a.createElement("img",{src:"/profile/images/top-gold.svg",alt:"top-gold"}),2===d&&Lh.a.createElement("img",{src:"/profile/images/top-serebro.svg",alt:"top-gold"}),3===d&&Lh.a.createElement("img",{src:"/profile/images/top-bronza.svg",alt:"top-gold"}),Lh.a.createElement("div",{className:"panel-leader-board__item-key__place ".concat(d>=4?" opacity":"")},d)),Lh.a.createElement("div",{className:"panel-leader-board__item-block"},Lh.a.createElement(Pd,{country:o.toLowerCase(),className:"flag"}),Lh.a.createElement("div",{className:"panel-leader-board__item-avatar"},""===l?Lh.a.createElement(Hh,{name:"avatar-default"}):Lh.a.createElement("img",{src:"https://quotex.com".concat(l,"?w=16")}))),Lh.a.createElement("div",{className:"panel-leader-board__item-name"},(i=9,(n=u).length>i?n.slice(0,i-1)+"…":n))),Lh.a.createElement("div",{className:"panel-leader-board__item-money"+(c<0?" --red":" --green")},h))}))),!!s&&Lh.a.createElement(Hm,{user:s}))}));i(578),i(580);function Km(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=new Date(1e3*(e+t)),i=Ue(n.getUTCDate()),r=Ue(n.getUTCMonth()+1),a=Ue(n.getUTCHours()),o=Ue(n.getUTCMinutes());return"".concat(i,".").concat(r," ").concat(a,":").concat(o)}function Jm(e){var t=new Date(1e3*e),n=Ue(t.getUTCHours()),i=Ue(t.getUTCMinutes()),r=Ue(t.getUTCSeconds()),a=We(t.getUTCMilliseconds());return"".concat(n,":").concat(i,":").concat(r,".").concat(a)}function qm(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=new Date(1e3*e),i=Ue(n.getUTCHours()),r=Ue(n.getUTCMinutes()),a=Ue(n.getUTCSeconds());return i+":"+r+("00"!==a||t?":"+a:"")}function Zm(e){var t=new Date(1e3*e),n=Ue(t.getUTCDate()),i=Ue(t.getUTCMonth()+1);return"".concat(n,".").concat(i)}function $m(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return e>=3600&&e<14400?Km(t):e>=14400?Zm(t):n?Jm(t):qm(t)}var ey=Id((function(e){return{timeZone:e.global.timeZone}}),{changeSymbol:Lu,addNavSymbol:ju},Rd)((function(e){var t=e.signal,n=e.active,i=e.chartId,r=e.changeSymbol,a=e.addNavSymbol,o=e.timeZone,s=Je(t.time);return Lh.a.createElement("div",{className:"panel-trading-signals__item"+(n?"":" --read")+(t.isNewSignal?" --animate":""),key:(n?"current-":"")+t.time+t.asset.label},Lh.a.createElement("div",{className:"panel-trading-signals__item-header"},Lh.a.createElement("div",{className:"panel-trading-signals__item-flags",onClick:function(){return e=t.asset.symbol,r({chartId:i,symbol:e}),void a(e);var e}},Lh.a.createElement(Nd,{className:"trading-pair__flags flags",flags:t.pair}),t.asset.label),Lh.a.createElement(Hh,{className:"panel-trading-signals__circle--".concat("call"===t.signal?"up":"down"),name:"arrow-".concat("call"===t.signal?"up":"down","-circle")})),Lh.a.createElement("div",{className:"panel-trading-signals__item-body"},Lh.a.createElement("div",{className:"panel-trading-signals__item-duration"},h("Duration"),": ",s),Lh.a.createElement("div",{className:"panel-trading-signals__item-time"+(n?"":" --read")},Km(t.timestamp,o))))}));function ty(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function ny(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ty(Object(n),!0).forEach((function(t){iy(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ty(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function iy(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ry(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],i=!0,r=!1,a=void 0;try{for(var o,s=e[Symbol.iterator]();!(i=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);i=!0);}catch(e){r=!0,a=e}finally{try{i||null==s.return||s.return()}finally{if(r)throw a}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return ay(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ay(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ay(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var oy=Id((function(e){var t=e.signals;return{chartId:e.chartSettings.visibleChartIds[0],assetBySymbol:om(e),assetsSymbols:sm(e),signals:t}}),{subscribeSignals:function(){return{type:"SIGNAL.FOLLOW"}},unsubscribeSignals:function(){return{type:"SIGNAL.UNFOLLOW"}}},Rd)((function(e){var t=e.chartId,n=e.assetBySymbol,i=e.assetsSymbols,r=e.signals,a=e.subscribeSignals,o=e.unsubscribeSignals;Object(Bh.useEffect)((function(){a();var e=Li.instance.addEventListener(C,(function(){a()}));return function(){o(),Li.instance.removeEventListener(C,e)}}),[]);var s=ry(Object(Bh.useState)(!1),2),c=s[0],l=s[1],u=function(){l(!c)},d=function(e){var t={},r=null;return i.includes(e.asset)&&(r=(t=n[e.asset]).assetsList),ny(ny({},e),{},{asset:t,pair:r})},f=Object(Bh.useMemo)((function(){return r.active.map(d).filter((function(e){return e.asset.active}))}),[r]),p=Object(Bh.useMemo)((function(){return r.inactive.map(d).filter((function(e){return e.asset.active}))}),[r]);return Lh.a.createElement("div",{className:"panel-trading-signals"},Lh.a.createElement("div",{className:"panel-trading-signals__header"},Lh.a.createElement("div",{className:"panel-trading-signals__header-title"},h("Trading signals"))),Lh.a.createElement("div",{className:"panel-trading-signals__header-block"},Lh.a.createElement("div",{className:"panel-trading-signals__header-what",onClick:u},h("What’s it?"))),Lh.a.createElement("div",{className:"panel-trading-signals__list"},c&&Lh.a.createElement("div",{className:"panel-trading-signals__what"},Lh.a.createElement("div",{className:"panel-trading-signals__continue-text"},h("A trading signal is not a direct instruction to trade, but an analyst recommendation. It should not replace independent market analysis.")),Lh.a.createElement("div",null,h("You have an average of 10 minutes to take advantage of the trading signal. After this time, the quotes may change and have an unexpected effect on the trade result.")),Lh.a.createElement(Zh,{className:"panel-trading-signals__continue-button",onClick:u,type:"primary"},h("Continue"))),Lh.a.createElement("div",{className:c?"panel-trading-signals__blur":""},f.map((function(e,n){return Lh.a.createElement(ey,{signal:e,key:n,active:!0,chartId:t})})),p.length>0&&Lh.a.createElement("div",{className:"panel-trading-signals__past"},h("Past signals")),p.map((function(e,n){return Lh.a.createElement(ey,{signal:e,key:n,active:!1,chartId:t})})))))})),sy=(i(582),i(584),i(586),i(39)),cy=i.n(sy),ly=(i(588),function(e){switch(e.toLowerCase()){case"usd":return"$";case"eur":return"€";case"rub":return"₽";case"uah":return"₴";case"gbp":return"£";case"brl":return"R$";case"btc":return"₿";case"kzt":return"₸";case"try":return"₺";case"idr":return"Rp";case"inr":return"₹";case"myr":return"RM";case"thb":return"฿";case"vnd":return"₫";case"ngn":return"₦";case"egp":return"£";case"mxn":return"MX$"}});function uy(e){return(uy="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function hy(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function dy(e,t){return(dy=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function fy(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=yy(e);if(t){var r=yy(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return py(this,n)}}function py(e,t){return!t||"object"!==uy(t)&&"function"!=typeof t?my(e):t}function my(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function yy(e){return(yy=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var gy=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&dy(e,t)}(a,e);var t,n,i,r=fy(a);function a(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(my(t=r.call(this,e)),"toggleRecordDetails",(function(e){t.setState({isActive:!t.state.isActive}),e.currentTarget.parentElement.classList.toggle("active")})),t.state={isActive:!1,isDoubleOver:!1,isRollOver:!1},t}return t=a,(n=[{key:"calculateCancelPercent",value:function(e,t){var n=t.openTimestamp,i=t.closeTimestamp,r=t.percentProfit,a=r>100?100:r,o=w.CANCEL_PERCENT_LIST.find((function(e){return e.timeFrame===sr(n,i)})),s=void 0===o?1:o.value,c=Math.ceil((e-n)/s);return a-w.CANCEL_PERCENT_DIFF-c}},{key:"render",value:function(){var e=this,t=this.props,n=(t.quote,t.deal),i=t.label,r=t.asset,a=t.currentTime,o=t.cancelDeal,s=t.rolloverDeal,c=t.doubleDeal,l=t.price,u=t.timeZone,d=t.isRolloverAvailable,f=t.isDoubleUpAvailable,p=r.assetsList,m=r.digits,y=n.command,g=n.id,v=n.amount,b=n.closeTimestamp,E=n.openPrice,A=n.percentProfit,_=n.currency,O=ly(_),S=function(e){var t=e.amount,n=e.price,i=e.openPrice,r=e.isCall,a=e.percentProfit,o=0;return(r&&n>i||!r&&n<i)&&(o=t+t*a/100),Math.round(100*o)/100}({amount:v,price:l,openPrice:E,isCall:la(y),percentProfit:A}),C=Math.round(l*Math.pow(10,m)-E*Math.pow(10,m)),T=b-a,k=this.calculateCancelPercent(a,n),I=a&&T>w.CANCEL_HIDE_BTN_TIME&&k>=0,P=I?(k/100*v).toFixed(2):0,N=qe(n.openTimestamp,u,!0),x=qe(n.closeTimestamp,u,!0),R=et(n.closeTimestamp-n.openTimestamp),D=n.closeTimestamp-a<=60,M=la(y)&&l>E||!la(y)&&l<E,B=M;return Lh.a.createElement("div",{className:"trades-list__item trades-list-item",key:g},Lh.a.createElement("div",{className:"trades-list-item__title",onClick:this.toggleRecordDetails},Lh.a.createElement(Hh,{className:"trades-list-item__caret",name:"caret"}),Lh.a.createElement(Nd,{className:"trades-list-item__flags flags",flags:p}),Lh.a.createElement("div",{className:"trades-list-item__name"},i),Lh.a.createElement("div",{className:"trades-list-item__countdown"},tt(T)),Lh.a.createElement("div",{className:"trades-list-item__delta trades-list-item__delta--".concat(la(y)?"up":"down")},Lh.a.createElement(Hh,{name:"arrow-".concat(la(y)?"up":"down","-circle")}),pa({amount:v,currency:O}),Lh.a.createElement("div",{className:"trades-list-item__delta-right trades-list-item__delta--".concat(S>0?"up":"down")},fa({amount:S,currency:O})))),(d||f)&&Lh.a.createElement("div",{className:"trades-list-item__buttons"},f&&!D&&Lh.a.createElement("div",{className:"double-btn trades-list-item__buttons-item ".concat(d?"":"--full"),id:g,onClick:function(){D||c(g)},onPointerOver:function(){return e.setState({isDoubleOver:!0})},onPointerLeave:function(){return e.setState({isDoubleOver:!1})}},Lh.a.createElement("div",{className:"trades-list-item__buttons-item__block ".concat(D?"--disabled":"")},Lh.a.createElement(Hh,{name:"trade-x2"}),Lh.a.createElement("div",null,h("Double up"))),this.state.isDoubleOver&&D&&Lh.a.createElement("div",{className:"double-btn trades-list-item__buttons-item__tooltip"},h("double.access_denied"))),d&&Lh.a.createElement("div",{className:"rollover-btn trades-list-item__buttons-item ".concat(f?"":"--full"),id:g,onClick:function(){M||s(g)},onPointerOver:function(){return e.setState({isRollOver:!0})},onPointerLeave:function(){return e.setState({isRollOver:!1})}},Lh.a.createElement("div",{className:"trades-list-item__buttons-item__block ".concat(M?"--disabled":"")},Lh.a.createElement(Hh,{name:"trade-rollover"}),Lh.a.createElement("div",null,h("Rollover"))),this.state.isRollOver&&B&&Lh.a.createElement("div",{className:"rollover-btn trades-list-item__buttons-item__tooltip-rollover"},h("rollover.profitable_deal")))),I&&P>0&&Lh.a.createElement("div",{className:"trades-list-item__button",onClick:function(){return o(g)}},Lh.a.createElement("div",null,h("Sell now")),Lh.a.createElement("span",null,pa({amount:P,currency:O}))),Lh.a.createElement("ul",{className:"trades-list-item__details"},Lh.a.createElement("li",{className:"trades-list-item__details-content"},Lh.a.createElement("div",{className:"trades-list-item__details-content__title"},h("ID"),":"),Lh.a.createElement("div",{className:"trades-list-item__details-content__text"},n.id)),Lh.a.createElement("li",{className:"trades-list-item__details-content"},Lh.a.createElement("div",{className:"trades-list-item__details-content__title"},h("Trade Pair"),":"),Lh.a.createElement("div",{className:"trades-list-item__details-content__text"},i,Lh.a.createElement("div",{className:"trades-list-item__percent"},"".concat(n.percentProfit,"%")))),Lh.a.createElement("li",{className:"trades-list-item__details-content"},Lh.a.createElement("div",{className:"trades-list-item__details-content__title"},h("Open Price"),":"),Lh.a.createElement("div",{className:"trades-list-item__details-content__text"},n.openPrice)),Lh.a.createElement("li",{className:"trades-list-item__details-content"},Lh.a.createElement("div",{className:"trades-list-item__details-content__title"},h("Open time"),":"),Lh.a.createElement("div",{className:"trades-list-item__details-content__text"},N,".",n.openMs)),Lh.a.createElement("li",{className:"trades-list-item__details-content"},Lh.a.createElement("div",{className:"trades-list-item__details-content__title"},h("Close Time"),":"),Lh.a.createElement("div",{className:"trades-list-item__details-content__text"},x,".000")),Lh.a.createElement("li",{className:"trades-list-item__details-content"},Lh.a.createElement("div",{className:"trades-list-item__details-content__title"},h("Duration"),":"),Lh.a.createElement("div",{className:"trades-list-item__details-content__text"},R)),Lh.a.createElement("li",{className:"trades-list-item__details-content"},Lh.a.createElement("div",{className:"trades-list-item__details-content__title"},h("Difference"),":"),Lh.a.createElement("div",{className:"trades-list-item__details-content__text"},C))))}}])&&hy(t.prototype,n),i&&hy(t,i),a}(Lh.a.Component),vy=Object(Gh.b)((function(e,t){var n=e.assets,i=e.global,r=e.quotes,a=t.deal,o=n.assetBySymbol,s=n.symbols,c=i.currentTime,l=i.isRolloverAvailable,u=i.isDoubleUpAvailable,h=r.quoteBySymbol[a.asset],d=null,f=3;return s.includes(a.asset)&&(f=(d=o[a.asset]).digits),{price:void 0!==h?h.price:0,currentTime:c,asset:d,digits:f,label:s.includes(a.asset)?o[a.asset].label:a.asset,timeZone:i.timeZone,isRolloverAvailable:l,isDoubleUpAvailable:u}}),{cancelDeal:Hu,rolloverDeal:function(e){return{type:"DEAL.ROLLOVER",payload:{ticket:e}}},doubleDeal:function(e){return{type:"DEAL.DOUBLE",payload:{ticket:e}}}})(gy),by=function(e){return 0===parseInt(e,10)};function Ey(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ay(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var wy=function(){function e(t,n){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0;Ey(this,e),this.value=t,this.time=n,this.minValue=i,this.maxValue=r,this.exitValue=t,this.tick=a}var t,n,i;return t=e,(n=[{key:"isEqual",value:function(e){return e&&e.time===this.time&&e.value===this.value}}])&&Ay(t.prototype,n),i&&Ay(t,i),e}();function _y(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Oy(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var Sy=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;_y(this,e),this.minValue=Number.MAX_VALUE,this.maxValue=Number.MIN_VALUE,this.enterValue=0,this.exitValue=0,this.time=t,this.tick=0}var t,n,i;return t=e,(n=[{key:"setTick",value:function(e){this.tick=e}},{key:"getTick",value:function(){return this.tick}},{key:"addValue",value:function(e,t){0===this.enterValue&&(this.enterValue=e),e<this.minValue&&(this.minValue=e),e>this.maxValue&&(this.maxValue=e),this.exitValue=e,this.tick+=t}},{key:"isEqual",value:function(e){return e&&this.minValue===e.minValue&&this.maxValue===e.maxValue&&this.enterValue===e.enterValue&&this.exitValue===e.exitValue&&this.time===e.time}}])&&Oy(t.prototype,n),i&&Oy(t,i),e}();function Cy(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var Ty=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.minCandleValue=Number.MAX_VALUE,this.maxCandleValue=Number.MIN_VALUE,this.enterCandleValue=0,this.exitCandleValue=0,this.minValue=Number.MAX_VALUE,this.maxValue=Number.MIN_VALUE,this.enterValue=0,this.exitValue=0,this.time=0}var t,n,i;return t=e,(n=[{key:"addValue",value:function(e,t){0===this.enterCandleValue&&(this.enterCandleValue=t),t<this.minCandleValue&&(this.minCandleValue=t),t>this.maxCandleValue&&(this.maxCandleValue=t),this.exitCandleValue=t,0===this.enterValue&&(this.enterValue=e?(e.enterValue+e.exitValue)/2:t),this.exitValue=(this.minCandleValue+this.maxCandleValue+this.exitCandleValue+this.enterCandleValue)/4,this.minValue=Math.min.apply(null,[this.minCandleValue,this.enterValue,this.exitValue]),this.maxValue=Math.max.apply(null,[this.maxCandleValue,this.enterValue,this.exitValue])}},{key:"isEqual",value:function(e){return e&&this.minValue===e.minValue&&this.maxValue===e.maxValue&&this.enterValue===e.enterValue&&this.exitValue===e.exitValue&&this.time===e.time}}])&&Cy(t.prototype,n),i&&Cy(t,i),e}(),ky={NONE:0,DEFAULT:1,QUICK:2,HEAP:3};function Iy(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var Py=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,i;return t=e,i=[{key:"heapify",value:function(t,n,i,r){var a=2*n+1,o=2*n+2,s=n;if(a<i&&t[a][r]>t[n][r]&&(s=a),o<i&&t[o][r]>t[s][r]&&(s=o),s!==n){var c=t[n];t[n]=t[s],t[s]=c,e.heapify(t,s,i,r)}}},{key:"buildMaxHeap",value:function(t,n){for(var i=Math.floor(t.length/2);i>=0;i-=1)e.heapify(t,i,t.length,n);return t}},{key:"sort",value:function(t,n){var i,r=t.length;e.buildMaxHeap(t,n);for(var a=t.length-1;a>0;a-=1)i=t[0],t[0]=t[a],t[a]=i,r-=1,e.heapify(t,0,r,n);return t}}],(n=null)&&Iy(t.prototype,n),i&&Iy(t,i),e}();function Ny(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var xy=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,i;return t=e,i=[{key:"partition",value:function(t,n,i,r){var a,o=t[i-1][r],s=n;for(a=n;a<i-1;a+=1)t[a][r]<=o&&(this.swap(t,a,s),s+=1);return e.swap(t,s,i-1),s}},{key:"swap",value:function(e,t,n){var i=e[t];return e[t]=e[n],e[n]=i,e}},{key:"sort",value:function(t,n,i,r){if(n<i){var a=e.partition(t,n,i,r);e.sort(t,n,a,r),e.sort(t,a+1,i,r)}return t}}],(n=null)&&Ny(t.prototype,n),i&&Ny(t,i),e}();function Ry(e,t){return parseFloat(e.toFixed(t))}function Dy(e){return function(e){if(Array.isArray(e))return My(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return My(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return My(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function My(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function By(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ly(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var jy=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:100,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:5;By(this,e),this.optimalSecondWidth=w.CHART.SECOND_W,this.intervalFactor=t,this.socket=Li.instance,this.digits=n,this.reset()}var t,n,i;return t=e,(n=[{key:"setDigits",value:function(e){this.digits=e}},{key:"addPoint",value:function(e,t,n,i){if(!(t<=0||e<=0))if(0!==this.points.length){var r=this.points.length-1,a=this.points[r],o=this.points[0];if(a.time!==t){if(!(t>=o.time&&t<a.time)){if(ur(i)&&t>a.time){var s=Math.floor(t)-Math.floor(a.time);if(s>1)for(var c=1;c<=s;c++)this.points.push(new wy(a.value,a.time+c,0,0,n))}this.points.push(new wy(e,t,0,0,n))}}else this.points[r]=new wy(e,a.time,0,0,n)}else this.points.push(new wy(e,t,0,0,n))}},{key:"sort",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(e)switch(e){case ky.DEFAULT:this.points=this.points.sort((function(e,t){return e.time-t.time}));break;case ky.HEAP:this.points=Py.sort(this.points,"time");break;case ky.QUICK:var t=this.points.length-w.CHART.SORT_OFFSET;t<0&&(t=0),this.points=xy.sort(this.points,t,this.points.length-1,"time")}}},{key:"resetCandles",value:function(){this.candles=[]}},{key:"reset",value:function(){this.fromTime=0,this.toTime=0,this.startPoint=new wy(0,0),this.endPoint=new wy(0,0),this.targetValue=w.CHART.FLT_MAX,this.targetTime=w.CHART.FLT_MAX,this.candleWidth=0,this.currentValue=w.CHART.FLT_MAX,this.currentTime=w.CHART.FLT_MAX,this.points=[],this.candles=[],this.reducedPoints=[],this.interval=1,this.reduceRestSum=0,this.reduceRestCount=0}},{key:"setStartEndPoints",value:function(){var e=Math.pow(10,this.digits);this.startPoint=this.points[0],this.endPoint=this.points[this.points.length-1],this.targetValue=Ry((this.endPoint.value*e+this.reduceRestSum)/((this.reduceRestCount+1)*e),this.digits),this.targetTime=this.endPoint.time,this.currentValue===w.CHART.FLT_MAX&&(this.currentValue=this.targetValue),this.currentTime===w.CHART.FLT_MAX&&(this.currentTime=this.targetTime)}},{key:"getPointsCandleByTime",value:function(e,t){for(var n=[],i=this.points.length,r=0;r<i;r++){var a=this.points[r];e<=a.time&&a.time<t&&n.push(a)}return n}},{key:"needToCalculateReducedPoints",value:function(e){if(!this.reducedPoints.length||this.currentTime>this.toTime&&!e)return!1;var t=Math.max(3,2*this.interval);return Math.abs(this.reducedPoints[this.reducedPoints.length-1].time-this.currentTime)>t}},{key:"checkReducedPoints",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.needToCalculateReducedPoints(e)&&this.calculateReducedPointsToEnd()}},{key:"getAnimatingPoint",value:function(){return new wy(this.currentValue,this.currentTime)}},{key:"calculateHeikenAshiCandles",value:function(e){var t=Math.floor(this.startPoint.time/e)*e,n=(Math.ceil(this.endPoint.time/e)*e-t)/e;this.candles.length>2&&(this.candles=this.candles.slice(0,this.candles.length-1));for(var i=this.candles.length;i<n;i++){var r=this.candles[i-1]?this.candles[i-1]:null,a=t+this.candles.length*e,o=new Ty;o.time=a,this.fillHeikenAshiCandle(r,o,a,e),this.candles.push(o)}}},{key:"calculateCandles",value:function(e,t){var n=this,i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],a=Math.floor(this.startPoint.time/e)*e,o=Math.ceil(this.endPoint.time/e)*e,s=(o-a)/e;this.candles.length>2&&i&&(this.candles=this.candles.slice(0,this.candles.length-1));var c=s-this.candles.length;if(0!==c){for(var l=this.candles.length>0?this.candles[this.candles.length-1].time+e:a,u=l,h=u+e,d=null,f=function(e){n.candles.push(e),d=null},p=0;p<this.points.length;p++){var m=this.points[p],y=m.time,g=m.value,v=m.tick;if(!(y<l)&&((u>y||y>=h)&&(null!==d&&f(d),h=(u+=Math.floor((y-u)/e)*e)+e),u<=y&&y<h)){null===d&&(d=new Sy(u));var b=r&&this.points[p].isEqual(this.endPoint);d.addValue(b?this.currentValue:g,v)}}null!==d&&f(d)}}},{key:"fillHeikenAshiCandle",value:function(e,t,n,i){for(var r=this.getPointsCandleByTime(n,n+i),a=0;a<r.length;a++){var o=r[a];t.addValue(e,o.isEqual(this.endPoint)?this.currentValue:o.value)}}},{key:"updateCurrentValues",value:function(){this.currentTime!==w.CHART.FLT_MAX&&this.targetTime-this.currentTime>3&&(this.currentTime=this.targetTime,this.currentValue=this.targetValue),this.currentTime!==w.CHART.FLT_MAX?this.currentTime=this.currentTime+(this.targetTime-this.currentTime)/6:this.currentTime=this.targetTime,this.currentValue!==w.CHART.FLT_MAX?this.currentValue=this.roundCurrentValue(this.currentValue+(this.targetValue-this.currentValue)/6):this.currentValue=this.targetValue}},{key:"roundCurrentValue",value:function(e){return Math.floor(1e7*e)/1e7}},{key:"calculatePoints",value:function(e,t,n,i){this.calculateReducedPoints(e,t,n)||this.mergeReducedPoints(e,t),i&&this.calculateReducedPointsToEnd(),this.fromTime=e,this.toTime=t}},{key:"calculateReducedPointsToEnd",value:function(){var e=0;this.reducedPoints.length&&(e=this.reducedPoints[this.reducedPoints.length-1].time);for(var t=Math.pow(10,this.digits),n=[],i=this.points.length,r=0;r<i;r++){var a=this.points[r];a.time>e&&n.push(a)}if(n.length){var o=this.reCalculateReducedPoints(n,this.interval,t,this.digits,!0,!0);o.length&&(this.reducedPoints=[].concat(Dy(this.reducedPoints),Dy(o)))}}},{key:"calculateReducedPoints",value:function(e,t,n){var i=n/this.optimalSecondWidth,r=Math.floor((t-e)/i),a=this.interval?Math.ceil((t-e)/this.interval):0;if((Math.abs(a-i)<.2*i||r===this.interval)&&this.reducedPoints.length)return!1;this.interval=r;for(var o=Math.pow(10,this.digits),s=this.getTimeFromInterval(e),c=[],l=this.points.length,u=0;u<l;u++){var h=this.points[u];h.time>=s&&h.time<=t&&c.push(h)}return this.reducedPoints=this.reCalculateReducedPoints(c,r,o,this.digits,!0,!1),!0}},{key:"mergeReducedPoints",value:function(e,t){var n=[],i=[],r=this.getTimeFromInterval(e),a=t+this.interval,o=0;this.reducedPoints.length&&(o=this.reducedPoints[0].time);var s=0;this.reducedPoints.length&&(s=this.reducedPoints[this.reducedPoints.length-1].time);var c=Math.pow(10,this.digits);if(e!==this.fromTime&&r<o)for(var l=this.points.length,u=0;u<l;u++){var h=this.points[u];h.time<o&&h.time>r&&n.push(h)}var d=this.endPoint.time;if(d>s&&t>d||t>s&&d>t)for(var f=this.points.length,p=0;p<f;p++){var m=this.points[p];m.time>s&&m.time<=a&&i.push(m)}if(i.length||n.length){var y=this.reCalculateReducedPoints(i,this.interval,c,this.digits,!0,!0),g=this.reCalculateReducedPoints(n,this.interval,c,this.digits,!1,!1);if(y.length||g.length){this.reducedPoints=[].concat(Dy(g),Dy(this.reducedPoints),Dy(y));for(var v=[],b=this.reducedPoints.length,E=0;E<b;E++){var A=this.reducedPoints[E];A.time>=r&&A.time<=a&&v.push(A)}this.reducedPoints=v}}}},{key:"reCalculateReducedPoints",value:function(e,t,n,i){var r=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],a=!(arguments.length>5&&void 0!==arguments[5])||arguments[5];if(!e.length)return[];r&&(this.reduceRestSum=0,this.reduceRestCount=0);var o=[],s=0,c=0,l=w.CHART.INT_MAX,u=w.CHART.INT_MIN,h=0;if(a&&this.reducedPoints.length){var d=this.reducedPoints[this.reducedPoints.length-1].time;h=t>0?d-d%t+t:d}else{var f=e[0].time;h=t>0?f-f%t:f}for(var p=e.length,m=0;m<p;m++){var y=e[m];if(s+=y.value*n,c++,y.value>u&&(u=y.value),y.value<l&&(l=y.value),y.time>=h){var g=s>0?Ry(s/(c*n),i):y.value;s=0,c=0,o.push(new wy(g,y.time,l,u)),h+=t,l=w.CHART.INT_MAX,u=w.CHART.INT_MIN}r&&this.points[this.points.length-1].time===y.time&&(this.reduceRestSum=s,this.reduceRestCount=c)}return o}},{key:"getTimeFromInterval",value:function(e){return e-(this.interval>0?this.interval*this.intervalFactor:this.intervalFactor)}}])&&Ly(t.prototype,n),i&&Ly(t,i),e}(),Fy=function(){function e(){}return e.isEventSupported=function(e){var t;return t={reset:"form",error:"img",change:"input",submit:"form",select:"input",abort:"img",load:"img"},function(n,i){var r;return i=i||document.createElement(t[n]||"div"),(r=(n="on"+n)in i)||(i.setAttribute||(i=document.createElement("div")),i.setAttribute&&i.removeAttribute&&(i.setAttribute(n,""),r="function"==typeof i[n],void 0!==i[n]&&(i[n]=e),i.removeAttribute(n))),i=null,r}},e}(),Gy=function(){function e(){this.bindObj=window.addEventListener?"addEventListener":"attachEvent",this.unbindObj=window.removeEventListener?"removeEventListener":"detachEvent",this.prefixObj="addEventListener"!==this.bindObj?"on":""}return e.prototype.bind=function(e,t,n,i){return e[this.bindObj](this.prefixObj+t,n,i||!1),n},e.prototype.unbind=function(e,t,n,i){return e[this.unbindObj](this.prefixObj+t,n,i||!1),n},e}(),Vy=function(){function e(){var e;e=this,this.support="",this.callbacks={},["wheel","mousewheel","DOMMouseScroll"].forEach((function(t){Fy.isEventSupported(t)&&0===e.support.length&&(e.support=t)}))}return e.prototype.bind=function(e,t,n){var i,r;i=new Gy,r=function(e){var n;e||(e=window.event),(n={}).deltaMode="MozMousePixelScroll"===e.type?0:1,n.target=e.target||e.srcElement,n.originalEvent=e,n.type="wheel",n.deltaX=0,n.deltaZ=0,n.preventDefault=function(){e.preventDefault?e.preventDefault():e.returnValue=!1},"mousewheel"===this.support?(e.wheelDeltaX&&(n.deltaX=-.2*e.wheelDeltaX),e.wheelDelta&&(n.deltaY=e.wheelDelta>0?-5:5),e.wheelDeltaY&&(n.deltaY=-.2*e.wheelDeltaY)):n.deltaY=e.detail,t(n)},"DOMMouseScroll"===this.support&&i.bind(e,"MozMousePixelScroll",t,n||!1),i.bind(e,this.support,"wheel"===this.support?t:r,n||!1),this.callbacks[t]=r},e.prototype.unbind=function(e,t,n){var i;i=new Gy,this.callbacks[t]&&("DOMMouseScroll"===this.support&&i.unbind(e,"MozMousePixelScroll",t,n),i.unbind(e,this.support,"wheel"===this.support?t:this.callbacks[t],n),delete this.callbacks[t])},e}(),Hy=function(){return window.devicePixelRatio||1};function Uy(e){return(Uy="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Wy(e,t,n){return(Wy="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var i=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Ky(e)););return e}(e,t);if(i){var r=Object.getOwnPropertyDescriptor(i,t);return r.get?r.get.call(n):r.value}})(e,t,n||e)}function Yy(e,t){return(Yy=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Qy(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=Ky(e);if(t){var r=Ky(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return Xy(this,n)}}function Xy(e,t){return!t||"object"!==Uy(t)&&"function"!=typeof t?zy(e):t}function zy(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ky(e){return(Ky=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Jy(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function qy(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Zy(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function $y(e,t,n){return t&&Zy(e.prototype,t),n&&Zy(e,n),e}var eg="event_scroll",tg="event_pan",ng="event_touch_start",ig="event_touch_end",rg="event_stop",ag="event_mouse_move",og="event_pinch_moved",sg="event_pinch_ended",cg="event_mouse_down",lg="event_mouse_up",ug=function(){function e(t){qy(this,e),this.isFirefox=!1,this.isIE=!1,this.x=0,this.y=0,this.width=0,this.height=0,"undefined"!=typeof navigator&&(this.isFirefox=navigator.userAgent.toLowerCase().indexOf("firefox")>-1,this.isIE=-1!==navigator.userAgent.indexOf("MSIE")||navigator.appVersion.indexOf("Trident/")>0),this.siteContentEl=document.querySelector(".trading-chart__wrapper"),this.container=document.getElementById(t),this.canvas=this.container.getElementsByTagName("canvas")[0]}return $y(e,[{key:"setSize",value:function(e,t){var n=Hy();this.width=e,this.height=t,this.canvas.height=t*n,this.canvas.width=e*n,this.canvas.style.width="".concat(e,"px"),this.canvas.style.height="".concat(t,"px"),this.containerOffset=this.getElementOffset()}},{key:"init",value:function(){}},{key:"release",value:function(){}},{key:"getCanvas",value:function(){return this.canvas}},{key:"getContainerOffsets",value:function(){return this.containerOffset?{offsetLeft:this.containerOffset.left,offsetTop:this.containerOffset.top}:{offsetLeft:0,offsetTop:0}}},{key:"getElementOffset",value:function(){return e=this.container,{top:(t=e.getBoundingClientRect()).top+document.body.scrollTop,left:t.left+document.body.scrollLeft};var e,t}}]),e}(),hg=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Yy(e,t)}(n,e);var t=Qy(n);function n(e){var i;return qy(this,n),Jy(zy(i=t.call(this,e)),"onMouseDownHandler",(function(e){if(2!==e.button&&3!==e.which){var t=i.getMousePosition(e),n=t.x,r=t.y;i.canvas===e.target&&(i.startPosX=n,i.startPosY=r,i.mousePressed=!0,i.listeners[cg].forEach((function(t){return t(n,r,e.ctrlKey||e.metaKey)})))}})),Jy(zy(i),"onMouseUpHandler",(function(e){i.mousePressed=!1;var t=i.getMousePosition(e),n=t.x,r=t.y,a=Math.abs(i.startPosX-n),o=Math.abs(i.startPosY-r);(a<=3||o<=3)&&i.listeners[lg].forEach((function(t){return t(n,r,e.ctrlKey||e.metaKey)})),i.listeners[rg].forEach((function(e){return e(n,r)}))})),Jy(zy(i),"onMouseMoveHandler",(function(e){if(i.canvas===e.target||!0!==i.mousePressed){var t=i.getMousePosition(e),n=t.x,r=t.y;i.x===n&&i.y===r||(i.x=n,i.y=r,!0===i.mousePressed&&i.listeners[tg].forEach((function(e){return e(i.x,i.y)})),i.listeners[ag].forEach((function(e){return e(i.x,i.y)})))}})),Jy(zy(i),"onMouseEnterHandler",(function(){i.mouseOver=!0,i.wheel.bind(i.container,i.wheelEvent,!0)})),Jy(zy(i),"onMouseLeaveHandler",(function(e){var t=i.getMousePosition(e),n=t.x,r=t.y;i.mouseOver=!1,i.x=n,i.y=r,i.mousePressed&&(i.listeners[rg].forEach((function(e){return e(i.x,i.y)})),i.mousePressed=!1),i.listeners[ag].forEach((function(e){return e(-1,-1)}))})),Jy(zy(i),"onTouchStartHandler",(function(e){var t=i.getContainerOffsets(),n=t.offsetLeft,r=t.offsetTop;if(i.addTouches(e.changedTouches||[]),i.touches.length)if(1===i.touches.length){i.mousePressed=!0;var a=i.touches[0];i.startPosX=a.pageX-n,i.startPosY=a.pageY-r,i.listeners[ng].forEach((function(e){return e(i.startPosX,i.startPosY)}))}else i.listeners[og].forEach((function(e){return e(i.touches[0].pageX-n,i.touches[0].pageY-r,i.touches[1].pageX-n,i.touches[1].pageY-r)}))})),Jy(zy(i),"onTouchEndHandler",(function(e){var t=i.getContainerOffsets(),n=t.offsetLeft,r=t.offsetTop;i.removeTouches(e.changedTouches),i.mousePressed=!1;var a=e.changedTouches;if(a.length)if(1===a.length){var o=a[0],s=o.pageX-n,c=o.pageY-r,l=Math.abs(i.startPosX-s),u=Math.abs(i.startPosY-c);(l>3||u>3)&&i.listeners[rg].forEach((function(e){return e(s,c)})),i.listeners[ig].forEach((function(e){return e(s,c)}))}else i.listeners[sg].forEach((function(e){return e(a[0].pageX-n,a[0].pageY-r,a[1].pageX-n,a[1].pageY-r)}))})),Jy(zy(i),"onTouchMoveHandler",(function(e){var t=i.getContainerOffsets(),n=t.offsetLeft,r=t.offsetTop;if(i.updateTouches(e.changedTouches||{}),i.touches.length)if(1===i.touches.length){var a=i.touches[0];i.x=a.pageX-n,i.y=a.pageY-r,!0===i.mousePressed&&i.listeners[tg].forEach((function(e){return e(a.pageX-n,a.pageY-r)}))}else{var o=i.touches[0],s=i.touches[1];i.listeners[og].forEach((function(e){return e(o.pageX-n,o.pageY-r,s.pageX-n,s.pageY-r)}))}})),Jy(zy(i),"onTouchCancelHandler",(function(e){var t=i.getContainerOffsets(),n=t.offsetLeft,r=t.offsetTop;e.stopPropagation(),e.preventDefault();var a=e.changedTouches;if(1===a.length){var o=a[0];i.mouseOver=!1,i.x=o.pageX-n,i.y=o.pageY-r,i.mousePressed&&(i.listeners[rg].forEach((function(e){return e(o.pageX-n,o.pageY-r)})),i.mousePressed=!1),i.listeners[ag].forEach((function(e){return e(-1,-1)}))}})),i.mousePressed=!1,i.mouseOver=!1,i.deltaDivider=1e3,i.deltaDividerFirefox=50,i.touches=[],i.startPosX=0,i.startPosY=0,i.listeners=i.prepareInputEventsListeners(),i.wheelEvent=function(e){e||(e=window.event);var t=i.isFirefox?i.deltaDividerFirefox:i.deltaDivider;i.listeners[eg].forEach((function(n){return n(e.deltaY/-t,e.offsetX,e.offsetY)})),e.preventDefault()},"undefined"!=typeof navigator&&(i.isFirefox=navigator.userAgent.toLowerCase().indexOf("firefox")>-1,i.isIE=-1!==navigator.userAgent.indexOf("MSIE")||navigator.appVersion.indexOf("Trident/")>0),i.wheel=new Vy,i.init(),i}return $y(n,[{key:"addEventListener",value:function(e,t){var n=ke();return this.listeners[e].set(n,t),n}},{key:"addEventListeners",value:function(e,t){var n=this,i=[];return e.forEach((function(e){return i.push(n.addEventListener(e,t))})),i}},{key:"removeEventListener",value:function(e,t){this.listeners[e].delete(t)}},{key:"removeAllListeners",value:function(){this.listeners=this.prepareInputEventsListeners()}},{key:"prepareInputEventsListeners",value:function(){var e={};return[eg,tg,ng,ig,rg,ag,og,sg,lg,cg].forEach((function(t){e[t]=new Map})),e}},{key:"setSize",value:function(e,t){Wy(Ky(n.prototype),"setSize",this).call(this,e,t),this.canvas.style.setProperty("position","absolute")}},{key:"addTouches",value:function(e){for(var t=0;t<e.length;t++){var n=e[t];if(this.canvas!==n.target)return;this.touches.push(n)}}},{key:"updateTouches",value:function(e){for(var t=this,n=function(n){var i=e[n];if(t.canvas!==i.target)return{v:void 0};var r=t.touches.findIndex((function(e){return e.identifier===i.identifier}));-1!==r&&(t.touches[r]=i)},i=0;i<e.length;i++){var r=n(i);if("object"===Uy(r))return r.v}}},{key:"removeTouches",value:function(e){for(var t=this,n=function(n){var i=e[n],r=t.touches.findIndex((function(e){return e.identifier===i.identifier}));-1!==r&&t.touches.splice(r,1)},i=0;i<e.length;i++)n(i)}},{key:"getMousePosition",value:function(e){var t=this.containerOffset;return{x:e.pageX-t.left,y:e.pageY-t.top}}},{key:"init",value:function(){var e=this;Wy(Ky(n.prototype),"init",this).call(this),this.isFirefox||this.isIE?this.wheel.bind(this.container,this.wheelEvent,!0):this.container.onwheel=function(t){t.defaultPrevented||(e.listeners[eg].forEach((function(n){return n(-t.deltaY/e.deltaDivider,t.offsetX,t.offsetY)})),t.preventDefault())},this.container.addEventListener("mousedown",this.onMouseDownHandler),this.container.addEventListener("mouseup",this.onMouseUpHandler),this.container.addEventListener("mousemove",this.onMouseMoveHandler),this.container.addEventListener("mouseenter",this.onMouseEnterHandler),this.container.addEventListener("mouseleave",this.onMouseLeaveHandler),this.container.addEventListener("touchstart",this.onTouchStartHandler),this.container.addEventListener("touchend",this.onTouchEndHandler),this.container.addEventListener("touchmove",this.onTouchMoveHandler),this.container.addEventListener("touchcancel",this.onTouchCancelHandler)}},{key:"release",value:function(){Wy(Ky(n.prototype),"release",this).call(this),(this.isFirefox||this.isIE)&&this.wheel.unbind(this.container,this.wheelEvent,!0),this.container.removeEventListener("mousedown",this.onMouseDownHandler),this.container.removeEventListener("mouseup",this.onMouseUpHandler),this.container.removeEventListener("mousemove",this.onMouseMoveHandler),this.container.removeEventListener("mouseenter",this.onMouseEnterHandler),this.container.removeEventListener("mouseleave",this.onMouseLeaveHandler),this.container.removeEventListener("touchstart",this.onTouchStartHandler),this.container.removeEventListener("touchend",this.onTouchEndHandler),this.container.removeEventListener("touchmove",this.onTouchMoveHandler),this.container.removeEventListener("touchcancel",this.onTouchCancelHandler)}}]),n}(ug),dg=i(3);function fg(e){return(fg="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function pg(e,t,n){return(pg="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var i=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=wg(e)););return e}(e,t);if(i){var r=Object.getOwnPropertyDescriptor(i,t);return r.get?r.get.call(n):r.value}})(e,t,n||e)}function mg(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function yg(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function gg(e,t,n){return t&&yg(e.prototype,t),n&&yg(e,n),e}function vg(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&bg(e,t)}function bg(e,t){return(bg=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Eg(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=wg(e);if(t){var r=wg(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return Ag(this,n)}}function Ag(e,t){return!t||"object"!==fg(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function wg(e){return(wg=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var _g=function(e){vg(n,e);var t=Eg(n);function n(){return mg(this,n),t.call(this,dg.x.WHITE,{uniforms:{resolution:1,threshold:1},program:n.getProgram()})}return gg(n,null,[{key:"getProgram",value:function(){return n._prog||(n._prog=new dg.p("\nattribute vec4 aRect;\nattribute vec2 aQuad;\nattribute vec4 aColor;\nuniform mat3 projectionMatrix;\nuniform mat3 translationMatrix;\nuniform float resolution;\nuniform vec4 uColor;\nuniform float threshold;\nvarying vec2 vPos;\nvarying vec4 vDistance;\nvarying vec4 vColor;\nvoid main(void){\nvec2 p1 = (translationMatrix * vec3(aRect.xy, 1.0)).xy;\nvec2 p2 = (translationMatrix * vec3(aRect.xy + aRect.zw, 1.0)).xy;\nvec2 size = p2 - p1;\nvec2 tQuad = (aQuad * 2.0 - 1.0) * threshold;\nvec2 tWorld = tQuad;\nif (size.x < 0.0) {\n    tWorld.x = -tWorld.x;\n}\nif (size.y < 0.0) {\n    tWorld.y = -tWorld.y;\n}\nvec2 localPos = (translationMatrix * vec3(aRect.zw * aQuad, 0.0)).xy;\nvec2 cssPos = (p1 + localPos) + tWorld / resolution;\nvDistance.xy = abs(localPos) * resolution + tQuad;\nvDistance.zw = aRect.zw * resolution;\ngl_Position = vec4((projectionMatrix * vec3(cssPos, 1.0)).xy, 0.0, 1.0);\nvColor = aColor * uColor;\n}","\nvarying vec2 vPos;\nvarying vec4 vDistance;\nvarying vec4 vColor;\nvoid main(void) {\nvec2 leftTop = max(vDistance.xy - 0.5, 0.0);\nvec2 rightBottom = min(vDistance.xy + 0.5, vDistance.zw);\nvec2 area = max(rightBottom - leftTop, 0.0);\nfloat clip = area.x * area.y;\ngl_FragColor = vColor * clip;\n}")),n._prog}}]),n}(dg.m);_g._prog=null;var Og=function(e){vg(n,e);var t=Eg(n);function n(){var e,i=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return mg(this,n),(e=t.call(this)).lastLen=0,e.lastPointNum=0,e.lastPointData=0,e.points=[],e._floatView=null,e._u32View=null,e._buffer=null,e._quad=null,e._indexBuffer=null,e.stridePoints=5,e.strideFloats=5,e.strideBytes=20,e.legacyGeom=null,e.legacyBuffer=null,e.initGeom(i),e.reset(),e}return gg(n,[{key:"initGeom",value:function(e){this._buffer=new dg.b(new Float32Array(0),e,!1),this._quad=new dg.b(new Float32Array([0,0,1,0,1,1,0,1]),!0,!1),this._indexBuffer=new dg.b(new Uint16Array([0,1,2,0,2,3]),!0,!0),this.addAttribute("aRect",this._buffer,4,!1,dg.t.FLOAT,void 0,void 0,!0).addAttribute("aColor",this._buffer,4,!0,dg.t.UNSIGNED_BYTE,void 0,void 0,!0).addAttribute("aQuad",this._quad,2,!1,dg.t.FLOAT).addIndex(this._indexBuffer)}},{key:"addRect",value:function(e,t,n,i,r){var a=this.points;a.push(e),a.push(t),a.push(n),a.push(i),a.push(r)}},{key:"invalidate",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;this.lastPointNum=Math.min(e,this.lastPointNum)}},{key:"reset",value:function(){this.lastLen>0&&this.clearBufferData(),this.lastLen=0,this.lastPointData=0,this.points.length=0,this.instanceCount=0}},{key:"clearBufferData",value:function(){var e=this.points,t=this.strideBytes,n=this.stridePoints;this.lastPointNum=0,this.lastPointData=0;var i=new ArrayBuffer(t*e.length/n);this.lastLen=e.length,this._floatView=new Float32Array(i),this._u32View=new Uint32Array(i),this._buffer.update(i)}},{key:"updateBuffer",value:function(){var e=this.points,t=this.stridePoints,n=this.strideFloats;if(this.lastLen>e.length&&(this.lastLen=-1),(this.lastLen<e.length||this.lastPointNum<this.lastLen)&&this.clearBufferData(),this.lastPointNum!=this.lastLen){var i=this._floatView,r=this._u32View;this.lastPointData=Math.min(this.lastPointData,this.lastPointNum);for(var a=Math.round(this.lastPointNum*n/t),o=this.lastPointNum;o<e.length;o+=t){i[a++]=e[o],i[a++]=e[o+1],i[a++]=e[o+2],i[a++]=e[o+3];var s=e[o+4],c=s>>16&255|65280&s|(255&s)<<16|255<<24;r[a++]=c}this._buffer.update(),this.instanceCount=Math.round(e.length/t),this.lastPointNum=this.lastLen,this.lastPointData=this.lastLen,this.legacyGeom&&this.updateLegacy()}}},{key:"initLegacy",value:function(){this.legacyGeom||(this.legacyGeom=new dg.f,this.legacyBuffer=new dg.b(new Float32Array(0),!1,!1),this.legacyGeom.addAttribute("aRect",this.legacyBuffer,4,!1,dg.t.FLOAT).addAttribute("aColor",this.legacyBuffer,4,!0,dg.t.UNSIGNED_BYTE).addAttribute("aQuad",this.legacyBuffer,2,!1,dg.t.FLOAT).addIndex(new dg.b(new Uint16Array([0,1,2,0,2,3]),!1,!0)))}},{key:"updateLegacy",value:function(){var e=this.legacyBuffer,t=this._floatView,n=(this._u32View,this.strideFloats),i=this._floatView.length/n,r=7*i*4;e.data.length!==r&&(e.data=new Float32Array(r),this.legacyGeom.getIndex().update(dg.C.createIndicesForQuads(i)));for(var a=e.data,o=this._quad.data,s=0,c=0;s<this._floatView.length;){for(var l=0;l<4;l++)a[c++]=t[s],a[c++]=t[s+1],a[c++]=t[s+2],a[c++]=t[s+3],a[c++]=t[s+4],a[c++]=o[2*l],a[c++]=o[2*l+1];s+=n}e.update()}}]),n}(dg.f),Sg=function(e){vg(n,e);var t=Eg(n);function n(){var e;return mg(this,n),(e=t.call(this)).fillColor=16777215,e.lineColor=0,e.cursor=new dg.n,e}return gg(n,[{key:"lineStyle",value:function(e,t,n,i,r){this.lineWidth=e,this.lineColor=t,this.alpha=n}},{key:"moveTo",value:function(e,t){this.cursor.set(e,t)}},{key:"lineTo",value:function(e,t){var n=this.cursor.x,i=this.cursor.y,r=e===n?this.lineWidth:Math.abs(n-e),a=t===i?this.lineWidth:Math.abs(i-t);r>a?i-=this.lineWidth/2:n-=this.lineWidth/2,this.addRect(n,i,r,a,this.lineColor)}},{key:"endFill",value:function(){}},{key:"beginFill",value:function(e,t){this.fillColor=e,this.alpha=t}},{key:"clear",value:function(){this.geometry.reset()}},{key:"drawRect",value:function(e,t,n,i){this.addRect(e,t,n,i,this.fillColor)}},{key:"drawPolygon",value:function(e){}}]),n}(function(e){vg(n,e);var t=Eg(n);function n(){return mg(this,n),t.call(this,new Og,new _g)}return gg(n,[{key:"addRect",value:function(e,t,n,i,r){this.geometry.addRect(e,t,n,i,r)}},{key:"clear",value:function(){this.geometry.reset()}},{key:"_renderDefault",value:function(e){var t=this.geometry,i=!e.geometry.hasInstance;if(i&&t.initLegacy(),t.updateBuffer(),0!==t.instanceCount){var r=e.renderTexture.current;this.shader.uniforms.resolution=r?r.baseTexture.resolution:e.resolution;var a=r?r.framebuffer.multisample>1:e.options.antialias;if(this.shader.uniforms.threshold=a?2:1,i)return this.geometry=t.legacyGeom,pg(wg(n.prototype),"_renderDefault",this).call(this,e),void(this.geometry=t);pg(wg(n.prototype),"_renderDefault",this).call(this,e)}}},{key:"_renderCanvas",value:function(e){var t=this.geometry.points,n=e.context;e.setContextTransform(this.transform.worldTransform),n.beginPath();for(var i=-1,r=0;r<t.length;r+=5){if(i!==t[r+4]){i=t[r+4];var a=dg.C.hex2string(i);n.fillStyle=a}n.beginPath(),n.rect(t[r],t[r+1],t[r+2],t[r+3]),n.fill()}n.beginPath()}}]),n}(dg.l));function Cg(e){return(Cg="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Tg(e,t,n){return(Tg="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var i=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Mg(e)););return e}(e,t);if(i){var r=Object.getOwnPropertyDescriptor(i,t);return r.get?r.get.call(n):r.value}})(e,t,n||e)}function kg(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ig(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function Pg(e,t,n){return t&&Ig(e.prototype,t),n&&Ig(e,n),e}function Ng(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&xg(e,t)}function xg(e,t){return(xg=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Rg(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=Mg(e);if(t){var r=Mg(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return Dg(this,n)}}function Dg(e,t){return!t||"object"!==Cg(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Mg(e){return(Mg=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Bg=function(e){Ng(n,e);var t=Rg(n);function n(){return kg(this,n),t.call(this,dg.x.WHITE,{uniforms:{resolution:1,expand:1,styleLine:new Float32Array([1,.5]),miterLimit:5},program:n.getProgram()})}return Pg(n,null,[{key:"getProgram",value:function(){return n._prog||(n._prog=new dg.p("precision highp float;\nconst float FILL = 1.0;\nconst float BEVEL = 4.0;\nconst float MITER = 8.0;\nconst float ROUND = 12.0;\nconst float JOINT_CAP_BUTT = 16.0;\nconst float JOINT_CAP_SQUARE = 18.0;\nconst float JOINT_CAP_ROUND = 20.0;\nconst float FILL_EXPAND = 24.0;\nconst float CAP_BUTT = 1.0;\nconst float CAP_SQUARE = 2.0;\nconst float CAP_ROUND = 3.0;\nconst float CAP_BUTT2 = 4.0;\n// === geom ===\nattribute vec2 aPrev;\nattribute vec2 aPoint1;\nattribute vec2 aPoint2;\nattribute vec2 aNext;\nattribute float aVertexJoint;\nattribute float vertexNum;\nuniform mat3 projectionMatrix;\nuniform mat3 translationMatrix;\nvarying vec4 vDistance;\nvarying vec4 vArc;\nvarying float vType;\nuniform float resolution;\nuniform float expand;\nuniform float miterLimit;\nuniform vec2 styleLine;\nvec2 doBisect(vec2 norm, float len, vec2 norm2, float len2,\n    float dy, float inner) {\n    vec2 bisect = (norm + norm2) / 2.0;\n    bisect /= dot(norm, bisect);\n    vec2 shift = dy * bisect;\n    if (inner > 0.5) {\n        if (len < len2) {\n            if (abs(dy * (bisect.x * norm.y - bisect.y * norm.x)) > len) {\n                return dy * norm;\n            }\n        } else {\n            if (abs(dy * (bisect.x * norm2.y - bisect.y * norm2.x)) > len2) {\n                return dy * norm;\n            }\n        }\n    }\n    return dy * bisect;\n}\nvoid main(void){\n    vec2 pointA = (translationMatrix * vec3(aPoint1, 1.0)).xy;\n    vec2 pointB = (translationMatrix * vec3(aPoint2, 1.0)).xy;\n    vec2 xBasis = pointB - pointA;\n    float len = length(xBasis);\n    vec2 forward = xBasis / len;\n    vec2 norm = vec2(forward.y, -forward.x);\n    float type = aVertexJoint;\n    vec2 avgDiag = (translationMatrix * vec3(1.0, 1.0, 0.0)).xy;\n    float avgScale = sqrt(dot(avgDiag, avgDiag) * 0.5);\n    float capType = floor(type / 32.0);\n    type -= capType * 32.0;\n    vArc = vec4(0.0);\n    float lineWidth = styleLine.x;\n    if (lineWidth < 0.0) {\n        lineWidth = -lineWidth;\n    } else {\n        lineWidth = lineWidth * avgScale;\n    }\n    lineWidth *= 0.5;\n    float lineAlignment = 2.0 * styleLine.y - 1.0;\n    vec2 pos;\n    if (capType == CAP_ROUND) {\n        if (vertexNum < 3.5) {\n            gl_Position = vec4(0.0, 0.0, 0.0, 1.0);\n            return;\n        }\n        type = JOINT_CAP_ROUND;\n        capType = 0.0;\n    }\n    if (type >= BEVEL) {\n        float dy = lineWidth + expand;\n        float inner = 0.0;\n        if (vertexNum >= 1.5) {\n            dy = -dy;\n            inner = 1.0;\n        }\n        vec2 base, next, xBasis2, bisect;\n        float flag = 0.0;\n        float sign2 = 1.0;\n        if (vertexNum < 0.5 || vertexNum > 2.5 && vertexNum < 3.5) {\n            next = (translationMatrix * vec3(aPrev, 1.0)).xy;\n            base = pointA;\n            flag = type - floor(type / 2.0) * 2.0;\n            sign2 = -1.0;\n        } else {\n            next = (translationMatrix * vec3(aNext, 1.0)).xy;\n            base = pointB;\n            if (type >= MITER && type < MITER + 3.5) {\n                flag = step(MITER + 1.5, type);\n                // check miter limit here?\n            }\n        }\n        xBasis2 = next - base;\n        float len2 = length(xBasis2);\n        vec2 norm2 = vec2(xBasis2.y, -xBasis2.x) / len2;\n        float D = norm.x * norm2.y - norm.y * norm2.x;\n        if (D < 0.0) {\n            inner = 1.0 - inner;\n        }\n        norm2 *= sign2;\n        if (abs(lineAlignment) > 0.01) {\n            float shift = lineWidth * lineAlignment;\n            pointA += norm * shift;\n            pointB += norm * shift;\n            if (abs(D) < 0.01) {\n                base += norm * shift;\n            } else {\n                base += doBisect(norm, len, norm2, len2, shift, 0.0);\n            }\n        }\n        float collinear = step(0.0, dot(norm, norm2));\n        vType = 0.0;\n        float dy2 = -1000.0;\n        float dy3 = -1000.0;\n        if (abs(D) < 0.01 && collinear < 0.5) {\n            if (type >= ROUND && type < ROUND + 1.5) {\n                type = JOINT_CAP_ROUND;\n            }\n            //TODO: BUTT here too\n        }\n        if (vertexNum < 3.5) {\n            if (abs(D) < 0.01) {\n                pos = dy * norm;\n            } else {\n                if (flag < 0.5 && inner < 0.5) {\n                    pos = dy * norm;\n                } else {\n                    pos = doBisect(norm, len, norm2, len2, dy, inner);\n                }\n            }\n            if (capType >= CAP_BUTT && capType < CAP_ROUND) {\n                float extra = step(CAP_SQUARE, capType) * lineWidth;\n                vec2 back = -forward;\n                if (vertexNum < 0.5 || vertexNum > 2.5) {\n                    pos += back * (expand + extra);\n                    dy2 = expand;\n                } else {\n                    dy2 = dot(pos + base - pointA, back) - extra;\n                }\n            }\n            if (type >= JOINT_CAP_BUTT && type < JOINT_CAP_SQUARE + 0.5) {\n                float extra = step(JOINT_CAP_SQUARE, type) * lineWidth;\n                if (vertexNum < 0.5 || vertexNum > 2.5) {\n                    dy3 = dot(pos + base - pointB, forward) - extra;\n                } else {\n                    pos += forward * (expand + extra);\n                    dy3 = expand;\n                    if (capType >= CAP_BUTT) {\n                        dy2 -= expand + extra;\n                    }\n                }\n            }\n        } else if (type >= JOINT_CAP_ROUND && type < JOINT_CAP_ROUND + 1.5) {\n            if (inner > 0.5) {\n                dy = -dy;\n                inner = 0.0;\n            }\n            vec2 d2 = abs(dy) * forward;\n            if (vertexNum < 4.5) {\n                dy = -dy;\n                pos = dy * norm;\n            } else if (vertexNum < 5.5) {\n                pos = dy * norm;\n            } else if (vertexNum < 6.5) {\n                pos = dy * norm + d2;\n                vArc.x = abs(dy);\n            } else {\n                dy = -dy;\n                pos = dy * norm + d2;\n                vArc.x = abs(dy);\n            }\n            dy2 = 0.0;\n            vArc.y = dy;\n            vArc.z = 0.0;\n            vArc.w = lineWidth;\n            vType = 3.0;\n        } else if (abs(D) < 0.01) {\n            pos = dy * norm;\n        } else {\n            if (type >= ROUND && type < ROUND + 1.5) {\n                if (inner > 0.5) {\n                    dy = -dy;\n                    inner = 0.0;\n                }\n                if (vertexNum < 4.5) {\n                    pos = doBisect(norm, len, norm2, len2, -dy, 1.0);\n                } else if (vertexNum < 5.5) {\n                    pos = dy * norm;\n                } else if (vertexNum > 7.5) {\n                    pos = dy * norm2;\n                } else {\n                    pos = doBisect(norm, len, norm2, len2, dy, 0.0);\n                    float d2 = abs(dy);\n                    if (length(pos) > abs(dy) * 1.5) {\n                        if (vertexNum < 6.5) {\n                            pos.x = dy * norm.x - d2 * norm.y;\n                            pos.y = dy * norm.y + d2 * norm.x;\n                        } else {\n                            pos.x = dy * norm2.x + d2 * norm2.y;\n                            pos.y = dy * norm2.y - d2 * norm2.x;\n                        }\n                    }\n                }\n                vec2 norm3 = normalize(norm + norm2);\n                float sign = step(0.0, dy) * 2.0 - 1.0;\n                vArc.x = sign * dot(pos, norm3);\n                vArc.y = pos.x * norm3.y - pos.y * norm3.x;\n                vArc.z = dot(norm, norm3) * lineWidth;\n                vArc.w = lineWidth;\n                dy = -sign * dot(pos, norm);\n                dy2 = -sign * dot(pos, norm2);\n                dy3 = vArc.z - vArc.x;\n                vType = 3.0;\n            } else {\n                float hit = 0.0;\n                if (type >= BEVEL && type < BEVEL + 1.5) {\n                    if (dot(norm, norm2) > 0.0) {\n                        type = MITER;\n                    }\n                }\n                if (type >= MITER && type < MITER + 3.5) {\n                    if (inner > 0.5) {\n                        dy = -dy;\n                        inner = 0.0;\n                    }\n                    float sign = step(0.0, dy) * 2.0 - 1.0;\n                    pos = doBisect(norm, len, norm2, len2, dy, 0.0);\n                    if (length(pos) > abs(dy) * miterLimit) {\n                        type = BEVEL;\n                    } else {\n                        if (vertexNum < 4.5) {\n                            dy = -dy;\n                            pos = doBisect(norm, len, norm2, len2, dy, 1.0);\n                        } else if (vertexNum < 5.5) {\n                            pos = dy * norm;\n                        } else if (vertexNum > 6.5) {\n                            pos = dy * norm2;\n                        }\n                        vType = 1.0;\n                        dy = -sign * dot(pos, norm);\n                        dy2 = -sign * dot(pos, norm2);\n                        hit = 1.0;\n                    }\n                }\n                if (type >= BEVEL && type < BEVEL + 1.5) {\n                    if (inner > 0.5) {\n                        dy = -dy;\n                        inner = 0.0;\n                    }\n                    float d2 = abs(dy);\n                    vec2 pos3 = vec2(dy * norm.x - d2 * norm.y, dy * norm.y + d2 * norm.x);\n                    vec2 pos4 = vec2(dy * norm2.x + d2 * norm2.y, dy * norm2.y - d2 * norm2.x);\n                    if (vertexNum < 4.5) {\n                        pos = doBisect(norm, len, norm2, len2, -dy, 1.0);\n                    } else if (vertexNum < 5.5) {\n                        pos = dy * norm;\n                    } else if (vertexNum > 7.5) {\n                        pos = dy * norm2;\n                    } else {\n                        if (vertexNum < 6.5) {\n                            pos = pos3;\n                        } else {\n                            pos = pos4;\n                        }\n                    }\n                    vec2 norm3 = normalize(norm + norm2);\n                    float sign = step(0.0, dy) * 2.0 - 1.0;\n                    dy = -sign * dot(pos, norm);\n                    dy2 = -sign * dot(pos, norm2);\n                    dy3 = (-sign * dot(pos, norm3)) + lineWidth;\n                    vType = 4.0;\n                    hit = 1.0;\n                }\n                if (hit < 0.5) {\n                    gl_Position = vec4(0.0, 0.0, 0.0, 1.0);\n                    return;\n                }\n            }\n        }\n        pos += base;\n        vDistance = vec4(dy, dy2, dy3, lineWidth) * resolution;\n        vArc = vArc * resolution;\n    }\n    gl_Position = vec4((projectionMatrix * vec3(pos, 1.0)).xy, 0.0, 1.0);\n}","precision highp float;\nvarying vec4 vDistance;\nvarying vec4 vArc;\nvarying float vType;\nuniform vec4 uColor;\nvoid main(void){\n    float alpha = 1.0;\n    float lineWidth = vDistance.w;\n    if (vType < 0.5) {\n        float left = max(vDistance.x - 0.5, -vDistance.w);\n        float right = min(vDistance.x + 0.5, vDistance.w);\n        float near = vDistance.y - 0.5;\n        float far = min(vDistance.y + 0.5, 0.0);\n        float top = vDistance.z - 0.5;\n        float bottom = min(vDistance.z + 0.5, 0.0);\n        alpha = max(right - left, 0.0) * max(bottom - top, 0.0) * max(far - near, 0.0);\n    } else if (vType < 1.5) {\n        float a1 = clamp(vDistance.x + 0.5 - lineWidth, 0.0, 1.0);\n        float a2 = clamp(vDistance.x + 0.5 + lineWidth, 0.0, 1.0);\n        float b1 = clamp(vDistance.y + 0.5 - lineWidth, 0.0, 1.0);\n        float b2 = clamp(vDistance.y + 0.5 + lineWidth, 0.0, 1.0);\n        alpha = a2 * b2 - a1 * b1;\n    } else if (vType < 2.5) {\n        alpha *= max(min(vDistance.x + 0.5, 1.0), 0.0);\n        alpha *= max(min(vDistance.y + 0.5, 1.0), 0.0);\n        alpha *= max(min(vDistance.z + 0.5, 1.0), 0.0);\n    } else if (vType < 3.5) {\n        float a1 = clamp(vDistance.x + 0.5 - lineWidth, 0.0, 1.0);\n        float a2 = clamp(vDistance.x + 0.5 + lineWidth, 0.0, 1.0);\n        float b1 = clamp(vDistance.y + 0.5 - lineWidth, 0.0, 1.0);\n        float b2 = clamp(vDistance.y + 0.5 + lineWidth, 0.0, 1.0);\n        float alpha_miter = a2 * b2 - a1 * b1;\n        float alpha_plane = max(min(vDistance.z + 0.5, 1.0), 0.0);\n        float d = length(vArc.xy);\n        float circle_hor = max(min(vArc.w, d + 0.5) - max(-vArc.w, d - 0.5), 0.0);\n        float circle_vert = min(vArc.w * 2.0, 1.0);\n        float alpha_circle = circle_hor * circle_vert;\n        alpha = min(alpha_miter, max(alpha_circle, alpha_plane));\n    } else {\n        float a1 = clamp(vDistance.x + 0.5 - lineWidth, 0.0, 1.0);\n        float a2 = clamp(vDistance.x + 0.5 + lineWidth, 0.0, 1.0);\n        float b1 = clamp(vDistance.y + 0.5 - lineWidth, 0.0, 1.0);\n        float b2 = clamp(vDistance.y + 0.5 + lineWidth, 0.0, 1.0);\n        alpha = a2 * b2 - a1 * b1;\n        alpha *= max(min(vDistance.z + 0.5, 1.0), 0.0);\n    }\n    gl_FragColor = uColor * alpha;\n}\n")),n._prog}}]),n}(dg.m);Bg._prog=null;var Lg=4,jg=8,Fg=12,Gg=16,Vg=18,Hg=20,Ug=32,Wg=64,Yg=96,Qg=function(e){Ng(n,e);var t=Rg(n);function n(){var e,i=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return kg(this,n),(e=t.call(this)).joinStyle=dg.i.MITER,e.capStyle=dg.h.SQUARE,e.lastLen=0,e.lastPointNum=0,e.lastPointData=0,e.updateId=0,e.points=[],e._floatView=null,e._u32View=null,e._buffer=null,e._quad=null,e._indexBuffer=null,e._vertexNums=null,e.support32=!1,e.stridePoints=2,e.strideFloats=3,e.strideBytes=12,e.legacyGeom=null,e.legacyBuffer=null,e.initGeom(i),e.reset(),e}return Pg(n,[{key:"initGeom",value:function(e){this._buffer=new dg.b(new Float32Array(0),e,!1),this._vertexNums=new dg.b(new Float32Array([0,1,2,3,4,5,6,7,8]),!0,!1),this._indexBuffer=new dg.b(new Uint16Array([0,1,2,0,2,3,4,5,6,4,6,7,4,7,8]),!0,!0),this.addAttribute("aPrev",this._buffer,2,!1,dg.t.FLOAT,12,0,!0).addAttribute("aPoint1",this._buffer,2,!1,dg.t.FLOAT,12,12,!0).addAttribute("aPoint2",this._buffer,2,!1,dg.t.FLOAT,12,24,!0).addAttribute("aNext",this._buffer,2,!1,dg.t.FLOAT,12,36,!0).addAttribute("aVertexJoint",this._buffer,1,!1,dg.t.FLOAT,12,20,!0).addAttribute("vertexNum",this._vertexNums,1,!1,dg.t.FLOAT).addIndex(this._indexBuffer)}},{key:"moveTo",value:function(e,t){var n=this.points;n.push(e),n.push(t)}},{key:"lineTo",value:function(e,t){var n=this.points;n.push(e),n.push(t)}},{key:"lineBy",value:function(e,t){var n=this.points,i=this.stridePoints,r=n[n.length-i],a=n[n.length-i+1];n.push(r+e),n.push(a+t)}},{key:"invalidate",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;this.lastPointNum=Math.min(e,this.lastPointNum),this.updateId++}},{key:"reset",value:function(){this.lastLen>0&&this.clearBufferData(),this.updateId++,this.lastLen=0,this.lastPointData=0,this.points.length=0,this.instanceCount=0}},{key:"clearBufferData",value:function(){var e=this.points,t=this.strideBytes,n=this.stridePoints;this.lastPointNum=0,this.lastPointData=0;var i=Math.max(0,e.length/n+3),r=new ArrayBuffer(t*i);this.lastLen=e.length,this._floatView=new Float32Array(r),this._u32View=new Uint32Array(r),this._buffer.update(r)}},{key:"updateBuffer",value:function(){var e=this.points,t=this.stridePoints,n=this.strideFloats;if(this.lastLen>e.length&&(this.lastLen=-1),(this.lastLen<e.length||this.lastPointNum<this.lastLen)&&this.clearBufferData(),this.lastPointNum!=this.lastLen){var i=this.jointType(),r=this.capType(),a=r;r===Yg&&(a=Hg),r===Ug&&(a=Gg),r===Wg&&(a=Vg);var o=this._floatView;this._u32View;this.lastPointNum>0&&this.lastPointNum--,this.lastPointNum>0&&this.lastPointNum--,this.lastPointData=Math.min(this.lastPointData,this.lastPointNum);for(var s=(Math.round(this.lastPointNum/t)+2)*n,c=this.lastPointNum;c<e.length;c+=t)o[s++]=e[c],o[s++]=e[c+1],o[s]=i,0==c&&r!==Yg&&(o[s]+=r),c+2*t>=e.length?o[s]+=a-i:c+t>=e.length&&(o[s]=0),s++;o[s++]=e[e.length-4],o[s++]=e[e.length-3],o[s++]=0,o[0]=e[0],o[1]=e[1],o[2]=0,o[3]=e[2],o[4]=e[3],o[5]=r===Yg?r:0,this._buffer.update(),this.instanceCount=Math.round(e.length/t),this.lastPointNum=this.lastLen,this.lastPointData=this.lastLen,this.legacyGeom&&this.updateLegacy()}}},{key:"initLegacy",value:function(e){if(!this.legacyGeom){var t=[0,1,2,0,2,3];this.support32=e,this.legacyGeom=new dg.f,this.legacyBuffer=new dg.b(new Float32Array(0),!1,!1),this.legacyGeom.addAttribute("aPrev",this.legacyBuffer,2,!1,dg.t.FLOAT).addAttribute("aPoint1",this.legacyBuffer,2,!1,dg.t.FLOAT).addAttribute("aPoint2",this.legacyBuffer,2,!1,dg.t.FLOAT).addAttribute("aNext",this.legacyBuffer,2,!1,dg.t.FLOAT).addAttribute("aVertexJoint",this.legacyBuffer,1,!1,dg.t.FLOAT).addAttribute("vertexNum",this.legacyBuffer,1,!1,dg.t.FLOAT).addIndex(new dg.b(e?new Uint32Array(t):new Uint16Array(t),!1,!0))}}},{key:"updateLegacy",value:function(){var e=this.legacyBuffer,t=this._floatView,n=(this._u32View,this.strideFloats),i=this._floatView.length/n-3,r=10*i*9;e.data.length!==r&&(e.data=new Float32Array(r),this.legacyGeom.getIndex().update(function(e,t,n){for(var i=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],r=e.length,a=i?new Uint32Array(r*n):new Uint16Array(r*n),o=0;o<n;o++)for(var s=0;s<r;s++)a[o*r+s]=e[s]+t*o;return a}(this._indexBuffer.data,9,i,this.support32)));for(var a=e.data,o=0,s=0;s<r;o+=n)for(var c=0;c<9;c++)a[s++]=t[o],a[s++]=t[o+1],a[s++]=t[o+3],a[s++]=t[o+4],a[s++]=t[o+6],a[s++]=t[o+7],a[s++]=t[o+9],a[s++]=t[o+10],a[s++]=t[o+5],a[s++]=c}},{key:"capType",value:function(){var e;switch(this.capStyle){case dg.h.SQUARE:e=Wg;break;case dg.h.ROUND:e=Yg;break;default:e=Ug}return e}},{key:"goodJointType",value:function(){var e;switch(this.joinStyle){case dg.i.BEVEL:e=Lg;break;case dg.i.ROUND:e=Fg;break;default:e=jg+3}return e}},{key:"jointType",value:function(){var e;switch(this.joinStyle){case dg.i.BEVEL:e=Lg;break;case dg.i.ROUND:e=Fg;break;default:e=jg}return e}}]),n}(dg.f),Xg=function(e){Ng(n,e);var t=Rg(n);function n(e){kg(this,n);var i=new Qg,r=new Bg;return e&&(void 0!==e.lineWidth&&(r.uniforms.styleLine[0]=e.lineWidth),void 0!==e.nativeLineWidth&&(r.uniforms.styleLine[0]=e.nativeLineWidth),void 0!==e.joinStyle&&(i.joinStyle=e.joinStyle),void 0!==e.capStyle&&(i.capStyle=e.capStyle)),t.call(this,i,r)}return Pg(n,[{key:"moveTo",value:function(e,t){this.geometry.moveTo(e,t)}},{key:"lineTo",value:function(e,t){this.geometry.lineTo(e,t)}},{key:"lineBy",value:function(e,t){this.geometry.lineBy(e,t)}},{key:"lineStyle",value:function(e,t,n,i){var r=e;if(r instanceof Object)this.gLineStyle(r);else{var a=this.geometry;void 0!==e&&(this.shader.uniforms.styleLine[0]=e),void 0!==t&&(this.shader.uniforms.styleLine[0]=-t),void 0!==n&&(a.joinStyle=n),void 0!==i&&(a.capStyle=i),a.invalidate()}}},{key:"gLineStyle",value:function(e){var t=this.geometry;void 0!==e.width&&(this.shader.uniforms.styleLine[0]=e.width),void 0!==e.color&&(this.tint=e.color),void 0!==e.join&&(t.joinStyle=e.join),void 0!==e.cap&&(t.capStyle=e.cap)}},{key:"clear",value:function(){this.geometry.reset()}},{key:"_renderDefault",value:function(e){var t=this.geometry;if(!(t.points.length<4)){var i=!e.geometry.hasInstance;if(i&&t.initLegacy(e.context.supports.uint32Indices),t.updateBuffer(),0!==t.instanceCount){var r=e.renderTexture.current,a=r?r.framebuffer.multisample>1:e.options.antialias,o=this.shader.uniforms.resolution=r?r.baseTexture.resolution:e.resolution;if(this.shader.uniforms.expand=(a?2:1)/o,i)return this.geometry=t.legacyGeom,Tg(Mg(n.prototype),"_renderDefault",this).call(this,e),void(this.geometry=t);Tg(Mg(n.prototype),"_renderDefault",this).call(this,e)}}}},{key:"_renderCanvas",value:function(e){var t=this.geometry,n=t.points,i=t.stridePoints,r=t.capStyle,a=t.joinStyle,o=e.context;if(!(n.length<2)){var s=this.transform.worldTransform;e.setContextTransform(s);var c=Math.sqrt(s.a*s.a+s.b*s.b);o.lineWidth=this.shader.uniforms.styleLine[0]+this.shader.uniforms.styleLine[1]/c,o.strokeStyle=dg.C.hex2string(this.tint),o.globalAlpha=this.worldAlpha,o.lineCap=r,o.lineJoin=a,o.beginPath(),o.moveTo(n[0],n[1]);for(var l=2;l<n.length;l+=i)o.lineTo(n[l],n[l+1]);o.stroke(),o.beginPath(),o.globalAlpha=1}}}]),n}(dg.l);function zg(e){return(zg="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Kg(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Jg(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function qg(e,t,n){return t&&Jg(e.prototype,t),n&&Jg(e,n),e}function Zg(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&$g(e,t)}function $g(e,t){return($g=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ev(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=nv(e);if(t){var r=nv(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return tv(this,n)}}function tv(e,t){return!t||"object"!==zg(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function nv(e){return(nv=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var iv=function(e){Zg(n,e);var t=ev(n);function n(){Kg(this,n);var e=new Float32Array(2);return t.call(this,dg.x.WHITE,{uniforms:{resolution:1,colorTop:new Float32Array([1,1,1,1]),colorBottom:new Float32Array([1,1,1,1]),rangeY:e,rangeY2:e},program:n.getProgram()})}return qg(n,null,[{key:"getProgram",value:function(){return n._prog||(n._prog=new dg.p("\nattribute vec2 aVertexPosition;\nuniform mat3 projectionMatrix;\nuniform mat3 translationMatrix;\nuniform vec2 rangeY;\nvarying float vOrdinate;\nvoid main(void)\n{\nvec2 pos = (translationMatrix * vec3(aVertexPosition, 1.0)).xy;\nif (pos.y > rangeY.y) {\n    pos.y = rangeY.y;\n}\ngl_Position = vec4((projectionMatrix * vec3(pos, 1.0)).xy, 0.0, 1.0);\nvOrdinate = pos.y;\n}","\nvarying float vOrdinate;\nuniform vec4 colorTop;\nuniform vec4 colorBottom;\nuniform vec4 uColor;\nuniform vec2 rangeY2;\nvoid main(void)\n{\nvec4 color = colorTop;\nif (vOrdinate > rangeY2.x) {\n    if (vOrdinate >= rangeY2.y) {\n        color = colorBottom;\n    } else {\n        color = colorTop + (colorBottom - colorTop) * (vOrdinate - rangeY2.x) / (rangeY2.y - rangeY2.x);\n    }\n}\ncolor.rgb *= color.a;\ngl_FragColor = color * uColor;\n}\n")),n._prog}}]),n}(dg.m);iv._prog=null;var rv=function(e){Zg(n,e);var t=ev(n);function n(){var e,i=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return Kg(this,n),(e=t.call(this)).lastLen=0,e.lastPointNum=0,e.lastPointData=0,e.points=[],e._floatView=null,e._buffer=null,e.stridePoints=2,e.strideFloats=12,e.strideBytes=48,e.initGeom(i),e.reset(),e}return qg(n,[{key:"initGeom",value:function(e){this._buffer=new dg.b(new Float32Array(0),e,!1),this.addAttribute("aVertexPosition",this._buffer,2,!1,dg.t.FLOAT)}},{key:"moveTo",value:function(e,t){var n=this.points;n.push(e),n.push(t)}},{key:"lineTo",value:function(e,t){var n=this.points;n.push(e),n.push(t)}},{key:"invalidate",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;this.lastPointNum=Math.min(e,this.lastPointNum)}},{key:"reset",value:function(){this.lastLen>0&&this.clearBufferData(),this.lastLen=0,this.lastPointData=0,this.points.length=0}},{key:"clearBufferData",value:function(){var e=this.points,t=this.strideFloats,n=this.stridePoints;this.lastPointNum=0,this.lastPointData=0;var i=Math.max(0,e.length/n-1);this._floatView=new Float32Array(t*i),this._buffer.update(this._floatView),this.lastLen=e.length}},{key:"updateBuffer",value:function(){var e=this.points,t=this.stridePoints,n=this.strideFloats;if(this.lastLen>e.length&&(this.lastLen=-1),(this.lastLen<e.length||this.lastPointNum<this.lastLen)&&this.clearBufferData(),this.lastPointNum!=this.lastLen){var i=this._floatView;this.lastPointData=Math.min(this.lastPointData,this.lastPointNum);for(var r=Math.round(this.lastPointNum*n/t),a=this.lastPointNum;a<e.length-t;a+=t){var o=a+t,s=e[a],c=e[a+1],l=e[o],u=e[o+1];i[r++]=s,i[r++]=c,i[r++]=l,i[r++]=u,i[r++]=l,i[r++]=1e4,i[r++]=s,i[r++]=c,i[r++]=l,i[r++]=1e4,i[r++]=s,i[r++]=1e4}this._buffer.update(),this.lastPointNum=this.lastLen,this.lastPointData=this.lastLen}}}]),n}(dg.f),av=function(e){Zg(n,e);var t=ev(n);function n(){var e;return Kg(this,n),(e=t.call(this,new rv,new iv)).masterPlot=null,e.plotUpdateId=-1,e}return qg(n,[{key:"clear",value:function(){this.masterPlot||this.geometry.reset()}},{key:"moveTo",value:function(e,t){this.lineTo(e,t)}},{key:"lineTo",value:function(e,t){this.masterPlot||this.geometry.lineTo(e,t)}},{key:"_render",value:function(e){var t=this.geometry;if(this.masterPlot){var n=this.masterPlot.geometry;this.plotUpdateId!==n.updateId&&(this.plotUpdateId=n.updateId,t.points=n.points,t.invalidate())}t.updateBuffer(),this._renderDefault(e)}},{key:"_renderCanvas",value:function(e){this.geometry}},{key:"coordTop",get:function(){return this.shader.uniforms.rangeY[0]},set:function(e){this.shader.uniforms.rangeY[0]=e}},{key:"coordBottom",get:function(){return this.shader.uniforms.rangeY[1]},set:function(e){this.shader.uniforms.rangeY[1]=e}},{key:"alphaTop",get:function(){return this.shader.uniforms.colorTop[3]},set:function(e){this.shader.uniforms.colorTop[3]=e}},{key:"alphaBottom",get:function(){return this.shader.uniforms.colorBottom[3]},set:function(e){this.shader.uniforms.colorBottom[3]=e}},{key:"colorBottom",get:function(){return dg.C.rgb2hex(this.shader.uniforms.colorBottom)},set:function(e){dg.C.hex2rgb(e,this.shader.uniforms.colorBottom)}},{key:"colorTop",get:function(){return dg.C.rgb2hex(this.shader.uniforms.colorTop)},set:function(e){dg.C.hex2rgb(e,this.shader.uniforms.colorTop)}}]),n}(dg.l);function ov(e){return(ov="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function sv(e,t){return(sv=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function cv(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=uv(e);if(t){var r=uv(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return lv(this,n)}}function lv(e,t){return!t||"object"!==ov(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function uv(e){return(uv=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function hv(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function dv(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function fv(e,t,n){return t&&dv(e.prototype,t),n&&dv(e,n),e}var pv=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&sv(e,t)}(n,e);var t=cv(n);function n(){return hv(this,n),t.apply(this,arguments)}return fv(n,[{key:"initGraphics",value:function(){this.graphicsNew[Qt]=new dg.g,this.graphicsNew[Xt]=new dg.g,this.isUseFastLines()?(this.graphicsNew[zt]=new Xg,this.graphicsNew[bn]=new Xg,this.graphicsNew[Kt]=new Xg,this.graphicsNew[vn]=new Xg,this.graphicsNew[Jt]=new av,this.graphicsNew[En]=new av):(this.graphicsNew[zt]=new dg.g,this.graphicsNew[bn]=new dg.g,this.graphicsNew[Kt]=new dg.g,this.graphicsNew[vn]=new dg.g),this.isUseFastCandles()?(this.graphicsNew[Ht]=new Sg,this.graphicsNew[yn]=new Sg):(this.graphicsNew[Ht]=new dg.g,this.graphicsNew[yn]=new dg.g),this.graphicsNew[Ut]=new dg.g,this.graphicsNew[gn]=new dg.g,this.graphicsNew[hn]=new dg.g,this.graphicsNew[Wt]=new dg.g,this.graphicsNew[Yt]=new dg.g,this.graphicsNew[qt]=new dg.g,this.graphicsNew[Zt]=new dg.g,this.graphics[nn]=new dg.g,this.graphics[rn]=new dg.g,this.graphicsNew[an]=new dg.g,this.graphics[$t]=new dg.g,this.graphics[en]=new dg.g,this.graphics[tn]=new dg.g,this.graphicsNew[on]=new dg.g,this.graphicsNew[mn]=new dg.g,this.graphicsNew[sn]=new dg.g,this.graphicsNew[cn]=new dg.g,this.graphicsNew[dn]=new dg.g,this.graphics[ln]=new dg.g,this.graphics[un]=new dg.g,this.graphics[fn]=new dg.g,this.graphics[pn]=new dg.g,this.containers[Sn]=new dg.d,this.containers[An]=new dg.d,this.containers[wn]=new dg.d,this.containers[_n]=new dg.d,this.containers[On]=new dg.d,this.containers[Cn]=new dg.d,this.containers[In]=new dg.d,this.containers[Pn]=new dg.d,this.containers[Nn]=new dg.d,this.containers[xn]=new dg.d,this.containers[Rn]=new dg.d,this.containers[Dn]=new dg.d,this.containers[Mn]=new dg.d,this.containers[Bn]=new dg.d,this.containers[Ln]=new dg.d,this.containers[jn]=new dg.d,this.containers[Tn]=new dg.d,this.containers[kn]=new dg.d,this.containers[Fn]=new dg.d,this.containers[Gn]=new dg.d,this.containers[Vn]=new dg.d,this.containers[Hn]=new dg.d,this.containers[Yn]=new dg.d,this.containers[Un]=new dg.d,this.containers[Wn]=new dg.d,this.containers[Qn]=new dg.d,this.containers[Xn]=new dg.d,this.containers[zn]=new dg.d,this.containers[Kn]=new dg.d,this.containers[Jn]=new dg.d,this.containers[qn]=new dg.d,this.containers[_n].addChild(this.graphicsNew[bn]),this.containers[_n].addChild(this.graphicsNew[Kt]),this.containers[_n].addChild(this.graphicsNew[vn]),this.containers[_n].addChild(this.graphicsNew[Ht]),this.containers[_n].addChild(this.graphicsNew[yn]),this.containers[_n].addChild(this.graphicsNew[Ut]),this.containers[_n].addChild(this.graphicsNew[gn]),this.containers[An].addChild(this.graphicsNew[Qt]),this.containers[An].addChild(this.graphicsNew[Xt]),this.containers[wn].addChild(this.graphicsNew[Wt]),this.containers[wn].addChild(this.graphicsNew[Yt]),this.containers[_n].addChild(this.graphicsNew[zt]),this.graphicsNew[Jt]&&this.containers[_n].addChild(this.graphicsNew[Jt]),this.graphicsNew[En]&&this.containers[_n].addChild(this.graphicsNew[En]),this.containers[_n].addChild(this.graphicsNew[hn]),this.containers[Cn].addChild(this.graphicsNew[qt]),this.containers[Cn].addChild(this.graphicsNew[Zt]),this.containers[Cn].addChild(this.graphics[nn]),this.containers[Cn].addChild(this.graphics[rn]),this.containers[Cn].addChild(this.graphicsNew[an]),this.containers[Fn].addChild(this.graphics[$t]),this.containers[Fn].addChild(this.graphics[en]),this.containers[Fn].addChild(this.graphics[tn]),this.containers[Fn].addChild(this.graphicsNew[on]),this.containers[Vn].addChild(this.graphicsNew[sn]),this.containers[Hn].addChild(this.graphicsNew[cn]),this.containers[Yn].addChild(this.graphicsNew[dn]),this.containers[Un].addChild(this.graphics[ln]),this.containers[Wn].addChild(this.graphics[un]),this.containers[Qn].addChild(this.graphics[fn]),this.containers[Qn].addChild(this.graphics[pn]),this.containers[Xn].addChild(this.graphicsNew[mn])}}]),n}(function(){function e(t,n){var i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];hv(this,e),this.maxTexts=512,this.graphicsNew=[],this.graphics=[],this.containers=[],this.textIndex={},this.dynamicGraphicsIndex={},this.dynamicContainers={},this.spritesIndex={},this.forceClear=!1,this.textsCount=0,this.isIE=n;var r={view:t,transparent:!0,antialias:!0,autoResize:!0,forceCanvas:!this.isWebGL2Supported(),resolution:Hy()};this.renderer=dg.A(r),this.stage=new dg.d,this.stage.filterArea=this.renderer.screen,dg.y.shared.autoStart=!1,dg.y.shared.stop(),dg.B.MIPMAP_TEXTURES=dg.j.OFF,this.useFastCandles=!!i&&this.isWebGLRenderer(),this.useFastLines=!!i&&this.isWebGLRenderer(),this.initGraphics(),this.createGraphics()}return fv(e,[{key:"isUseFastCandles",value:function(){return this.useFastCandles}},{key:"isUseFastLines",value:function(){return this.useFastLines}},{key:"initGraphics",value:function(){this.isUseFastLines()?(this.graphicsNew[zt]=new Xg,this.graphicsNew[bn]=new Xg,this.graphicsNew[Kt]=new Xg,this.graphicsNew[vn]=new Xg,this.graphicsNew[Jt]=new av,this.graphicsNew[En]=new av):(this.graphicsNew[zt]=new dg.g,this.graphicsNew[bn]=new dg.g,this.graphicsNew[Kt]=new dg.g,this.graphicsNew[vn]=new dg.g),this.graphics[$t]=new dg.g,this.graphics[en]=new dg.g,this.graphics[tn]=new dg.g,this.containers[_n]=new dg.d,this.containers[_n].addChild(this.graphicsNew[Kt]),this.containers[_n].addChild(this.graphicsNew[vn]),this.containers[_n].addChild(this.graphicsNew[zt]),this.containers[_n].addChild(this.graphicsNew[bn]),this.graphicsNew[Jt]&&this.containers[_n].addChild(this.graphicsNew[Jt]),this.graphicsNew[En]&&this.containers[_n].addChild(this.graphicsNew[En]),this.containers[Fn]=new dg.d,this.containers[Fn].addChild(this.graphics[$t]),this.containers[Fn].addChild(this.graphics[en]),this.containers[Fn].addChild(this.graphics[tn])}},{key:"createGraphics",value:function(){var e=this;this.containers.forEach((function(t){return e.stage.addChild(t)}))}},{key:"isWebGL2Supported",value:function(){return!!document.createElement("canvas").getContext("webgl2")}},{key:"isWebGLRenderer",value:function(){return this.renderer&&this.renderer.type===dg.q.WEBGL}},{key:"clear",value:function(){this.clearGraphics()}},{key:"destroyForce",value:function(){var e=this;this.clearForce(),this.containers.forEach((function(t){e.stage.removeChild(t)})),this.renderer.destroy()}},{key:"clearForce",value:function(){this.clearGraphics(),this.clearGraphicsNew(),this.destroyDynamiContainers(),this.clearDynamicGraphics(),this.clearTexts(),this.clearSprites()}},{key:"render",value:function(){this.renderer.render(this.stage)}},{key:"getText",value:function(e,t,n,i,r,a){var o,s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;if(this.textIndex[t])o=this.textIndex[t],n&&(o.text=n),r&&(o.style.fill=r),a&&(o.style.align=a),this.textIndex[t].visible=!0;else{this.shouldClearTexts()&&this.clearTexts(),(o=new dg.u(n)).style=i,n&&(o.text=n),r&&(o.style.fill=r),a&&(o.style.align=a);var c=o.style.align;"right"===c?o.anchor.set(0,0):"center"===c?o.anchor.set(.5,.5):"left"===c&&o.anchor.set(0,0),null===s?this.containers[e].addChild(o):s.addChild(o),this.textIndex[t]=o,this.textsCount++}return o}},{key:"shouldClearTexts",value:function(){return this.textsCount>this.maxTexts}},{key:"clearTexts",value:function(){var e=this,t=Object.prototype.hasOwnProperty,n=0,i=function(i){return t.call(e.textIndex,i)?e.textIndex[i].visible?(n++,"continue"):void(e.textIndex[i]&&(e.textIndex[i].destroy(),e.containers.forEach((function(t){return t.removeChild(e.textIndex[i])})),e.textIndex[i]=null,delete e.textIndex[i])):"continue"};for(var r in this.textIndex)i(r);this.textsCount=n}},{key:"clearText",value:function(e,t){this.textIndex[t]&&(this.textIndex[t].visible=!1)}},{key:"destroyText",value:function(e){var t=this;this.textIndex[e]&&(this.textIndex[e].destroy(),this.containers.forEach((function(n){return n.removeChild(t.textIndex[e])})),this.textIndex[e]=null,delete this.textIndex[e])}},{key:"getDynamicContainer",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(this.dynamicContainers[t])return this.dynamicContainers[t].container;var i=new dg.d;return Object.keys(n).forEach((function(e){i[e]=n[e]})),this.containers[e].addChild(i),this.dynamicContainers[t]={index:e,container:i},i}},{key:"getDynamicGraphics",value:function(e,t,n){var i=arguments.length>3&&void 0!==arguments[3]&&arguments[3],r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,a={graphics:null,isNew:!1,clearAfterDraw:n,cleared:!1};return this.dynamicGraphicsIndex[t]?(a.graphics=this.dynamicGraphicsIndex[t].graphics,a.graphics.visible=!0,this.dynamicGraphicsIndex[t].cleared&&(a.isNew=!0,this.dynamicGraphicsIndex[t].cleared=!1)):(a.graphics=new dg.g,i&&(a.graphics.buttonMode=!0,a.graphics.interactive=!0),a.isNew=!0,null===r?this.containers[e].addChild(a.graphics):r.addChild(a.graphics),this.dynamicGraphicsIndex[t]=a),a}},{key:"reorderDynamicGraphics",value:function(e,t){}},{key:"reorderTextGraphics",value:function(e,t){}},{key:"getBarsDynamicGraphics",value:function(e,t,n){var i=arguments.length>3&&void 0!==arguments[3]&&arguments[3],r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,a={graphics:null,isNew:!1,clearAfterDraw:n,cleared:!1};return this.dynamicGraphicsIndex[t]?(a.graphics=this.dynamicGraphicsIndex[t].graphics,a.graphics.visible=!0,this.dynamicGraphicsIndex[t].cleared&&(a.isNew=!0,this.dynamicGraphicsIndex[t].cleared=!1)):(a.graphics=new Sg,i&&(a.graphics.buttonMode=!0,a.graphics.interactive=!0),a.isNew=!0,null===r?this.containers[e].addChild(a.graphics):r.addChild(a.graphics),this.dynamicGraphicsIndex[t]=a),a}},{key:"hideSprite",value:function(e,t){this.spritesIndex[t]&&(this.spritesIndex[t].sprite.visible=!1)}},{key:"getSprite",value:function(e,t,n){var i,r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};if(this.spritesIndex[t])(i=this.spritesIndex[t]).sprite.visible=!0;else{var s=dg.s.from(n,o);r&&(s.visible=!0,s.buttonMode=!0,s.interactive=!0),i={sprite:s,src:n},this.spritesIndex[t]=i,null===a?this.containers[e].addChild(s):a.addChild(s)}return i}},{key:"getTilingSprite",value:function(e,t,n,i,r){var a;this.spritesIndex[t]?(a=this.spritesIndex[t]).sprite.visible=!0:(a={sprite:new dg.z(n,i,r),src:n},this.spritesIndex[t]=a,this.containers[e].addChild(a.sprite));return a}},{key:"getGraphics",value:function(e){return this.graphics[e]}},{key:"getGraphicsNew",value:function(e){return this.graphicsNew[e]}},{key:"clearGraphicsNew",value:function(e){e>=0?this.graphicsNew[e].clear():this.graphicsNew.forEach((function(e){e.clear()}))}},{key:"clearGraphics",value:function(e){e>=0?this.graphics[e].clear():this.graphics.forEach((function(e){e.clear()}))}},{key:"clearDynamicGraphicsNew",value:function(e){this.dynamicGraphicsIndex[e]&&(this.dynamicGraphicsIndex[e].cleared=!0,this.dynamicGraphicsIndex[e].graphics.clear())}},{key:"destroyDynamiContainers",value:function(){var e=this;Object.keys(this.dynamicContainers).forEach((function(t){var n=e.dynamicContainers[t],i=n.index,r=n.container;e.containers[i].removeChild(r),e.dynamicContainers[t].container.destroy()})),this.dynamicContainers={}}},{key:"destroyDynamiContainer",value:function(e,t){this.dynamicContainers[t]&&(this.containers[e].removeChild(this.dynamicContainers[t]),this.dynamicContainers[t].container.destroy(),this.dynamicContainers[t]=null,delete this.dynamicContainers[t])}},{key:"destroyDynamicGraphicsNew",value:function(e,t){this.dynamicGraphicsIndex[t]&&(this.dynamicGraphicsIndex[t].graphics.clear(),this.containers[e].removeChild(this.dynamicGraphicsIndex[t]),this.dynamicGraphicsIndex[t].graphics.destroy(),this.dynamicGraphicsIndex[t]=null,delete this.dynamicGraphicsIndex[t])}},{key:"clearDynamicGraphics",value:function(){var e=this;Object.keys(this.dynamicGraphicsIndex).forEach((function(t){e.containers.forEach((function(n){n.removeChild(e.dynamicGraphicsIndex[t])})),e.dynamicGraphicsIndex[t]&&(e.dynamicGraphicsIndex[t].graphics.clear(),e.dynamicGraphicsIndex[t].graphics.destroy(),e.dynamicGraphicsIndex[t]=null)})),this.dynamicGraphicsIndex=null,this.dynamicGraphicsIndex={}}},{key:"clearSprites",value:function(){var e=this;Object.keys(this.spritesIndex).forEach((function(t){e.containers.forEach((function(n){n.removeChild(e.spritesIndex[t].sprite)})),e.spritesIndex[t]&&(e.spritesIndex[t].sprite.destroy(),e.spritesIndex[t].sprite=null)})),this.spritesIndex=null,this.spritesIndex={}}},{key:"clearSprite",value:function(e,t){this.spritesIndex[t]&&(this.containers[e].removeChild(this.spritesIndex[t].sprite),this.spritesIndex[t].sprite.destroy(),this.spritesIndex[t].sprite=null,delete this.spritesIndex[t])}},{key:"resize",value:function(e,t){this.renderer.resize(e,t)}}]),e}());function mv(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function yv(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var gv=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Et;mv(this,e),this.curveType=n,this.time=0,this.startTime=0,this.fromValue=0,this.toValue=0,this.currentValue=0,this.duration=t,this.timeout=0,this.enabled=!0,this.circular=!1,this.circularTo=!1,this.calculated=!1,this.calculateToOne=!1}var t,i,r;return t=e,(i=[{key:"setTime",value:function(e){0===this.startTime&&(this.startTime=e,this.calculated=!1),this.time!==e&&(this.calculated=!1),this.time=e}},{key:"setEnabled",value:function(e){this.enabled!==e&&(this.enabled=e,this.calculated=!1)}},{key:"setToValue",value:function(e){this.toValue!==e&&(this.toValue=e,this.startTime=this.time,this.calculated=!1)}},{key:"getValue",value:function(){return this.calculateValue()}},{key:"calculateValue",value:function(){if(0===this.fromValue&&0===this.toValue)return!!this.calculateToOne;if(this.fromValue===this.toValue||!this.enabled)return this.toValue;var e=0,t=0,n=0;if(this.circular){var i=Math.floor(this.time/this.duration)*this.duration,r=i%2==0;e=this.time-i,n=r?this.toValue-this.fromValue:this.fromValue-this.toValue,t=r?this.fromValue:this.toValue}else e=this.time-(this.startTime+this.timeout),n=this.toValue-this.fromValue,t=this.fromValue;if(e>this.duration&&(e=this.duration),e<=0)return t;if(this.calculated)return this.currentValue;switch(this.curveType){case Et:this.currentValue=this.linear(e,t,n,this.duration);break;case At:this.currentValue=this.easeInQuad(e,t,n,this.duration);break;case wt:this.currentValue=this.easeOutQuad(e,t,n,this.duration);break;case _t:this.currentValue=this.easeInOutQuad(e,t,n,this.duration);break;case Ot:this.currentValue=this.easeInCubic(e,t,n,this.duration);break;case St:this.currentValue=this.easeOutCubic(e,t,n,this.duration);break;case Ct:this.currentValue=this.easeInOutCubic(e,t,n,this.duration);break;case Tt:this.currentValue=this.easeInQuart(e,t,n,this.duration);break;case kt:this.currentValue=this.easeOutQuart(e,t,n,this.duration);break;case It:this.currentValue=this.easeInOutQuart(e,t,n,this.duration);break;case Pt:this.currentValue=this.easeInQuint(e,t,n,this.duration);break;case Nt:this.currentValue=this.easeOutQuint(e,t,n,this.duration);break;case xt:this.currentValue=this.easeInOutQuint(e,t,n,this.duration);break;case Rt:this.currentValue=this.easeInSine(e,t,n,this.duration);break;case Dt:this.currentValue=this.easeOutSine(e,t,n,this.duration);break;case Mt:this.currentValue=this.easeInOutSine(e,t,n,this.duration);break;case Bt:this.currentValue=this.easeInExpo(e,t,n,this.duration);break;case Lt:this.currentValue=this.easeOutExpo(e,t,n,this.duration);break;case jt:this.currentValue=this.easeInOutExpo(e,t,n,this.duration);break;case Ft:this.currentValue=this.easeInCirc(e,t,n,this.duration);break;case Gt:this.currentValue=this.easeOutCirc(e,t,n,this.duration);break;case Vt:this.currentValue=this.easeInOutCirc(e,t,n,this.duration)}return this.currentValue===this.toValue&&(this.circular||this.circularTo?this.circularTo&&this.resetStartTime():this.fromValue=this.toValue),this.calculated=!0,this.currentValue}},{key:"resetStartTime",value:function(){this.startTime=0}},{key:"reset",value:function(){this.fromValue=0,this.startTime=0,this.calculated=!1,this.toValue=0}},{key:"linear",value:function(e,t,n,i){return n*e/i+t}},{key:"easeInQuad",value:function(e,t,n,i){return n*(e/=i)*e+t}},{key:"easeOutQuad",value:function(e,t,n,i){return-n*(e/=i)*(e-2)+t}},{key:"easeInOutQuad",value:function(e,t,n,i){return(e/=i/2)<1?n/2*e*e+t:-n/2*(--e*(e-2)-1)+t}},{key:"easeInCubic",value:function(e,t,n,i){return n*(e/=i)*e*e+t}},{key:"easeOutCubic",value:function(e,t,n,i){return e/=i,n*(--e*e*e+1)+t}},{key:"easeInOutCubic",value:function(e,t,n,i){return(e/=i/2)<1?n/2*e*e*e+t:n/2*((e-=2)*e*e+2)+t}},{key:"easeInQuart",value:function(e,t,n,i){return n*(e/=i)*e*e*e+t}},{key:"easeOutQuart",value:function(e,t,n,i){return e/=i,-n*(--e*e*e*e-1)+t}},{key:"easeInOutQuart",value:function(e,t,n,i){return(e/=i/2)<1?n/2*e*e*e*e+t:-n/2*((e-=2)*e*e*e-2)+t}},{key:"easeInQuint",value:function(e,t,n,i){return n*(e/=i)*e*e*e*e+t}},{key:"easeOutQuint",value:function(e,t,n,i){return e/=i,n*(--e*e*e*e*e+1)+t}},{key:"easeInOutQuint",value:function(e,t,n,i){return(e/=i/2)<1?n/2*e*e*e*e*e+t:n/2*((e-=2)*e*e*e*e+2)+t}},{key:"easeInSine",value:function(e,t,i,r){return-i*Math.cos(e/r*(n/2))+i+t}},{key:"easeOutSine",value:function(e,t,i,r){return i*Math.sin(e/r*(n/2))+t}},{key:"easeInOutSine",value:function(e,t,i,r){return-i/2*(Math.cos(n*e/r)-1)+t}},{key:"easeInExpo",value:function(e,t,n,i){return n*Math.pow(2,10*(e/i-1))+t}},{key:"easeOutExpo",value:function(e,t,n,i){return n*(1-Math.pow(2,-10*e/i))+t}},{key:"easeInOutExpo",value:function(e,t,n,i){return(e/=i/2)<1?n/2*Math.pow(2,10*(e-1))+t:(e--,n/2*(2-Math.pow(2,-10*e))+t)}},{key:"easeInCirc",value:function(e,t,n,i){return e/=i,-n*(Math.sqrt(1-e*e)-1)+t}},{key:"easeOutCirc",value:function(e,t,n,i){return e/=i,e--,n*Math.sqrt(1-e*e)+t}},{key:"easeInOutCirc",value:function(e,t,n,i){return(e/=i/2)<1?-n/2*(Math.sqrt(1-e*e)-1)+t:(e-=2,n/2*(Math.sqrt(1-e*e)+1)+t)}}])&&yv(t.prototype,i),r&&yv(t,r),e}();function vv(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var bv=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.alpha=n,this.color=e.convertHEXA2RGBA(t.replace("#",""),n),this.hex=parseInt(t.replace(/^#/,"").substr(0,6),16)}var t,n,i;return t=e,i=[{key:"convertHEXA2RGBA",value:function(e,t){return"rgba("+parseInt(e.substr(0,2),16)+","+parseInt(e.substr(2,2),16)+","+parseInt(e.substr(4,2),16)+","+t+")"}},{key:"fromRGBA",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=new this("FFFFFFFF");return n.setRGBA(e),null!==t&&t>=0&&t<=1&&n.setAlpha(t),n}}],(n=[{key:"convertRGBA2HEXNUM",value:function(e){var t=e.match(/^(.*?)(rgb|rgba)\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d+(?:\.\d+)?))?\)/i),n=("0"+parseInt(t[3],10).toString(16)).slice(-2)+("0"+parseInt(t[4],10).toString(16)).slice(-2)+("0"+parseInt(t[5],10).toString(16)).slice(-2),i=parseFloat(t[6]);return[parseInt(n,16),i]}},{key:"getHEXNUM",value:function(){return this.hex}},{key:"getOpaqueHexNum",value:function(e){if(1==(e*=this.alpha))return this.hex;var t=255*(1-e),n=function(n){return 255&Math.round((255&n)*e+t)};return(n(this.hex>>16)<<16)+(n(this.hex>>8)<<8)+n(this.hex)}},{key:"getVec4Array",value:function(){var e=this.getRGBAComponents();return[e[0]/255,e[1]/255,e[2]/255,e[3]]}},{key:"getAlpha",value:function(){return this.alpha}},{key:"setAlpha",value:function(e){this.alpha=e}},{key:"setRGBA",value:function(e){var t=this.convertRGBA2HEXNUM(e);this.hex=t[0],this.alpha=t[1],this.color=e}},{key:"parseRGBComponent",value:function(e){var t=parseInt(e);return 0<=t&&t<=255?t:255}},{key:"getRGBAComponents",value:function(){var e=this.color.substring(this.color.indexOf("(")+1,this.color.lastIndexOf(")")).split(/,\s*/);return e.length<3?[255,255,255,this.alpha]:[this.parseRGBComponent(e[0]),this.parseRGBComponent(e[1]),this.parseRGBComponent(e[2]),this.alpha]}},{key:"lerp",value:function(e,t,n){return e*(1-n)+t*n}}])&&vv(t.prototype,n),i&&vv(t,i),e}();function Ev(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var Av={DARK:"dark",LIGHT:"light",BLACK:"black",GREEN:"dark-green"},wv=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.initTheme(),this.initColors(),this.events()}var t,n,i;return t=e,(n=[{key:"initTheme",value:function(){this.theme=this.guessThemeName()}},{key:"initColors",value:function(){var e=this.theme===Av.DARK,t=this.theme===Av.BLACK;this.black=new bv("000000",1),this.white=new bv("FFFFFF",1),this.candleValues=new bv(e||t?"FFFFFF":"7e91a7",1),this.timerTimeColor=new bv("494F65",1),this.timeToEndElementColor=new bv(e||t?"FFFFFF":"494F65",1),this.drawingLabelColor=new bv(e||t?"FFFFFF":"738299",1),this.gridLineColor=new bv("738299",.2),this.gridTextColor=new bv(e||t?"ffffff":"C2C4CA",1),this.deadLineColor=e||t?new bv("757576",1):new bv("C2C4CA",.5),this.deadLineTextColor=new bv(e||t?"8FA5BF":"C2C4CA",1),this.expirationLineColor=new bv("C2C4CA",1),this.expirationLineTextColor=new bv("C2C4CA",1),e?(this.expirationLineColor=new bv("FFFFFF",1),this.expirationLineTextColor=new bv("FFFFFF",1)):t&&(this.expirationLineColor=new bv("FFFFFF",.3),this.expirationLineTextColor=new bv("FFFFFF",.3)),this.betElementTextColor=new bv("FFFFFF",1),this.betElementTextColorTooltipOff=new bv("FFFFFF",1),this.baseElementTextColor=new bv(e||t?"FFFFFF":"494F65",.3),this.baseCandleValuesColor=new bv(e||t?"FFFFFF":"494F65",1),this.socialDealBgColor=new bv("232227",1),this.socialBetLabel=new bv("8FA5BF",1),this.loaderBg=new bv("767575",1),this.drawingValueBadgeColor=new bv(e||t?"61677E":"EBEBED",1),this.drawingValueAreaColor=new bv(e||t?"FFFFFF":"808080",.15),this.drawingValueTextColor=new bv(e||t?"FFFFFF":"020202",1),this.valueLineColor=new bv(e||t?"FFFFFF":"C2C4CA",1),this.valueBadgeLineColor=new bv(e||t?"2B99FF":"036FD3",1),this.valuePointCenterColor=new bv(e||t?"FFFFFF":"000000",1),this.callLineColor=new bv("0FAF59",1),this.putLineColor=new bv(e||t?"FF6251":"DB4635",1),this.expressColor=new bv("4a76a8",1),this.yellowLineColor=new bv("ffcc00",1),this.candleUpColor=new bv("0FAF59",1),this.candleDownColor=new bv(e||t?"FF6251":"DB4635",1),this.crosshairBadgeColor=new bv(e||t?"F4F4F4":"E5E5E5",1),this.timeToEndElementBg=new bv(e||t?"353A4D":"E5E5E5",1),this.crosshairLineColor=new bv(e||t?"777b86":"C2C4CA",1),this.expirationBgFrom=new bv(e||t?"A7A64B":"4a76a8",1),this.expirationBgTo=new bv(e||t?"1b222f":"4a76a8",1),this.pastShadeColor=new bv("07070a",.53),this.upBgFrom=e||t?new bv("FF6251",.05):new bv("1b222f",.1),this.upBgTo=new bv("0FAF59",e||t?.05:.1),this.downBgFrom=new bv("f2372e",.1),this.downBgTo=new bv("DB4635",.1),this.dragPointCenterColor=new bv(e||t?"FFFFFF":"353A4D",1),this.plotLineColor=new bv("026FD3",1),this.plotLineGradientTopColor=e||t?new bv("026FD3",.2):new bv("036FD3",.8),this.plotLineGradientBottomColor=e||t?new bv("000000",.2):new bv("F8FAFD",1),this.plotFastLineGradientTopColor=new bv(e||t?"408FDB":"036FD3",.4),this.plotFastLineGradientBottomColor=e||t?new bv("000000",.1):new bv("F8FAFD",.2),this.indicatorBottomBgColor=new bv("FFFFFF",e||t?.05:1),this.indicatorBottomBorderColor=new bv("353a4d",.15),this.indicatorBottomNullLineColor=new bv("738299",.2),this.indicatorBottomMACDNullLineColor=new bv("353A4D",1),this.ratesBorderColorSelected=new bv(e||t?"3099f5":"5376a8",1),this.ratesBorderColor=new bv(e||t?"3099f5":"5376a8",1),this.ratesBgColorSelected=new bv(e||t?"3099f5":"5376a8",.35),this.ratesBgColor=new bv(e||t?"738299":"5376a8",.1),this.indicatorLevelTextColor=e||t?new bv("FFFFFF",1):new bv("353A4D",.5),this.betElementPopupRectangleColor=new bv("353A4D",1),this.betElementPopupButtonRectangleColor=new bv("FFFFFF",.2),this.minMaxValueElementTextColor=new bv("353A4D",.3),this.minMaxValueElementOverTextColor=new bv("353A4D",1),this.minMaxValueElementRectangleColor=new bv("FFFFFF",.3),this.minMaxValueElementOverRectangleColor=new bv("FFFFFF",1),e?(this.minMaxValueElementTextColor=new bv("FFFFFF",.3),this.minMaxValueElementOverTextColor=new bv("FFFFFF",1),this.minMaxValueElementRectangleColor=new bv("353A4D",.3),this.minMaxValueElementOverRectangleColor=new bv("353A4D",1)):t&&(this.minMaxValueElementTextColor=new bv("FFFFFF",.3),this.minMaxValueElementOverTextColor=new bv("FFFFFF",1),this.minMaxValueElementRectangleColor=new bv("494F65",.3),this.minMaxValueElementOverRectangleColor=new bv("494F65",1)),this.crosshairBadgeColor=new bv("474C5D",1),this.crosshairBadgeTextColor=new bv("FFFFFF",1),this.ringElementActiveColor=new bv("EBEBED",1),this.ringElementActiveTextColor=new bv("474C5D",1),e?(this.crosshairBadgeColor=new bv("F4F4F4",1),this.crosshairBadgeTextColor=new bv("474C5D",1),this.ringElementActiveColor=new bv("353A4D",1),this.ringElementActiveTextColor=new bv("FFFFFF",1)):t&&(this.crosshairBadgeColor=new bv("F4F4F4",1),this.crosshairBadgeTextColor=new bv("474C5D",1),this.ringElementActiveColor=new bv("494F65",1),this.ringElementActiveTextColor=new bv("FFFFFF",1))}},{key:"guessThemeName",value:function(){var e=document.querySelector("html").className,t=Av.DARK;return Object.keys(Av).forEach((function(n){e.includes(Av[n])&&(t=Av[n])})),t}},{key:"events",value:function(){}}])&&Ev(t.prototype,n),i&&Ev(t,i),e}();function _v(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2,n=Math.pow(10,t);return Math.round(e*n)/n}function Ov(e,t){return parseFloat(e).toFixed(t)}function Sv(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var Cv=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.pointsManager=n,this.averageShift=0,this.elementType=vt,this.maxVal=w.CHART.DBL_MIN,this.minVal=w.CHART.DBL_MAX,this.lastMaxVal=w.CHART.DBL_MIN,this.lastMinVal=w.CHART.DBL_MAX,this.optionType=null,this.lastOptionType=null,this.endCandle=null,this.lastEndCandle=null,this.lastFromTime=0,this.lastToTime=0,this.fromTime=0,this.toTime=0,this.yShift=0,this.position=dt,this.lastExpirationTime=0,this.lastDeadlineTime=0,this.expirationTime=0,this.deadlineTime=0,this.lastToExpTime=0,this.toEndExpTime=0,this.pointerX=0,this.pointerY=0,this.lastPointerX=0,this.lastPointerY=0,this.endTime=0,this.lastEndTime=0,this.width=0,this.worldHeight=0,this.widthLast=0,this.worldHeightLast=0,this.currentTime=0,this.lastCurrentTime=0,this.height=0,this.heightLast=0,this.topMarginPixels=0,this.bottomMarginPixels=0,this.lastBottomMarginPixels=0,this.startTime=0,this.lastStartTime=0,this.secondWidth=0,this.shift=0,this.pointsInElement=1,this.optionsLength=0,this.optionsLengthLast=0,this.showCursorPointer=!1,this.pointerInElement=!1,this.pointerInElementValueY=0,this.pointerInElementValueSymbol="",this.period=1,this.points=[],this.hoverCallBtn=!1,this.hoverPutBtn=!1,this.hoverDoubleBtn=!1,this.hoverRolloverBtn=!1,this.lastHoverDoubleBtn=!1,this.lastHoverRolloverBtn=!1,this.core=t,this.colors=new wv,this.options=[],this.socket=Li.instance,this.selectedPlotType=null,this.chartId="graph",this.currentDigit=5,this.forceCleared=!1,this.assetId=0,this.currency="",this.theme="",this.lastTheme="",this.isMinMaxCalculated=!1,this.isMobile=!1,this.interactiveGraphics=null,this.gridOpacity=null,this.pointsCount=0,this.lastPointsCount=0,this.timeZone=0,this.lastTimeZone=0,this.isIndicatorsShowing=!0,this.lastIsIndicatorsShowing=!0,this.candleUpHex=w.CHART.CANDLE_COLOR.up,this.candleDownHex=w.CHART.CANDLE_COLOR.down,this.prevCandleUpHex=null,this.prevCandleDownHex=null}var t,n,i;return t=e,(n=[{key:"needToDraw",value:function(){return!0}},{key:"draw",value:function(){}},{key:"onTick",value:function(){}},{key:"onAfterDraw",value:function(){}},{key:"formatStringPrice",value:function(e){return Ov(e,this.currentDigit)}},{key:"getXFromTime",value:function(e){return(e-this.startTime)*this.secondWidth-this.shift}},{key:"getYFromValue",value:function(e){var t=(e-this.minVal)/(this.maxVal-this.minVal);return this.yShift+this.height-this.bottomMarginPixels-(this.height-(this.topMarginPixels+this.bottomMarginPixels))*t}},{key:"getValueFrom",value:function(){return this.getValueFromY(this.yShift+this.height)}},{key:"getValueTo",value:function(){return this.getValueFromY(this.yShift)}},{key:"getValueFromY",value:function(e){var t=this.height-(this.topMarginPixels+this.bottomMarginPixels),n=(this.yShift+this.height-this.bottomMarginPixels-e)/t;return this.minVal+(this.maxVal-this.minVal)*n}},{key:"getTimeFromX",value:function(e){return this.startTime+e/this.secondWidth}},{key:"filterPoints",value:function(e){if(e&&e.length>0){var t=this.isLineChart()?5:this.pointsManager.candleWidth/this.secondWidth,n=this.getTimeFrom()-t,i=this.getTimeTo()+t;return e.filter((function(e){return n<=e.time&&e.time<=i}))}return e}},{key:"getTimeFrom",value:function(){var e=this.averageShift*this.pointsInElement;return isNaN(e)&&(e=0),this.getTimeFromX(this.shift)-e}},{key:"getTimeTo",value:function(){var e=this.averageShift*this.pointsInElement;return isNaN(e)&&(e=0),this.getTimeFromX(this.shift+this.width)-e}},{key:"isDarkTheme",value:function(){return this.theme===Av.DARK||this.theme===Av.BLUE}},{key:"isFastOption",value:function(){return!0}},{key:"isEndCandleChanged",value:function(){return null===this.endCandle||null===this.lastEndCandle||!this.lastEndCandle.isEqual(this.endCandle)}},{key:"isCurrentTimeChanged",value:function(){return this.currentTime!==this.lastCurrentTime}},{key:"isStartTimeChanged",value:function(){return this.startTime!==this.lastStartTime}},{key:"isOptionTypeChanged",value:function(){return this.optionType!==this.lastOptionType}},{key:"isChangedMinMax",value:function(){return this.lastMinVal!==this.minVal||this.lastMaxVal!==this.maxVal}},{key:"isChangedFromTo",value:function(){return this.lastFromTime!==this.fromTime||this.lastToTime!==this.toTime}},{key:"isChangedDeadlineTime",value:function(){return this.deadlineTime!==this.lastDeadlineTime}},{key:"isChangedExpirationTime",value:function(){return this.expirationTime!==this.lastExpirationTime}},{key:"isChangedToExpTime",value:function(){return this.lastToExpTime!==this.toEndExpTime}},{key:"isPointerChanged",value:function(){return this.lastPointerX!==this.pointerX||this.lastPointerY!==this.pointerY}},{key:"isSizeChanged",value:function(){return this.width!==this.widthLast||this.worldHeight!==this.worldHeightLast}},{key:"isElementHeightChanged",value:function(){return this.height!==this.heightLast}},{key:"isEndTimeChanged",value:function(){return this.endTime!==this.lastEndTime}},{key:"isThemeChanged",value:function(){return this.theme!==this.lastTheme}},{key:"isBottomMarginChanged",value:function(){return this.bottomMarginPixels!==this.lastBottomMarginPixels}},{key:"isLineChart",value:function(){return ur(this.selectedPlotType)}},{key:"isPointsCountChanged",value:function(){return this.lastPointsCount!==this.pointsManager.points.length}},{key:"isOptionsChanged",value:function(){return this.optionsLength!==this.optionsLengthLast}},{key:"isTimezoneChanged",value:function(){return this.timeZone!==this.lastTimeZone}},{key:"isShowing",value:function(){return this.isIndicatorsShowing}},{key:"isShowingChange",value:function(){return this.isIndicatorsShowing!==this.lastIsIndicatorsShowing}},{key:"destroy",value:function(){}},{key:"isClickedOnElement",value:function(e,t){if(!this.interactiveGraphics)return!1;var n=this.core,i=n.renderer,r=n.stage,a=i.plugins.interaction.hitTest(new dg.n(e,t),r);return!!a&&(Array.isArray(this.interactiveGraphics)?this.interactiveGraphics.some((function(e){return e===a})):a===this.interactiveGraphics)}},{key:"getSpritePath",value:function(e){return this.core.isIE?w.CHART.EMPTY_1_PX:e}},{key:"isCandlesColorChanged",value:function(){return this.candleUpHex!==this.prevCandleUpHex||this.candleDownHex!==this.prevCandleDownHex}}])&&Sv(t.prototype,n),i&&Sv(t,i),e}();function Tv(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var kv=function(){function e(t,n,i,r,a){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(this,"fragShader","\nprecision mediump float;\n\nvarying vec2 vTextureCoord;\nuniform mat3 mappedMatrix;\nuniform sampler2D uSampler;\nuniform vec4 fromColor;\nuniform vec4 toColor;\nuniform float direction;\nuniform float flip;\nuniform float alpha;\n\nvoid main(void) {\n    vec4 result = texture2D(uSampler, vTextureCoord);\n    vec3 mapCoord = vec3(vTextureCoord, 1.0) * mappedMatrix;\n    vec4 mixCol;\n    vec4 colorA;\n    vec4 colorB;\n    \n    if (result.a > 0.0) {\n        if(flip == 1.0) {\n            colorA = toColor;\n            colorB = fromColor;\n        } else {\n            colorA = fromColor;\n            colorB = toColor;\n        }\n        if(direction == 1.0) {\n            mixCol = mix(colorA, colorB, mapCoord.x);\n        } else {\n            mixCol = mix(colorA, colorB, mapCoord.y);\n        }\n        gl_FragColor = mix(result, mixCol, alpha);\n    } else {\n        gl_FragColor = vec4(0.0, 0.0, 0.0, 0.0);\n    }\n}\n"),this.filter=new dg.e(null,this.fragShader,{mappedMatrix:new dg.k,fromColor:new Float32Array(t.getVec4Array()),toColor:new Float32Array(n.getVec4Array()),alpha:a,direction:i?1:0,flip:r?1:0});var o=this.calculateNormalizedScreenSpaceMatrix.bind(this.filter);this.filter.apply=function(e,t,n,i,r){o(this.uniforms.mappedMatrix,r),e.applyFilter(this,t,n,i,r)}}var t,n,i;return t=e,(n=[{key:"calculateNormalizedScreenSpaceMatrix",value:function(e,t){var n=t.sourceFrame,i=t.destinationFrame,r=e.identity();r.translate(n.x/i.width,n.y/i.height);var a=i.width/n.width,o=i.height/n.height;return r.scale(a,o),r}}])&&Tv(t.prototype,n),i&&Tv(t,i),e}();function Iv(e){return(Iv="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Pv(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function Nv(e,t){return(Nv=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function xv(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=Mv(e);if(t){var r=Mv(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return Rv(this,n)}}function Rv(e,t){return!t||"object"!==Iv(t)&&"function"!=typeof t?Dv(e):t}function Dv(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Mv(e){return(Mv=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Bv(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Lv=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Nv(e,t)}(a,e);var t,n,i,r=xv(a);function a(e,t){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),Bv(Dv(n=r.call(this,e,t)),"penultHistoryPoint",null),Bv(Dv(n),"lastTailRendered",null),Bv(Dv(n),"areaTopPoint",null),n.lineOnly=!1,n.areaAlpha=0,n.areaShaderFilter=null,n.core.isWebGLRenderer()?(n.areaAlpha=.01,n.initColors()):n.areaAlpha=.15,n}return t=a,(n=[{key:"normalizeY",value:function(e){return e<0?0:e>this.height?this.height:e}},{key:"initColors",value:function(){this.core.isWebGLRenderer()&&(this.areaShaderFilter=new kv(this.colors.plotLineGradientTopColor,this.colors.plotLineGradientBottomColor,!1,!1,.2))}},{key:"draw",value:function(){var e=this;(this.isThemeChanged()||this.isChangedMinMax()||this.isChangedFromTo()||this.isSizeChanged())&&(this.penultHistoryPoint=null,this.lastTailRendered=null),this.isThemeChanged()&&this.initColors();var t=this.filterPoints(this.pointsManager.reducedPoints);if(0===t.length)return this.destroyHistory(),void this.destroyTail();this.penultHistoryPoint>0&&(t=t.filter((function(t){return t.time>=e.penultHistoryPoint})));var n=null;t.length>0&&(t[t.length-1].time===this.pointsManager.endPoint.time&&t.pop(),this.pointsManager.endPoint.time<=this.toTime&&(n=this.pointsManager.getAnimatingPoint(),t.push(n)));for(var i=[],r=0;r<t.length;r++){var a=this.getXFromTime(t[r].time);if(r+1<t.length){var o=this.getXFromTime(t[r+1].time);if(a<0&&o<0)continue}i.push({time:t[r].time,x:a,y:this.getYFromValue(t[r].value)})}this.areaTopPoint=this.getYFromValue(this.maxVal),i.length>0&&i[i.length-1].y<this.areaTopPoint&&(this.areaTopPoint=i[i.length-1].y);var s=[];i.length>0&&n&&(s=i.slice(-3),i.pop()),s.length<2&&!1!==this.lastTailRendered&&this.destroyTail(),this.drawHistory(i),this.drawTail(s)}},{key:"drawHistory",value:function(e){e.length<3&&(e.length<2||this.penultHistoryPoint===e[0].time)||(this.penultHistoryPoint||this.destroyHistory(),this.lineOnly||this.drawArea(e,this.penultHistoryPoint===e[0].time?1:0,this.core.getGraphicsNew(zt)),this.drawPoints(e,this.core.getGraphicsNew(Kt)),this.penultHistoryPoint=e[e.length-2].time)}},{key:"drawTail",value:function(e){if(!(e.length<2)){if(this.lastTailRendered){var t=this.lastTailRendered,n=e[e.length-1];if(t.x.toFixed(2)===n.x.toFixed(2)&&t.y.toFixed(2)===n.y.toFixed(2))return}this.destroyTail(),this.lineOnly||this.drawArea(e,1,this.core.getGraphicsNew(bn)),this.drawPoints(e,this.core.getGraphicsNew(vn)),this.lastTailRendered=e[e.length-1]}}},{key:"setPointLineStyle",value:function(e){e.lineStyle((this.isDarkTheme(),2),this.colors.plotLineColor.getOpaqueHexNum(.8),1,.5)}},{key:"drawPoints",value:function(e,t){if(!(e.length<2)){this.setPointLineStyle(t),t.moveTo(e[0].x,e[0].y);for(var n=1;n<e.length;n++)t.lineTo(e[n].x,e[n].y);t=null}}},{key:"drawArea",value:function(e,t,n){if(!(e.length<2||e.length-1<t)){var i=this.yShift+this.height;n.lineStyle(),n.beginFill(this.colors.plotLineGradientTopColor.getHEXNUM(),this.areaAlpha),n.moveTo(e[t].x,i),n.lineTo(e[t].x,this.areaTopPoint),n.lineTo(e[t].x,this.normalizeY(e[t].y));for(var r=t+1;r<e.length;r++)n.lineTo(e[r].x,this.normalizeY(e[r].y));n.lineTo(e[e.length-1].x,i),n.lineTo(e[t].x,i),n.endFill(),this.core.isWebGLRenderer()&&(n.filters=[this.areaShaderFilter.filter]),n=null}}},{key:"destroyHistory",value:function(){this.lineOnly||this.core.clearGraphicsNew(zt),this.core.clearGraphicsNew(Kt)}},{key:"destroyTail",value:function(){this.lineOnly||this.core.clearGraphicsNew(bn),this.core.clearGraphicsNew(vn),this.lastTailRendered=!1}}])&&Pv(t.prototype,n),i&&Pv(t,i),a}(Cv);function jv(e){return(jv="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Fv(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Gv(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function Vv(e,t){return(Vv=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Hv(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=Yv(e);if(t){var r=Yv(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return Uv(this,n)}}function Uv(e,t){return!t||"object"!==jv(t)&&"function"!=typeof t?Wv(e):t}function Wv(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Yv(e){return(Yv=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Qv(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Xv=h("High"),zv=h("Low"),Kv=h("Open"),Jv=h("Close"),qv=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Vv(e,t)}(a,e);var t,n,i,r=Hv(a);function a(){var e;Fv(this,a);for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return Qv(Wv(e=r.call.apply(r,[this].concat(n))),"lastDrawingCandle",!1),e}return t=a,(n=[{key:"drawCandleValues",value:function(e){var t=this;if(this.isPointerChanged()||this.isSizeChanged())if(this.isMobile||this.isLineChart())this.reset();else if(this.pointerX<=0)this.resetCandleValues();else{var n=e.find((function(e){var n=t.getXFromTime(e.time)-t.pointsManager.candleWidth/2;return t.pointerX>=n&&t.pointerX<=n+t.pointsManager.candleWidth}));n?!this.isSizeChanged()&&n.isEqual(this.lastCandle)||(this.isDisplayed=!0,this.drawCandleValue(n)):this.resetCandleValues()}}},{key:"drawCandleValue",value:function(e){var t=this.getText("openText",Kv);t.x=55,t.y=this.height-w.CHART.TIME_STEP_H-46,t.style.fill=this.colors.baseElementTextColor.getHEXNUM();var n=this.getText("closeText",Jv);n.x=55,n.y=this.height-w.CHART.TIME_STEP_H-28,n.style.fill=this.colors.baseElementTextColor.getHEXNUM();var i=this.getText("highText",Xv);i.x=55,i.y=this.height-w.CHART.TIME_STEP_H-10,i.style.fill=this.colors.baseElementTextColor.getHEXNUM();var r=this.getText("lowText",zv);r.x=55,r.y=this.height-w.CHART.TIME_STEP_H- -8,r.style.fill=this.colors.baseElementTextColor.getHEXNUM();var a=[t.width,n.width,i.width,r.width],o=Math.max.apply(null,a),s=this.getText("openValue",this.formatStringPrice(e.enterValue));s.x=t.x+o+5,s.y=t.y,s.style.fill=this.colors.baseCandleValuesColor.getHEXNUM();var c=this.getText("closeValue",this.formatStringPrice(e.exitValue));c.x=n.x+o+5,c.y=n.y,c.style.fill=this.colors.baseCandleValuesColor.getHEXNUM();var l=this.getText("highValue",this.formatStringPrice(e.maxValue));l.x=i.x+o+5,l.y=i.y,l.style.fill=this.colors.baseCandleValuesColor.getHEXNUM();var u=this.getText("lowValue",this.formatStringPrice(e.minValue));u.x=r.x+o+5,u.y=r.y,u.style.fill=this.colors.baseCandleValuesColor.getHEXNUM(),this.lastCandle=e}},{key:"resetCandleValues",value:function(){this.lastCandle=!1,this.isDisplayed&&(this.destroyCandleValues(),this.isDisplayed=!1)}},{key:"getText",value:function(e,t){var n=this.colors.candleValues.getHEXNUM();return this.core.getText(An,e,t,w.CHART.S_CANDLES,n)}},{key:"destroyCandleValues",value:function(){this.core.clearText(An,"highText"),this.core.clearText(An,"lowText"),this.core.clearText(An,"openText"),this.core.clearText(An,"closeText"),this.core.clearText(An,"highValue"),this.core.clearText(An,"lowValue"),this.core.clearText(An,"openValue"),this.core.clearText(An,"closeValue")}},{key:"destroy",value:function(){this.destroyCandleValues()}},{key:"candleUpColor",get:function(){return new bv(this.candleUpHex,1)}},{key:"candleDownColor",get:function(){return new bv(this.candleDownHex,1)}}])&&Gv(t.prototype,n),i&&Gv(t,i),a}(Cv);function Zv(e){return(Zv="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function $v(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function eb(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function tb(e,t){return(tb=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function nb(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=ab(e);if(t){var r=ab(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return ib(this,n)}}function ib(e,t){return!t||"object"!==Zv(t)&&"function"!=typeof t?rb(e):t}function rb(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ab(e){return(ab=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ob(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var sb=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&tb(e,t)}(a,e);var t,n,i,r=nb(a);function a(){var e;$v(this,a);for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return ob(rb(e=r.call.apply(r,[this].concat(n))),"lastCandlesCount",0),ob(rb(e),"lastRenderedCandle",null),ob(rb(e),"strokeWidth",1),e}return t=a,(n=[{key:"draw",value:function(){if(0!==this.pointsManager.candles.length){(this.isChangedMinMax()||this.isChangedFromTo()||this.isSizeChanged()||this.isCandlesColorChanged())&&this.reset(),this.strokeWidth=Math.min(this.pointsManager.candleWidth/3,this.width*w.CHART.BAR_MAX_WIDTH_IN_PERCENTS_OF_SCREEN/100);var e=this.filterPoints(this.pointsManager.candles),t=Array.from(e),n=null;this.isLastCandleOnScreen(t[t.length-1])?n=t.pop():!1!==this.lastRenderedCandle&&this.destroyLastCandle(),this.drawCandlesHistory(t),this.drawLastCandle(n),this.drawCandleValues(e)}}},{key:"drawLastCandle",value:function(e){if(e&&!e.isEqual(this.lastRenderedCandle)){this.destroyLastCandle();var t=this.core.getGraphicsNew(gn);this.drawCandle(t,e),this.lastRenderedCandle=e,t=null}}},{key:"drawCandlesHistory",value:function(e){if(this.lastCandlesCount!==e.length){this.destroyHistory();for(var t=this.core.getGraphicsNew(Ut),n=0;n<e.length;n++){var i=e[n];this.drawCandle(t,i)}this.lastCandlesCount=e.length,t=null}}},{key:"drawCandle",value:function(e,t){var n=Math.min(this.getYFromValue(t.maxValue),this.getYFromValue(t.minValue)),i=Math.max(this.getYFromValue(t.maxValue),this.getYFromValue(t.minValue)),r=this.getXFromTime(t.time)-this.pointsManager.candleWidth/2,a=this.getYFromValue(t.enterValue),o=this.getYFromValue(t.exitValue),s=t.exitValue>t.enterValue?this.candleUpColor:this.candleDownColor,c=this.strokeWidth,l=c/2;e.lineStyle(1,s.getHEXNUM(),1);var u=a-l<n?a-l:n;o-l<u&&(u=o-l);var h=a+l>i?a+l:i;o+l>h&&(h=o+l);var d=u<a-l?a-l:u,f=h>a+l?a+l:h,p=u<o-l?o-l:u,m=h>o+l?o+l:h,y=[r,d,r,f];f!==h&&y.push(r+c,f,r+c,h),h!==m&&y.push(r+2*c,h,r+2*c,m),y.push(r+3*c,m,r+3*c,p),p!==u&&y.push(r+2*c,p,r+2*c,u),d!==u&&y.push(r+c,u,r+c,d),y.push(r,d),e.beginFill(s.getHEXNUM(),this.isDarkTheme()?1:.9),e.drawPolygon(y),e.endFill()}},{key:"destroyHistory",value:function(){this.core.clearGraphicsNew(Ut)}},{key:"destroyLastCandle",value:function(){this.core.clearGraphicsNew(gn),this.lastRenderedCandle=!1}},{key:"isLastCandleOnScreen",value:function(e){return!e||!this.lastEndCandle||e.time===this.lastEndCandle.time}},{key:"reset",value:function(){this.lastCandlesCount=0,this.lastRenderedCandle=null}}])&&eb(t.prototype,n),i&&eb(t,i),a}(qv);function cb(e){return(cb="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function lb(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ub(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function hb(e,t){return(hb=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function db(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=mb(e);if(t){var r=mb(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return fb(this,n)}}function fb(e,t){return!t||"object"!==cb(t)&&"function"!=typeof t?pb(e):t}function pb(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function mb(e){return(mb=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function yb(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var gb=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&hb(e,t)}(a,e);var t,n,i,r=db(a);function a(){var e;lb(this,a);for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return yb(pb(e=r.call.apply(r,[this].concat(n))),"lastCandlesCount",0),yb(pb(e),"lastRenderedCandle",null),e}return t=a,(n=[{key:"draw",value:function(){if(0!==this.pointsManager.candles.length){(this.isChangedMinMax()||this.isChangedFromTo()||this.isSizeChanged()||this.isCandlesColorChanged())&&this.reset();var e=this.filterPoints(this.pointsManager.candles),t=Array.from(e),n=null;this.isLastCandleOnScreen(t[t.length-1])?n=t.pop():!1!==this.lastRenderedCandle&&this.destroyLastCandle(),this.drawCandlesHistory(t),this.drawLastCandle(n),this.drawCandleValues(e)}}},{key:"drawLastCandle",value:function(e){if(e&&!e.isEqual(this.lastRenderedCandle)){this.destroyLastCandle();var t=this.core.getGraphicsNew(yn);this.drawCandle(t,e),this.lastRenderedCandle=e,t=null}}},{key:"drawCandlesHistory",value:function(e){if(this.lastCandlesCount!==e.length){this.destroyHistory();for(var t=this.core.getGraphicsNew(Ht),n=0;n<e.length;n++){var i=e[n];this.drawCandle(t,i)}this.lastCandlesCount=e.length,t=null}}},{key:"drawCandle",value:function(e,t){var n=Math.min(this.getYFromValue(t.maxValue),this.getYFromValue(t.minValue)),i=Math.max(this.getYFromValue(t.maxValue),this.getYFromValue(t.minValue)),r=this.getXFromTime(t.time)-this.pointsManager.candleWidth/2,a=Math.min(this.getYFromValue(t.enterValue),this.getYFromValue(t.exitValue)),o=Math.max(this.getYFromValue(t.enterValue),this.getYFromValue(t.exitValue))-a,s=t.exitValue>t.enterValue?this.candleUpColor:this.candleDownColor;o<=0&&(o=1),e.lineStyle(1,s.getHEXNUM(),1),n<a&&(e.moveTo(r+this.pointsManager.candleWidth/2,n),e.lineTo(r+this.pointsManager.candleWidth/2,a)),a+o<i&&(e.moveTo(r+this.pointsManager.candleWidth/2,a+o),e.lineTo(r+this.pointsManager.candleWidth/2,i)),e.beginFill(s.getHEXNUM(),this.isDarkTheme()?1:.9),e.drawRect(r,a,this.pointsManager.candleWidth,o),e.endFill()}},{key:"destroyHistory",value:function(){this.core.clearGraphicsNew(Ht)}},{key:"destroyLastCandle",value:function(){this.core.clearGraphicsNew(yn),this.lastRenderedCandle=!1}},{key:"isLastCandleOnScreen",value:function(e){return!e||!this.lastEndCandle||e.time===this.lastEndCandle.time}},{key:"reset",value:function(){this.lastCandlesCount=0,this.lastRenderedCandle=null}}])&&ub(t.prototype,n),i&&ub(t,i),a}(qv);function vb(e){return(vb="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function bb(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function Eb(e,t){return(Eb=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ab(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=_b(e);if(t){var r=_b(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return wb(this,n)}}function wb(e,t){return!t||"object"!==vb(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function _b(e){return(_b=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Ob=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Eb(e,t)}(a,e);var t,n,i,r=Ab(a);function a(e,t){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(n=r.call(this,e,t)).animator=new gv,n.animator.curveType=kt,n.animator.duration=1,n.animator.fromValue=0,n.animator.setToValue(1),n.animator.circular=!0,n.graphicsGlow=n.core.getGraphics(en),n.graphicsDot=n.core.getGraphics(tn),n}return t=a,(n=[{key:"isVisible",value:function(){return this.pointsManager.points.length>0&&this.getTimeFrom()<=this.pointsManager.currentTime&&this.pointsManager.currentTime<=this.getTimeTo()}},{key:"draw",value:function(){if(this.isVisible()&&(this.animator.setTime(this.ts),this.pointsManager.points.length>0)){var e=this.getXFromTime(this.pointsManager.currentTime),t=this.getYFromValue(this.pointsManager.currentValue),n=this.animator.getValue(),i=15*n;i<.1&&(i=.1);var r=new bv("000",n);this.graphicsGlow.beginFill(r.getHEXNUM(),.3),this.graphicsGlow.lineStyle(0,r.getHEXNUM(),.3),this.graphicsGlow.drawCircle(0,0,i),this.graphicsGlow.endFill(),this.graphicsGlow.position.x=e,this.graphicsGlow.position.y=t,this.graphicsDot.beginFill(this.colors.valuePointCenterColor.getHEXNUM(),this.colors.valuePointCenterColor.getAlpha()),this.graphicsDot.lineStyle(0,16777215,0),this.graphicsDot.drawCircle(0,0,4),this.graphicsDot.endFill(),this.graphicsDot.position.x=e,this.graphicsDot.position.y=t}}}])&&bb(t.prototype,n),i&&bb(t,i),a}(Cv);function Sb(e){return(Sb="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Cb(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Tb(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function kb(e,t){return(kb=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ib(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=Nb(e);if(t){var r=Nb(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return Pb(this,n)}}function Pb(e,t){return!t||"object"!==Sb(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Nb(e){return(Nb=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var xb=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&kb(e,t)}(a,e);var t,n,i,r=Ib(a);function a(e,t,n,i,o,s,c,l){var u,h=arguments.length>8&&void 0!==arguments[8]&&arguments[8];return Cb(this,a),(u=r.call(this,e,t)).arrowIconSrc=o?"/trade-room/images/arrow-up.svg":"/trade-room/images/arrow-down.svg",u.xOffset=9,u.yOffset=10,u.id=l,u.closeTime=c,u.ctx=null,u.value=n,u.time=i,u.isCall=o,u.text=s,u.x=0,u.lastX=0,u.rolloverCloseTime=0,u.showTime=!0,u.isShortMode=!1,u.rectPosition={x:0,y:0},u.rectSize={width:0,y:0},u.isMobile=h,u.alphaMultiplier=1,u.textGraph=null,u.timeTextGraph=null,u.renderedHover=!1,u.expiryBgGradientFilter=null,u.initColors(),u}return t=a,(n=[{key:"initColors",value:function(){var e=this.core.isWebGLRenderer();this.expiryBgNormalAlpha=e?.05:.1,this.expiryBgRolloverAlpha=e?.1:.2,e&&(this.expiryBgGradientFilter=new kv(this.colors.downBgFrom,this.colors.downBgTo,!1,!1,.1))}},{key:"reanimate",value:function(){this.draw(!0)}},{key:"setAlphaMultiplier",value:function(e){this.alphaMultiplier=e,this.draw(!0)}},{key:"updateTime",value:function(){this.timeTextGraph&&(this.timeTextGraph.text=this.getTimeString())}},{key:"drawTextGraph",value:function(){var e=this.core.getText(Ln,"betElementTextGraph-".concat(this.id),this.getString(),w.CHART.S_DEAL,this.isTooltipDisabled?this.colors.betElementTextColorTooltipOff.getHEXNUM():this.colors.betElementTextColor.getHEXNUM());return e.alpha=this.alphaMultiplier,e.interactive=!1,e}},{key:"drawTimeGraph",value:function(){var e=this.core.getText(Ln,"betElementTextTimeGraph-".concat(this.id),this.getTimeString(),w.CHART.S_DEAL_TIME,this.isTooltipDisabled?this.colors.betElementTextColorTooltipOff.getHEXNUM():this.colors.betElementTextColor.getHEXNUM());return e.interactive=!1,e}},{key:"drawHitArea",value:function(e,t){var n=this.core.getDynamicGraphics(Bn,"rectangleGraphicsHitArea-".concat(this.id));return n.isNew&&(n.graphics.beginFill(16777215,.01),n.graphics.drawRect(0,0,e,t),n.graphics.endFill()),n.graphics.interactive=!0,n.graphics.buttonMode=!0,n.graphics}},{key:"drawHitAreaCircle",value:function(e){var t=this.core.getDynamicGraphics(Bn,"circleGraphicsHitArea-".concat(this.id));return t.isNew&&(t.graphics.beginFill(16777215,.01),t.graphics.drawCircle(e/2,e/2,e),t.graphics.endFill()),t.graphics.interactive=!0,t.graphics.buttonMode=!0,t.graphics}},{key:"drawRect",value:function(e,t,n){var i=this.core.getDynamicGraphics(Bn,"rectangleGraphics-".concat(this.id));return i.isNew&&(i.graphics.beginFill(n.getHEXNUM(),.9),i.graphics.drawRoundedRect(0,0,e,t,60),i.graphics.endFill()),i.graphics.interactive=!1,i.graphics.alpha=this.alphaMultiplier,i.graphics}},{key:"drawCircle",value:function(e,t){var n=this.core.getDynamicGraphics(Bn,"circleGraphics-".concat(this.id));return n.isNew&&(n.graphics.beginFill(t.getHEXNUM(),.9),n.graphics.drawCircle(e/2,e/2,e),n.graphics.endFill()),n.graphics.interactive=!1,n.graphics.alpha=this.alphaMultiplier,n.graphics}},{key:"drawArrowBackground",value:function(e,t){var n=this.core.getDynamicGraphics(Bn,"triangleIconGraphics-".concat(this.id));return n.isNew&&(n.graphics.beginFill(e.getHEXNUM(),t),n.graphics.drawCircle(0,0,6),n.graphics.endFill()),n.graphics.interactive=!1,n.graphics.alpha=this.alphaMultiplier,n.graphics}},{key:"drawArrowIcon",value:function(){var e="deal-arrow-icon-".concat(this.id),t=this.core.getSprite(Bn,e,this.arrowIconSrc);return t.sprite||(t.sprite=new dg.s),t.sprite.alpha=this.alphaMultiplier,t.sprite.interactive=!1,t.sprite}},{key:"getBadgeSize",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=dg.v.measureText(this.getString(),new dg.w(w.CHART.S_DEAL)),i=e?dg.v.measureText(this.getTimeString(),new dg.w(w.CHART.S_DEAL_TIME)):null;return{width:t?8:n.width+27+6+(i?i.width:0),height:t?8:n.height+5}}},{key:"drawBadge",value:function(e,t,n,i,r){this.core.clearDynamicGraphicsNew("circleGraphics-".concat(this.id)),this.core.clearDynamicGraphicsNew("rectangleGraphics-".concat(this.id)),this.core.clearDynamicGraphicsNew("rectangleGraphicsHitArea-".concat(this.id)),this.core.clearDynamicGraphicsNew("circleGraphicsHitArea-".concat(this.id)),this.core.clearDynamicGraphicsNew("triangleIconGraphics-".concat(this.id)),this.core.clearSprite(Bn,"deal-arrow-icon-".concat(this.id));var a=this.getBadgeSize(i,r),o=a.width,s=a.height;this.textGraph=r?null:this.drawTextGraph(),i?this.timeTextGraph=this.drawTimeGraph():(this.core.clearText(Ln,"betElementTextTimeGraph-".concat(this.id)),this.timeTextGraph=null),this.interactiveGraphics=r?this.drawHitAreaCircle(8):this.drawHitArea(o,s),this.interactiveGraphics.setTransform(r?t+8:t,n-s/2),r||this.drawRect(o,s,e).setTransform(t,n-s/2),this.drawArrowBackground(r?e:this.colors.betElementTextColor,r?.9:.5).setTransform(t+10,n);var c=7,l=4;this.drawArrowIcon().setTransform(t+c,n-l),this.textGraph?this.textGraph.setTransform(t+20,n-this.textGraph.height/2):(this.core.clearText(Ln,"betElementTextGraph-".concat(this.id)),this.textGraph=null),i&&this.textGraph?(this.timeTextGraph.setTransform(this.textGraph.x+this.textGraph.width+3,n-this.timeTextGraph.height/2),this.timeTextGraph.alpha=.5*this.alphaMultiplier):(this.core.clearText(Ln,"betElementTextTimeGraph-".concat(this.id)),this.timeTextGraph=null)}},{key:"drawExpiryLabelText",value:function(e,t){var n=this.core.getText(Ln,"betElementExpiryTitleText-".concat(this.id),h("Expiry time"),w.CHART.S_ROLLOVER_BADGE_TITLE);return n.interactive=!1,n.anchor.set(.5),n.setTransform(e,t),n}},{key:"drawExpiryTimeText",value:function(e,t,n){var i=this.core.getText(Ln,"betElementExpiryTimeText-".concat(this.id),n,w.CHART.S_ROLLOVER_BADGE_TIME);return i.interactive=!1,i.anchor.set(.5),i.setTransform(e,t),i}},{key:"drawExpiryRegion",value:function(e,t){if(this.hoverDoubleBtn||this.hoverRolloverBtn){this.renderedHover=!0,this.core.clearGraphicsNew(an);var n=this.core.getGraphicsNew(an);n.beginFill(this.colors.downBgFrom.getHEXNUM(),this.expiryBgNormalAlpha),n.drawRect(e.x,e.y,e.width,e.height),n.beginFill(this.colors.downBgFrom.getHEXNUM(),this.expiryBgRolloverAlpha),n.drawRect(t.x,t.y,t.width,t.height),n.endFill(),n.interactive=!1,this.core.isWebGLRenderer()&&(n.filters=[this.expiryBgGradientFilter.filter])}else this.renderedHover&&(this.renderedHover=!1)}},{key:"drawExpiryBadge",value:function(e,t,n,i,r){var a=this.core.getDynamicGraphics(Mn,"betElementExpiryRect-".concat(this.id));return a.isNew&&(a.graphics.beginFill(e.getHEXNUM(),e.getAlpha()),a.graphics.drawRoundedRect(0,-n,t,n,4),a.graphics.endFill()),a.graphics.setTransform(i,r),a}},{key:"drawButtonRoundedRect",value:function(e,t,n,i,r){var a=this.core.getDynamicGraphics(Mn,"buttonRoundedRect-".concat(this.id));return a.isNew&&(a.graphics.beginFill(e.getHEXNUM(),e.getAlpha()),a.graphics.drawRoundedRect(0,-n,t,n,4),a.graphics.endFill()),a.graphics.setTransform(i,r),a}},{key:"drawLine",value:function(e,t,n,i,r,a,o){this.core.clearDynamicGraphicsNew("lineGraphics-".concat(this.id));var s=this.width-a,c=Math.min(s,i),l=this.core.getDynamicGraphics(Mn,"lineGraphics-".concat(this.id));c>t&&(l.graphics.lineStyle(1.5,o.getHEXNUM()),l.graphics.moveTo(t,n),l.graphics.lineTo(c,n)),this.core.clearDynamicGraphicsNew("rolloverLineGraphicsEnd-".concat(this.id));var u=this.core.getDynamicGraphics(Mn,"rolloverLineGraphicsEnd-".concat(this.id));this.core.clearDynamicGraphicsNew("lineGraphicsEnd-".concat(this.id));var h=this.core.getDynamicGraphics(Mn,"lineGraphicsEnd-".concat(this.id));s>e&&(h.graphics.lineStyle(1.5,o.getHEXNUM(),.2),h.graphics.moveTo(e,n),h.graphics.lineTo(this.width-a,n)),r>0&&(u.graphics.lineStyle(1.5,o.getHEXNUM()),u.graphics.moveTo(c,n),u.graphics.lineTo(Math.min(s,r),n)),this.core.clearDynamicGraphicsNew("dotGraphics-".concat(this.id)),this.core.clearDynamicGraphicsNew("dotWhiteGraphics-".concat(this.id)),this.core.clearDynamicGraphicsNew("dotEndGraphics-".concat(this.id)),this.core.clearDynamicGraphicsNew("dotWhiteEndGraphics-".concat(this.id));var d=this.core.getDynamicGraphics(Mn,"dotGraphics-".concat(this.id));d.isNew&&(d.graphics.beginFill(o.getHEXNUM(),1),d.graphics.drawCircle(0,0,5),d.graphics.endFill()),d.graphics.alpha=t<=s?1:0,d.graphics.setTransform(t,n);var f=this.core.getDynamicGraphics(Mn,"dotWhiteGraphics-".concat(this.id));f.isNew&&(f.graphics.beginFill(this.colors.white.getHEXNUM(),1),f.graphics.drawCircle(0,0,3),f.graphics.endFill()),f.graphics.alpha=t<=s?1:0,f.graphics.setTransform(t,n);var p=this.core.getDynamicGraphics(Mn,"dotEndGraphics-".concat(this.id));p.isNew&&(p.graphics.beginFill(o.getHEXNUM(),1),p.graphics.drawCircle(0,0,5),p.graphics.endFill()),p.graphics.alpha=c===i?1:0,p.graphics.setTransform(c,n);var m=this.core.getDynamicGraphics(Mn,"dotWhiteEndGraphics-".concat(this.id));if(m.isNew&&(m.graphics.beginFill(this.colors.white.getHEXNUM(),1),m.graphics.drawCircle(0,0,3),m.graphics.endFill()),m.graphics.alpha=c===i?1:0,m.graphics.setTransform(c,n),this.core.clearDynamicGraphicsNew("rolloverDotEndGraphics-".concat(this.id)),this.core.clearDynamicGraphicsNew("rolloverDotWhiteEndGraphics-".concat(this.id)),r>0&&r<=s){var y=r,g=y,v=this.core.getDynamicGraphics(Mn,"rolloverDotEndGraphics-".concat(this.id));v.isNew&&(v.graphics.beginFill(o.getHEXNUM(),1),v.graphics.drawCircle(0,0,5),v.graphics.endFill()),v.graphics.alpha=g===y?1:0,v.graphics.setTransform(g,n);var b=this.core.getDynamicGraphics(Mn,"rolloverDotWhiteEndGraphics-".concat(this.id));b.isNew&&(b.graphics.beginFill(this.colors.white.getHEXNUM(),1),b.graphics.drawCircle(0,0,3),b.graphics.endFill()),b.graphics.alpha=g===y?1:0,b.graphics.setTransform(g,n)}}},{key:"getString",value:function(){return this.text}},{key:"getTimeString",value:function(){var e=Math.round(this.closeTime+this.timeZone-this.currentTime);return e>=0?Je(e):""}},{key:"isXChanged",value:function(){return this.x!==this.lastX}},{key:"isShortModeChanged",value:function(){return this.isShortMode!==this.lastIsShortMode}},{key:"isDoubleHoverChanged",value:function(){return this.hoverDoubleBtn!==this.lastHoverDoubleBtn}},{key:"isRolloverHoverChanged",value:function(){return this.hoverRolloverBtn!==this.lastHoverRolloverBtn}},{key:"shouldRerender",value:function(){return this.isChangedFromTo()||this.isChangedMinMax()||this.isSizeChanged()||this.isOptionsChanged()||this.isXChanged()||this.isShortModeChanged()||this.isDoubleHoverChanged()||this.isRolloverHoverChanged()}},{key:"getCurrentXFromTime",value:function(){return this.getXFromTime(this.isLineChart()?this.time:Math.floor(this.time/this.pointsInElement)*this.pointsInElement)}},{key:"getCurrentXFromRolloverTime",value:function(){return this.getXFromTime(this.isLineChart()?this.rolloverCloseTime:Math.floor(this.rolloverCloseTime/this.pointsInElement)*this.pointsInElement)}},{key:"draw",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.isThemeChanged()&&this.initColors(),this.updateTime(),e||this.shouldRerender()){var t=this.getCurrentXFromTime(),n=this.getYFromValue(this.value),i=this.isCall?this.colors.callLineColor:this.colors.putLineColor;this.isMobile&&(this.showTime=!1),this.rectPosition={x:this.x,y:n},this.rectSize=this.getBadgeSize(this.showTime,this.isShortMode);var r=60,a=this.getXFromTime(this.closeTime),o=0;if(this.hoverRolloverBtn&&(o=this.getCurrentXFromRolloverTime()),this.hoverDoubleBtn&&(o=this.getXFromTime(this.isLineChart()?this.pointsManager.currentTime:this.endCandle.time)),this.hoverDoubleBtn?this.drawLine(this.x,t,n,o,a,r,i):this.drawLine(this.x,t,n,a,o,r,i),this.showBadge)if(this.drawBadge(i,this.x,n,this.showTime,this.isShortMode),this.hoverRolloverBtn||this.hoverDoubleBtn){var s=this.width-r,c=Math.min(s,a),l=this.colors.crosshairBadgeColor,u=115,h=42,d=c+(o-c)/2-u/2,f=n-10;this.hoverDoubleBtn?this.drawExpiryRegion({x:t,y:0,width:o-t,height:n},{x:o,y:0,width:a-o,height:n}):this.drawExpiryRegion({x:t,y:0,width:o-t,height:n},{x:c,y:0,width:o-c,height:n}),this.drawExpiryBadge(l,u,h,d,f),this.drawExpiryLabelText(d+u/2,n-h+2),this.drawExpiryTimeText(d+u/2,n-h+19,Ze(this.hoverDoubleBtn?this.closeTime:this.rolloverCloseTime,this.timeZone,!0))}else this.clearExpireBadge();else this.clearBadge(),this.clearLineEnd()}}},{key:"clearBadge",value:function(){this.core.clearDynamicGraphicsNew("rippleGraphics-".concat(this.id)),this.core.clearDynamicGraphicsNew("circleGraphics-".concat(this.id)),this.core.clearDynamicGraphicsNew("rectangleGraphics-".concat(this.id)),this.core.clearDynamicGraphicsNew("rectangleGraphicsHitArea-".concat(this.id)),this.core.clearDynamicGraphicsNew("circleGraphicsHitArea-".concat(this.id)),this.core.clearDynamicGraphicsNew("triangleIconGraphics-".concat(this.id)),this.core.clearDynamicGraphicsNew("roundedRect-".concat(this.id)),this.core.clearDynamicGraphicsNew("buttonRoundedRect-".concat(this.id)),this.core.clearSprite(Bn,"deal-arrow-icon-".concat(this.id)),this.core.clearText(Ln,"betElementTextGraph-".concat(this.id)),this.core.clearText(Ln,"betElementTextTimeGraph-".concat(this.id)),this.core.clearText(Ln,"betElementExpiryTitleText-".concat(this.id)),this.core.clearText(Ln,"betElementExpiryTimeText-".concat(this.id))}},{key:"clearExpireBadge",value:function(){this.core.clearDynamicGraphicsNew("betElementExpiryRect-".concat(this.id)),this.core.clearDynamicGraphicsNew("rolloverLineGraphics-".concat(this.id)),this.core.clearDynamicGraphicsNew("rolloverLineGraphicsEnd-".concat(this.id)),this.core.clearDynamicGraphicsNew("rolloverDotEndGraphics-".concat(this.id)),this.core.clearDynamicGraphicsNew("rolloverDotWhiteEndGraphics-".concat(this.id)),this.core.clearText(Ln,"betElementExpiryTitleText-".concat(this.id)),this.core.clearText(Ln,"betElementExpiryTimeText-".concat(this.id)),this.core.clearGraphicsNew(an)}},{key:"clearLineEnd",value:function(){this.core.clearDynamicGraphicsNew("lineGraphicsEnd-".concat(this.id)),this.core.clearDynamicGraphicsNew("rolloverLineGraphicsEnd-".concat(this.id))}},{key:"clearAll",value:function(){this.clearBadge(),this.core.clearDynamicGraphicsNew("lineGraphics-".concat(this.id)),this.core.clearDynamicGraphicsNew("lineGraphicsEnd-".concat(this.id)),this.core.clearDynamicGraphicsNew("rolloverLineGraphics-".concat(this.id)),this.core.clearDynamicGraphicsNew("rolloverLineGraphicsEnd-".concat(this.id)),this.core.clearDynamicGraphicsNew("roundedRect-".concat(this.id)),this.core.clearDynamicGraphicsNew("buttonRoundedRect-".concat(this.id)),this.core.clearGraphicsNew(an)}},{key:"destroy",value:function(){this.core.destroyDynamicGraphicsNew(Mn,"lineGraphics-".concat(this.id)),this.core.destroyDynamicGraphicsNew(Mn,"lineGraphicsEnd-".concat(this.id)),this.core.destroyDynamicGraphicsNew(Mn,"rolloverLineGraphics-".concat(this.id)),this.core.destroyDynamicGraphicsNew(Mn,"rolloverLineGraphicsEnd-".concat(this.id)),this.core.destroyDynamicGraphicsNew(Mn,"roundedRect-".concat(this.id)),this.core.destroyDynamicGraphicsNew(Mn,"buttonRoundedRect-".concat(this.id)),this.core.destroyDynamicGraphicsNew(Bn,"arrowIconGraphics-".concat(this.id)),this.core.destroyDynamicGraphicsNew(Bn,"dotGraphics-".concat(this.id)),this.core.destroyDynamicGraphicsNew(Bn,"dotWhiteGraphics-".concat(this.id)),this.core.destroyDynamicGraphicsNew(Bn,"dotEndGraphics-".concat(this.id)),this.core.destroyDynamicGraphicsNew(Bn,"dotWhiteEndGraphics-".concat(this.id)),this.core.destroyDynamicGraphicsNew(Bn,"rolloverDotEndGraphics-".concat(this.id)),this.core.destroyDynamicGraphicsNew(Bn,"rolloverDotWhiteEndGraphics-".concat(this.id)),this.core.destroyDynamicGraphicsNew(Bn,"rippleGraphics-".concat(this.id)),this.core.destroyDynamicGraphicsNew(Bn,"rectangleGraphicsHitArea-".concat(this.id)),this.core.destroyDynamicGraphicsNew(Bn,"circleGraphicsHitArea-".concat(this.id)),this.core.destroyDynamicGraphicsNew(Bn,"triangleIconGraphics-".concat(this.id)),this.core.destroyDynamicGraphicsNew(Bn,"rectangleGraphics-".concat(this.id)),this.core.destroyDynamicGraphicsNew(Bn,"circleGraphics-".concat(this.id)),this.core.destroyDynamicGraphicsNew(Bn,"betElementExpiryRect-".concat(this.id)),this.core.clearGraphicsNew(an),this.core.clearText(Ln,"betElementTextGraph-".concat(this.id)),this.core.clearText(Ln,"betElementTextTimeGraph-".concat(this.id)),this.core.clearText(Ln,"betElementExpiryTitleText-".concat(this.id)),this.core.clearText(Ln,"betElementExpiryTimeText-".concat(this.id)),this.core.clearSprite(Bn,"deal-arrow-icon-".concat(this.id))}},{key:"isTooltipDisabled",get:function(){return!1}}])&&Tb(t.prototype,n),i&&Tb(t,i),a}(Cv),Rb=i(333);function Db(e){return(Db="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Mb(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function Bb(e,t){return(Bb=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Lb(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=Fb(e);if(t){var r=Fb(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return jb(this,n)}}function jb(e,t){return!t||"object"!==Db(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Fb(e){return(Fb=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Gb=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Bb(e,t)}(a,e);var t,n,i,r=Lb(a);function a(e,t,n,i,o,s,c,l,u){var h;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(h=r.call(this,e,t)).id=c,h.value=n,h.time=i,h.profit=o,h.amount=s,h.currency=l,h.isWin=h.profit>0,h.profitString=fa({amount:h.profit,currency:h.currency}),h.offsetY=7,h.offsetX=12,h.offsetDealInfo=10,h.crossX=0,h.crossY=0,h.crossWidth=6,h.crossHeight=6,h.infoBlockWidth=0,h.infoBlockHeight=0,h.rendered=!1,h.showedAt=u,h.container=h.core.getDynamicContainer(zn,"bet-element-closed-".concat(h.time),{sortableChildren:!0,zIndex:Math.ceil(h.time)}),h}return t=a,(n=[{key:"checkIsCloseClick",value:function(e,t,n){var i,r,a,o;return n?(i=this.crossX-this.infoBlockWidth-10,r=this.crossX+10,a=this.crossY-6,o=this.crossY+this.infoBlockHeight+10):(i=this.crossX-6,r=this.crossX+this.crossWidth+6,a=this.crossY-6,o=this.crossY+this.crossHeight+6),i<=e&&r>=e&&a<=t&&o>=t}},{key:"reanimate",value:function(){}},{key:"shouldRerender",value:function(){return this.isChangedFromTo()||this.isChangedExpirationTime()||this.isChangedMinMax()||this.isSizeChanged()}},{key:"draw",value:function(){if(!this.rendered||this.shouldRerender()){this.rendered=!0;var e=this.core.getDynamicGraphics(zn,"dotGraphics".concat(this.id),!1,!1,this.container);e.isNew&&(e.graphics.lineStyle(0,0,0),e.graphics.beginFill(this.colors.betElementTextColor.getHEXNUM(),1),e.graphics.drawCircle(0,0,4),e.graphics.endFill(),e.graphics.zIndex=7);var t=this.isLineChart()?this.getXFromTime(this.time):this.getXFromTime(Math.floor(this.time/this.pointsInElement)*this.pointsInElement),n=this.getYFromValue(this.value),i=this.isWin?this.colors.callLineColor:this.colors.putLineColor;e.graphics.setTransform(t,n),e=null;var r=this.core.getDynamicGraphics(zn,"dotGraphicsIn".concat(this.id),!1,!1,this.container);r.isNew&&(r.graphics.lineStyle(0,0,0),r.graphics.beginFill(i.getHEXNUM(),1),r.graphics.drawCircle(0,0,2),r.graphics.endFill(),r.graphics.zIndex=8),r.graphics.setTransform(t,n),r=null;var a=this.core.getSprite(zn,"closedDealInfoCross".concat(this.id),"/trade-room/images/cross.svg",!0,this.container).sprite;a.zIndex=4;var o=this.core.getText(zn,"closeDealResultLabel".concat(this.id),"".concat(h("Result (P/L)").toUpperCase()),w.CHART.S_DEAL_LABEL_BOLD,this.colors.betElementTextColor.getHEXNUM(),!1,this.container);o.zIndex=4,o.alpha=.8;var s=this.core.getText(zn,"closedDealResultText".concat(this.id),this.profitString,w.CHART.S_DEAL_BOLD,this.colors.betElementTextColor.getHEXNUM(),!1,this.container);s.zIndex=4,this.infoBlockHeight=s.height+o.height+5+2*this.offsetDealInfo;var c=[[s.width],[o.width]];this.infoBlockWidth=Math.max.apply(null,c)+6*this.offsetDealInfo;var l=t-this.offsetX,u=n-this.infoBlockHeight/2,d=this.core.getDynamicGraphics(zn,"closedDealInfo".concat(this.id),!1,!1,this.container);d.isNew&&(d.graphics.beginFill(i.getHEXNUM(),.9),d.graphics.drawRoundedRect(0,0,this.infoBlockWidth,this.infoBlockHeight,6),d.graphics.endFill(),d.graphics.zIndex=2),d.graphics.setTransform(l-d.graphics.width,u),d.graphics.interactive=!0,d.graphics.cursor="default";var f=this.core.getDynamicGraphics(zn,"closedDealInfoTriangle".concat(this.id),!1,!1,this.container);f.isNew&&(f.graphics.beginFill(i.getHEXNUM(),.9),f.graphics.moveTo(5,0),f.graphics.lineTo(this.offsetX,-this.offsetY),f.graphics.lineTo(this.offsetX,this.offsetY),f.graphics.endFill(),f.graphics.zIndex=2),f.graphics.setTransform(t,n),f.graphics.scale.set(-1,1),this.crossX=l+this.infoBlockWidth-this.offsetDealInfo-this.crossWidth-d.graphics.width,this.crossY=u+this.offsetDealInfo-this.crossHeight/2,a.x=this.crossX,a.y=this.crossY;var p=this.core.getDynamicGraphics(zn,"closedDealInfoLine-".concat(this.id));p.graphics.lineStyle(1,i.getHEXNUM()),p.graphics.moveTo(0,0),p.graphics.lineTo(0,this.height),p.graphics.setTransform(t,0);var m=l+this.offsetDealInfo-d.graphics.width,y=l+this.offsetDealInfo-d.graphics.width,g=u+this.offsetDealInfo,v=g+o.height+5;o.setTransform(m,g),s.setTransform(y,v),s=null,f=null,d=null,a=null}}},{key:"drawShadow",value:function(e,t,n){var i=new dg.o([0,0,this.infoBlockWidth,0,this.infoBlockWidth,Math.floor(this.infoBlockHeight/2)-this.offsetY,this.infoBlockWidth+6,this.infoBlockHeight/2,this.infoBlockWidth,Math.floor(this.infoBlockHeight/2)+this.offsetY,this.infoBlockWidth,this.infoBlockHeight,0,this.infoBlockHeight]),r=this.core.getDynamicGraphics(zn,"closedDealInfoTriangleShadow".concat(this.id),!1,!1,e);r.graphics.zIndex=1,r.graphics.beginFill(this.colors.black.getHEXNUM(),1),r.graphics.drawPolygon(i),r.graphics.endFill(),r.graphics.filters=[new Rb.a({shadowOnly:!0})],r.graphics.setTransform(t,n)}},{key:"destroy",value:function(){this.core.clearDynamicGraphicsNew("closedDealInfoLine-".concat(this.id)),this.core.destroyDynamiContainer(zn,"bet-element-closed-".concat(this.time)),this.core.destroyDynamicGraphicsNew(zn,"closedDealInfoTriangleShadow".concat(this.id)),this.core.destroyDynamicGraphicsNew(zn,"dotGraphics".concat(this.id)),this.core.destroyDynamicGraphicsNew(zn,"dotGraphicsIn".concat(this.id)),this.core.destroyDynamicGraphicsNew(zn,"closedDealInfo".concat(this.id)),this.core.destroyDynamicGraphicsNew(zn,"closedDealInfoTriangle".concat(this.id)),this.core.destroyDynamicGraphicsNew(zn,"closedDealInfoLine-".concat(this.id)),this.core.clearSprite(zn,"closedDealInfoCross".concat(this.id)),this.core.clearText(zn,"closeDealResultLabel".concat(this.id)),this.core.clearText(zn,"closedDealResultText".concat(this.id))}}])&&Mb(t.prototype,n),i&&Mb(t,i),a}(Cv);function Vb(e){return(Vb="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Hb(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ub(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function Wb(e,t){return(Wb=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Yb(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=Xb(e);if(t){var r=Xb(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return Qb(this,n)}}function Qb(e,t){return!t||"object"!==Vb(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Xb(e){return(Xb=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var zb=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Wb(e,t)}(a,e);var t,n,i,r=Yb(a);function a(e,t,n,i,o){var s,c=arguments.length>5&&void 0!==arguments[5]&&arguments[5],l=arguments.length>6&&void 0!==arguments[6]?arguments[6]:0;return Hb(this,a),(s=r.call(this,e,t)).optionData=n,s.id=n.id,s.value=n.value,s.time=n.time,s.titleText=i,s.currencyText=o,s.rendered=!1,s.isMobile=c,s.betElement=l,s.betElementPopupGraphics=null,s.betElementPopupButtonGraphics=null,s.betElementPopupText=null,s.betElementPopupButtonText=null,s}return t=a,(n=[{key:"updateCancelPrice",value:function(){if(this.hasCancelButton()){var e=yr(this.currentTime,this.timeZone,this.optionData);this.betElementPopupButtonText.text=e>0?pa({amount:e,currency:this.currencyText}):"-"}}},{key:"hasCancelButton",value:function(){return null!==this.betElementPopupButtonText}},{key:"shouldRerender",value:function(){return this.isChangedFromTo()||this.isChangedMinMax()||this.isSizeChanged()}},{key:"drawTitle",value:function(e,t,n,i,r){var a=this.core.getText(jn,"".concat(e,"-").concat(this.id),t,n);return a.setTransform(i,r),a}},{key:"drawRoundedRect",value:function(e,t,n,i,r,a){var o=this.core.getDynamicGraphics(jn,"".concat(e,"-").concat(this.id));return o.isNew&&(o.graphics.beginFill(t.getHEXNUM(),t.getAlpha()),o.graphics.drawRoundedRect(0,-i,n,i,4),o.graphics.endFill(),o.graphics.beginFill(16777215,.01),o.graphics.drawRoundedRect(0,-i,n,i+8,4),o.graphics.endFill()),o.graphics.setTransform(r,a),o}},{key:"drawButtonRoundedRect",value:function(e,t,n,i,r,a){var o=this.core.getDynamicGraphics(jn,"".concat(e,"-").concat(this.id));return o.isNew&&(o.graphics.beginFill(t.getHEXNUM(),t.getAlpha()),o.graphics.drawRoundedRect(0,-i,n,i,4),o.graphics.endFill()),o.graphics.setTransform(r,a),o}},{key:"draw",value:function(){if(this.updateCancelPrice(),!this.rendered||this.shouldRerender()){this.rendered=!0;var e=this.betElement.rectPosition.x+(this.betElement.rectSize.width-150)/2,t=this.betElement.rectPosition.y+-16;this.betElementPopupGraphics=this.drawRoundedRect("betElementPopupGraphics",this.colors.betElementPopupRectangleColor,150,78,e,t),this.betElementPopupButtonGraphics=this.drawButtonRoundedRect("betElementPopupButtonGraphics",this.colors.betElementPopupButtonRectangleColor,126,30,e+12,t+-10),this.betElementPopupText=this.drawTitle("betElementPopupText",h("Sell the trade"),w.CHART.S_POPUP_TITLE,e+75,t+-58.5),this.betElementPopupButtonText=this.drawTitle("betElementPopupButtonText","".concat(this.valueText),w.CHART.S_POPUP_BUTTON,e+75,t+-24.96),this.betElementPopupGraphics.graphics.interactive=!0,this.betElementPopupText.interactive=!1,this.betElementPopupButtonText.interactive=!1,this.interactiveGraphics=this.betElementPopupButtonGraphics.graphics,this.interactiveGraphics.interactive=!0,this.interactiveGraphics.buttonMode=!0,this.updateCancelPrice()}}},{key:"isOverOnElement",value:function(e,t){var n=this.core,i=n.renderer,r=n.stage,a=i.plugins.interaction.hitTest(new dg.n(e,t),r);return!!a&&!(!this.betElementPopupGraphics||!this.betElementPopupGraphics.graphics||a!==this.betElementPopupGraphics.graphics&&a!==this.betElementPopupButtonGraphics.graphics)}},{key:"destroy",value:function(){this.core.destroyDynamicGraphicsNew(jn,"betElementPopupGraphics-".concat(this.id)),this.core.destroyDynamicGraphicsNew(jn,"betElementPopupButtonGraphics-".concat(this.id)),this.core.destroyText("betElementPopupText-".concat(this.id)),this.core.destroyText("betElementPopupButtonText-".concat(this.id))}},{key:"getOptionData",value:function(){return this.optionData}}])&&Ub(t.prototype,n),i&&Ub(t,i),a}(Cv);function Kb(e){return(Kb="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Jb(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function qb(e,t){return(qb=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Zb(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=eE(e);if(t){var r=eE(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return $b(this,n)}}function $b(e,t){return!t||"object"!==Kb(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function eE(e){return(eE=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var tE="light",nE="dark",iE="black",rE=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&qb(e,t)}(a,e);var t,n,i,r=Zb(a);function a(e,t){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(n=r.call(this,e,t)).deadlineString=h("Beginning of trade"),n.destroyed=!0,n.beginningSpriteKey="beginning-icon-",n.isBeginningTradeSpritesCreated=!1,n.previousValueX=-1,n.previousValueY=-1,n}return t=a,(n=[{key:"isLastCandleOnScreen",value:function(e){return!e||!this.lastEndCandle||e.time===this.lastEndCandle.time}},{key:"draw",value:function(){if(this.pointsManager.points.length)if(this.isHideTradingUI)this.destroyed||this.destroy();else{this.isBeginningTradeSpritesCreated||(this.createBeginningTradeSprites(),this.updateBeginningTradeSprites()),this.isThemeChanged()&&this.updateBeginningTradeSprites();var e=this.pointsManager.currentValue,t=this.getYFromValue(e);if(isFinite(t)&&!isNaN(t)&&t>0&&t<this.height-w.CHART.TIME_STEP_H){var n=this.getXFromTime(this.isLineChart()?this.pointsManager.currentTime:this.endCandle.time);if(this.previousValueX!==n||this.previousValueY!==t||this.destroyed||this.isChangedMinMax()||this.isSizeChanged()){var i=this.filterPoints(this.pointsManager.candles),r=Array.from(i),a=this.isLastCandleOnScreen(r[r.length-1])?r[r.length-1]:null,o=a?Math.min(this.getYFromValue(a.maxValue),this.getYFromValue(a.minValue)):t,s=a?Math.max(this.getYFromValue(a.maxValue),this.getYFromValue(a.minValue)):t,c=a?8:0,l=this.core.getGraphicsNew(hn),u=this.core.getGraphicsNew(dn),h=this.formatStringPrice(e),d=this.core.getText(Yn,"valueMarker",h,w.CHART.S_VALUE),f=this.width-d.width-3*w.CHART.CURSOR_VALUE_BG_H_MARGIN;d.x=f+w.CHART.CURSOR_VALUE_BG_H_MARGIN,d.y=t-d.height/2;var p=d.width+2*w.CHART.CURSOR_VALUE_BG_H_MARGIN;l.clear(),l.lineStyle(1,this.colors.valueLineColor.getHEXNUM(),this.colors.valueLineColor.getAlpha()),l.dashedLine({x:0,y:t},{x:f,y:t},5,4),l.endFill();var m=d.height+2*w.CHART.CURSOR_VALUE_BG_V_MARGIN;u.clear(),u.lineStyle(0),u.beginFill(this.colors.valueBadgeLineColor.getHEXNUM(),this.colors.valueBadgeLineColor.getAlpha()),u.drawRoundedRect(f,t-m/2,p,m,m/2),u.endFill(),l.lineStyle(1,this.colors.valueLineColor.getHEXNUM(),this.colors.valueLineColor.getAlpha()),l.dashedLine({x:n,y:0},{x:n,y:o-c},5,4),l.dashedLine({x:n,y:s+c},{x:n,y:this.height},5,4),l.endFill(),this.drawBeginningTradeIcon(n),this.drawBeginningTradeText(n),this.destroyed=!1,this.previousValueX=n,this.previousValueY=t}}else this.destroy()}else this.destroyed||this.destroy()}},{key:"drawBeginningTradeText",value:function(e){var t=this.colors.expirationLineTextColor,n=this.core.getText(Fn,"beginning-trade-text",this.deadlineString,w.CHART.S_GRID,t.getHEXNUM(),"right");n.alpha=t.getAlpha(),n.x=e-n.width-10,n.y=this.getTopMargin()}},{key:"getBeginningTradeSpriteKey",value:function(e){return this.beginningSpriteKey+"_"+e}},{key:"getBeginningTradeSpriteSrc",value:function(e){switch(e){case tE:return"/trade-room/images/arrow-right.svg";case nE:return"/trade-room/images/arrow-right-dark.svg";case iE:return"/trade-room/images/arrow-right-black.svg"}return null}},{key:"getBeginningTradeSpriteTypeByTheme",value:function(e){switch(e){case Av.LIGHT:return tE;case Av.DARK:return nE;case Av.BLACK:return iE}return tE}},{key:"getBeginningTradeSprite",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return this.core.getSprite(Fn,this.getBeginningTradeSpriteKey(e),t?this.getBeginningTradeSpriteSrc(e):null)}},{key:"createBeginningTradeSprites",value:function(){var e=this.getBeginningTradeSprite(tE,!0).sprite,t=this.getBeginningTradeSprite(nE,!0).sprite,n=this.getBeginningTradeSprite(iE,!0).sprite;e.visible=!1,t.visible=!1,n.visible=!1,this.isBeginningTradeSpritesCreated=!0}},{key:"updateBeginningTradeSprites",value:function(){var e=this.getBeginningTradeSprite(tE).sprite,t=this.getBeginningTradeSprite(nE).sprite,n=this.getBeginningTradeSprite(iE).sprite;e.visible=this.theme===Av.LIGHT,t.visible=this.theme===Av.DARK,n.visible=this.theme===Av.BLACK}},{key:"drawBeginningTradeIcon",value:function(e){var t=this.getBeginningTradeSprite(this.getBeginningTradeSpriteTypeByTheme(this.theme));t&&t.sprite&&t.sprite.setTransform(e-17,this.getTopMargin()-10)}},{key:"destroyBeginningTradeIcon",value:function(){this.isBeginningTradeSpritesCreated&&(this.core.clearSprite(Fn,this.getBeginningTradeSpriteKey(tE)),this.core.clearSprite(Fn,this.getBeginningTradeSpriteKey(nE)),this.core.clearSprite(Fn,this.getBeginningTradeSpriteKey(iE)),this.isBeginningTradeSpritesCreated=!1)}},{key:"destroyTexts",value:function(){this.core.clearText(Fn,"valueMarker"),this.core.clearText(Fn,"beginning-trade-text")}},{key:"destroy",value:function(){this.destroyed=!0,this.core.clearGraphicsNew(hn),this.core.clearGraphicsNew(dn),this.destroyTexts(),this.destroyBeginningTradeIcon()}},{key:"getTopMargin",value:function(){return this.isMobile?w.CHART.CHART_TOP_MARGIN_M:w.CHART.CHART_TOP_MARGIN}}])&&Jb(t.prototype,n),i&&Jb(t,i),a}(Cv);function aE(e){return(aE="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function oE(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function sE(e,t){return(sE=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function cE(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=uE(e);if(t){var r=uE(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return lE(this,n)}}function lE(e,t){return!t||"object"!==aE(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function uE(e){return(uE=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var hE=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&sE(e,t)}(a,e);var t,n,i,r=cE(a);function a(e,t,n,i,o){var s;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(s=r.call(this,e,t)).drawingsManager=n,s.position=dt,s.enableGridSnapping=i,s.onCreateNotification=o,s.destroyed=!0,s}return t=a,(n=[{key:"drawRingIcon",value:function(e,t){var n=this.theme===Av.DARK,i=this.theme===Av.BLACK,r=n||i?"dark":"light",a=this.core.getSprite(Hn,"cursor-element-ring-icon-".concat(this.id),"/trade-room/images/ring_".concat(r,".svg"));return a.sprite||(a.sprite=new dg.s),a.sprite.interactive=!1,a.sprite.anchor.set(.5),a.sprite.setTransform(e,t),a.sprite.scale.set(.35),a.sprite}},{key:"draw",value:function(){var e=this.drawingsManager.getSelectedDrawings().length>0;if(this.pointerX<=0||this.pointerY<=0||!this.showCursorPointer)this.destroyed||this.destroy();else if(this.isPointerChanged()||this.isTimezoneChanged()){this.core.clearGraphicsNew(sn),this.core.clearGraphicsNew(cn),this.core.clearSprite(Hn,"cursor-element-ring-icon-".concat(this.id));var t=dr(this.selectedPlotType,this.chartPeriod),n=this.timeZone,i=this.getTimeFromX(this.pointerX-.5+this.shift);if(this.enableGridSnapping&&!this.isLineChart()){var r=i%t,a=i-r;i=r>t/2?a+t:a}var o,s=this.getXFromTime(i),c=this.pointerY-.5,l=this.core.getGraphicsNew(sn);if(e)this.core.clearText(Vn,"cursor"),l.lineStyle(1,this.colors.crosshairLineColor.getHEXNUM(),this.colors.crosshairLineColor.getAlpha()),l.moveTo(s,0),l.lineTo(s,this.worldHeight-w.CHART.TIME_STEP_H-w.CHART.TIME_STEP_H_OFFSET),l.lineStyle(0);else{var u=this.core.getText(Vn,"cursor",$m(this.pointsInElement,i+n,this.shouldShowMs()),w.CHART.S_CURSOR,this.colors.crosshairBadgeTextColor.getHEXNUM()),h=u.width+2*w.CHART.CROSS_B_BG_SIDE_PADDING,d=u.height+2*w.CHART.CURSOR_VALUE_BG_V_MARGIN;u.y=this.worldHeight-d/2-u.height/2,u.x=s-h/2+w.CHART.CROSS_B_BG_SIDE_PADDING,l.lineStyle(1,this.colors.crosshairLineColor.getHEXNUM(),this.colors.crosshairLineColor.getAlpha()),l.moveTo(s,0),l.lineTo(s,this.worldHeight-w.CHART.TIME_STEP_H-w.CHART.TIME_STEP_H_OFFSET),l.lineStyle(0),l.beginFill(this.colors.crosshairBadgeColor.getHEXNUM(),this.colors.crosshairBadgeColor.getAlpha()),l.drawRoundedRect(s-h/2,this.worldHeight-d,h,d,4),l.endFill()}if(this.pointerInElement?(o="".concat(this.pointerInElementValueY),this.pointerInElementValueY.length&&(o+=this.pointerInElementValueSymbol)):o=this.formatStringPrice(this.getValueFromY(c)),o.length){if(c<this.worldHeight-w.CHART.TIME_STEP_H){var f=this.core.getGraphicsNew(sn),p=this.isMobile?null:this.core.getGraphicsNew(cn);if(p.interactive=!0,p.buttonMode=!0,this.interactiveGraphics=p,e){this.core.clearText(Vn,"cursorValue");var m=this.width-8*w.CHART.CURSOR_VALUE_BG_H_MARGIN;f.lineStyle(1,this.colors.crosshairLineColor.getHEXNUM(),this.colors.crosshairLineColor.getAlpha()),f.moveTo(0,c),f.lineTo(m-w.CHART.TIME_STEP_H_OFFSET,c)}else{var y=this.core.getText(Vn,"cursorValue",o,w.CHART.S_CURSOR,this.colors.crosshairBadgeTextColor.getHEXNUM()),g=y.width+2*w.CHART.CURSOR_VALUE_BG_H_MARGIN,v=y.height+2*w.CHART.CURSOR_VALUE_BG_V_MARGIN,b=this.width-g-w.CHART.CURSOR_VALUE_BG_H_MARGIN;if(f.lineStyle(1,this.colors.crosshairLineColor.getHEXNUM(),this.colors.crosshairLineColor.getAlpha()),f.moveTo(0,c),f.lineTo(b-w.CHART.TIME_STEP_H_OFFSET,c),f.lineStyle(0),f.beginFill(this.colors.crosshairBadgeColor.getHEXNUM(),this.colors.crosshairBadgeColor.getAlpha()),f.drawRoundedRect(b,c-v/2,g,v,4),f.endFill(),y.x=b+w.CHART.CURSOR_VALUE_BG_H_MARGIN,y.y=c-y.height/2,p){var E={width:24,height:22};p.beginFill(this.colors.crosshairBadgeColor.getHEXNUM(),this.colors.crosshairBadgeColor.getAlpha()),p.drawRoundedRect(b-E.width-1,c-v/2,E.width,E.height,4),p.endFill(),this.drawRingIcon(b-E.width-1+E.width/2,c-v/2+E.height/2)}}}else this.core.clearText(Vn,"cursorValue");this.destroyed=!1}else this.destroy()}}},{key:"shouldShowMs",value:function(){return this.secondWidth>w.CHART.MIN_WIDTH_MS&&ur(this.selectedPlotType)}},{key:"destroy",value:function(){this.destroyed=!0,this.core.clearSprite(Hn,"cursor-element-ring-icon-".concat(this.id)),this.core.clearGraphicsNew(sn),this.core.clearGraphicsNew(cn),this.core.clearText(Vn,"cursor"),this.core.clearText(Vn,"cursorValue")}}])&&oE(t.prototype,n),i&&oE(t,i),a}(Cv);function dE(e){return(dE="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function fE(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function pE(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function mE(e,t){return(mE=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function yE(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=vE(e);if(t){var r=vE(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return gE(this,n)}}function gE(e,t){return!t||"object"!==dE(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function vE(e){return(vE=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var bE=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&mE(e,t)}(a,e);var t,n,i,r=yE(a);function a(e,t){var n,i=arguments.length>3?arguments[3]:void 0;return fE(this,a),(n=r.call(this,e,t)).position=dt,n.textKeysValueGrid=[],n.textKeysTimeLine=[],n.renderedHover=!1,n.showRule=void 0===i||i,n.initColors(),n}return t=a,(n=[{key:"initColors",value:function(){var e=this.core.isWebGLRenderer();this.gatesBgAlpha=e?.05:.1,e&&(this.upBgGradientFilter=new kv(this.colors.upBgFrom,this.colors.upBgTo,!1,!1,.1),this.downBgGradientFilter=new kv(this.colors.downBgFrom,this.colors.downBgTo,!1,!1,.1))}},{key:"drawHoverBtn",value:function(){if(0!==this.pointsManager.points.length&&(this.hoverCallBtn||this.hoverPutBtn)){this.renderedHover=!0;var e=this.pointsManager,t=e.currentValue,n=this.getYFromValue(t);if(this.getXFromTime(e.currentTime),this.hoverCallBtn){var i=this.core.getGraphics(nn);i.beginFill(this.colors.upBgTo.getHEXNUM(),this.gatesBgAlpha),i.drawRect(0,0,this.width,n),i.endFill(),i.interactive=!1,this.core.isWebGLRenderer()&&(i.filters=[this.upBgGradientFilter.filter])}if(this.hoverPutBtn){var r=this.core.getGraphics(rn);r.beginFill(this.colors.downBgFrom.getHEXNUM(),this.gatesBgAlpha),r.drawRect(0,n,this.width,this.height-n),r.endFill(),r.interactive=!1,this.core.isWebGLRenderer()&&(r.filters=[this.downBgGradientFilter.filter])}}else this.renderedHover&&(this.renderedHover=!1)}},{key:"getNiceAxis",value:function(e,t){var n,i,r=0,a=[0,1.2,2.5,5,10],o=this.isMobile?[.2,.5,1,2]:[.1,.2,.5,1,2];n=0===e?0:e>0?Math.max(0,e-(t-e)/100):e-(t-e)/100,i=0===t?0===e?1:0:t<0?Math.min(0,t+(t-e)/100):t+(t-e)/100;for(var s=Math.log(i-n)/Math.log(10),c=Math.pow(10,s-Math.floor(s)),l=0;c>a[l];l++)r=o[l]*Math.pow(10,Math.floor(s));var u=r*Math.floor(n/r),h=r*Math.floor(i/r+1);return[u,h,r,Math.floor((h-u)/r)]}},{key:"drawTimeline",value:function(){if(this.isChangedMinMax()||this.isChangedFromTo()||this.isSizeChanged()||this.isThemeChanged()||this.isOptionTypeChanged()||this.isTimezoneChanged()||this.forceCleared){var e=w.CHART.TIME_STEP,t=this.secondWidth;if(!(t<=0)){this.core.clearGraphicsNew(Xt),this.destroyTimeLineKeys();var n=w.CHART.TIME_STEP_W,i=$m(this.pointsInElement,Math.floor(this.getTimeFromX(this.shift)/e)),r=w.CHART.S_GRID,a=1.1*dg.v.measureText(i,new dg.w(r)).width;for(a>n&&(n=a);e*t<n;)e+=e;var o=Math.floor(this.getTimeFromX(this.shift)/e)*e,s=(Math.ceil(this.getTimeFromX(this.shift+this.width)/e)+1)*e,c=o,l=this.timeZone,u=isNaN(this.gridOpacity)?30:5*this.gridOpacity,h=this.core.getGraphicsNew(Xt);h.interactive=!1;var d=void 0,f=this.worldHeight-w.CHART.TIME_STEP_MARGIN_BOTTOM;for(h.lineStyle(.5,this.colors.gridLineColor.getHEXNUM(),u/100);c!==s;)if(this.isFastOption()&&c===this.expirationTime||!this.isFastOption()&&c===this.deadlineTime)c+=e;else{if(d=Math.floor(this.getXFromTime(c))+.5,h.moveTo(d,0),h.lineTo(d,f-w.CHART.TIME_STEP_H),this.showRule){var p="timeline-".concat(c),m=this.core.getText(An,p,$m(this.pointsInElement,c+l),w.CHART.S_GRID);m.style.fill=this.colors.gridTextColor.getHEXNUM(),m.x=d-m.width/2,m.y=f-w.CHART.TIME_STEP_H/2-m.height/2,m.interactive=!1,this.textKeysTimeLine.push(p)}c+=e}h=null}}}},{key:"drawValueGrid",value:function(){if(!(this.minVal<=0)&&(this.isChangedMinMax()||this.isChangedFromTo()||this.isSizeChanged()||this.isThemeChanged()||this.forceCleared)){this.core.clearGraphicsNew(Qt),this.destroyValueGridKeys();var e=this.core.getGraphicsNew(Qt),t=this.maxVal,n=this.minVal;e.interactive=!1;var i=isNaN(this.gridOpacity)?30:5*this.gridOpacity;if(t>n){var r=this.getNiceAxis(n,t),a=0;for(e.lineStyle(.5,this.colors.gridLineColor.getHEXNUM(),i/100);a<=r[3];){var o=r[0]+r[2]*a,s=Math.floor(this.getYFromValue(o))+.5;if(s<this.height-w.CHART.TIME_STEP_H&&s>0){var c=this.formatStringPrice(o);if(e.moveTo(0,s),e.lineTo(this.width,s),this.showRule){var l="valuegrid-".concat(c),u=this.core.getText(An,l,c,w.CHART.S_GRID,null,"right");u.style.fill=this.colors.gridTextColor.getHEXNUM(),u.x=this.width-u.width-w.CHART.CURSOR_VALUE_BG_H_MARGIN,u.y=s-u.height-5,u.interactive=!1,u=null,this.textKeysValueGrid.push(l)}}a++}}e=null}}},{key:"draw",value:function(){this.isThemeChanged()&&this.initColors(),this.drawValueGrid(),this.drawTimeline(),this.drawHoverBtn()}},{key:"destroyValueGridKeys",value:function(){for(var e=0;e<this.textKeysValueGrid.length;e++)this.core.clearText(An,this.textKeysValueGrid[e]);this.textKeysValueGrid=[]}},{key:"destroyTimeLineKeys",value:function(){for(var e=0;e<this.textKeysTimeLine.length;e++)this.core.clearText(An,this.textKeysTimeLine[e]);this.textKeysTimeLine=[]}}])&&pE(t.prototype,n),i&&pE(t,i),a}(Cv);function EE(e){return(EE="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function AE(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function wE(e,t){return(wE=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function _E(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=SE(e);if(t){var r=SE(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return OE(this,n)}}function OE(e,t){return!t||"object"!==EE(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function SE(e){return(SE=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var CE=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&wE(e,t)}(a,e);var t,n,i,r=_E(a);function a(e,t){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(n=r.call(this,e,t)).offsetX=35,n.destroyed=!0,n.offsetBorder=6,n}return t=a,(n=[{key:"draw",value:function(){if(ur(this.selectedPlotType)||this.pointsInElement<=1||this.isThemeChanged())this.destroyed||this.destroy();else if(this.isHideTradingUI)this.destroyed||this.destroy();else{this.destroyed=!1;var e=this.pointsManager.currentTime,t=this.pointsManager.currentValue,n=parseInt(this.pointsInElement-parseInt(e)%this.pointsInElement,10),i=this.getXFromTime(e),r=this.getYFromValue(t),a=this.core.getText(Gn,"timeToEnd",Je(n),w.CHART.S_PROFIT,this.colors.timeToEndElementColor.getHEXNUM()),o=this.core.getDynamicGraphics(Fn,"timeToEndBlock",!0);o.isNew&&(o.graphics.beginFill(this.colors.timeToEndElementBg.getHEXNUM(),this.colors.timeToEndElementBg.getAlpha()),o.graphics.drawRoundedRect(-this.offsetBorder/2,-this.offsetBorder/2-a.height/2,a.width+this.offsetBorder,a.height+this.offsetBorder,4),o.graphics.endFill()),o.graphics.setTransform(i+this.offsetX,r),a.x=i+this.offsetX,a.y=r-a.height/2}}},{key:"destroy",value:function(){this.destroyed=!0,this.core.clearText(Gn,"timeToEnd"),this.core.clearDynamicGraphicsNew("timeToEndBlock")}}])&&AE(t.prototype,n),i&&AE(t,i),a}(Cv);function TE(e){return(TE="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function kE(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function IE(e,t){return(IE=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function PE(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=xE(e);if(t){var r=xE(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return NE(this,n)}}function NE(e,t){return!t||"object"!==TE(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function xE(e){return(xE=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var RE=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&IE(e,t)}(a,e);var t,n,i,r=PE(a);function a(e,t,n,i,o){var s;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(s=r.call(this,e,t)).fadeAnimator=new gv,s.id=n,s.time=i,s.offset=o,s.fadeAnimator.curveType=Nt,s.fadeAnimator.calculateToOne=!1,s.fadeAnimator.timeout=0,s.fadeAnimator.duration=.4,s.fadeAnimator.currentValue=0,s.fadeAnimator.fromValue=0,s.fadeAnimator.enabled=!1,s.darkThemeImage="/trade-room/images/pending.png",s.lightThemeImage="/trade-room/images/pending.png",s.initTileTexture(),s}return t=a,(n=[{key:"initTileTexture",value:function(){var e=new dg.a(this.darkThemeImage);this.tileTexture=new dg.x(e)}},{key:"fade",value:function(){this.fadeAnimator.fromValue=0,this.fadeAnimator.enabled=!0,this.fadeAnimator.setToValue(1)}},{key:"draw",value:function(){var e=this.getXFromTime(this.time-this.offset),t=this.getXFromTime(this.time);if(t>0&&t>e){var n=this.core.getTilingSprite(_n,"pendingAreaSprite".concat(this.id),this.tileTexture,10,10).sprite;this.fadeAnimator.setTime(this.ts),n.tilePosition.x-=.75,n.width=t,n.height=this.height,n.position.x=e,this.fadeAnimator.enabled?n.alpha=.7*(1-this.fadeAnimator.getValue()):n.alpha=.7,n.setTransform(0,0,0,0)}else this.clearSprite()}},{key:"destroy",value:function(){this.clearSprite()}},{key:"clearSprite",value:function(){this.core.clearSprite(_n,"pendingAreaSprite".concat(this.id)),this.core.destroyDynamicGraphicsNew(_n,"pendingAreaSprite".concat(this.id))}}])&&kE(t.prototype,n),i&&kE(t,i),a}(Cv);var DE=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;return+Number(e).toFixed(t)};function ME(e){return(ME="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function BE(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function LE(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function jE(e,t){return(jE=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function FE(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=VE(e);if(t){var r=VE(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return GE(this,n)}}function GE(e,t){return!t||"object"!==ME(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function VE(e){return(VE=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var HE=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&jE(e,t)}(a,e);var t,n,i,r=FE(a);function a(e,t,n,i,o,s){var c,l=arguments.length>6&&void 0!==arguments[6]&&arguments[6],u=arguments.length>7&&void 0!==arguments[7]?arguments[7]:0;return BE(this,a),(c=r.call(this,e,t)).isRay=l,c.pointIndex=u,c.dragDetectionRadius=10,c.drawable=!0,c.showing=!1,c.index=0,c.x=0,c.y=0,c.isDragging=!1,c.orientation=null,c.index=n,c.price=parseFloat(i),c.time=parseFloat(o),c.orientation=s,c.isSelected=!1,c.lastIsSelected=!1,c.cursor="nesw-resize",c.isAllowShiftBounding=!0,c.settings=null,c.isSettingsUpdated=!1,c.key=c.isRay?"".concat(c.index).concat(c.pointIndex):c.index,c}return t=a,(n=[{key:"updateSettings",value:function(e){this.settings=e,this.isSettingsUpdated=!0}},{key:"isSelectedChanged",value:function(){return this.isSelected!==this.lastIsSelected}},{key:"move",value:function(e,t,n){switch(this.isDragging=n,this.orientation){case pt:this.x=e,this.y=t;break;case mt:this.x=e,this.y=this.yShift+this.height/2;break;case yt:this.x=this.width/2,this.y=t;break;case gt:this.y=t}this.isAllowShiftBounding&&(this.y<this.yShift&&(this.y=this.yShift),this.y>this.yShift+this.height&&(this.y=this.yShift+this.height)),this.setTime(this.getTimeFromX(this.shift+this.x)),this.setPrice(this.getValueFromY(this.y))}},{key:"stop",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.isDragging=!1,this.setTime(this.getTimeFromX(this.shift+this.x)),this.setPrice(this.getValueFromY(this.y)),e&&this.saveDrawingPoint()}},{key:"setTime",value:function(e){this.time=this.roundTime(e)}},{key:"setPrice",value:function(e){this.price=this.roundPrice(e)}},{key:"roundTime",value:function(e){return DE(e,3)}},{key:"roundPrice",value:function(e){return DE(e,this.currentDigit)}},{key:"getPointData",value:function(){return{drawingId:this.index,time:this.roundTime(this.time),price:this.roundPrice(this.price),point:this.pointIndex,assetId:this.assetId,chartId:this.chartId}}},{key:"saveDrawingPoint",value:function(){Bu.dispatch({type:"DRAW.POINT.CHANGE",payload:this.getPointData()})}},{key:"calculate",value:function(){this.isDragging||this.updateCoordinates()}},{key:"setCursor",value:function(e){this.cursor=e}},{key:"prepareColor",value:function(e){return e instanceof bv?e.getHEXNUM():"#"===e.charAt(0)?parseInt(e.substring(1),16):e}},{key:"draw",value:function(){if(this.drawable&&this.isShowing()&&this.x<=this.width&&this.x>=0&&this.y>=this.yShift&&this.y<=this.yShift+this.height||this.isSettingsUpdated){var e=this.core.getDynamicGraphics(kn,"draggablePoint-".concat(this.key),!1,!0),t=this.isSelected?2:1,n=this.settings?this.prepareColor(this.settings.lines.main.color):0;(e.isNew||this.isThemeChanged()||this.isSelectedChanged())&&(this.clear(),e.graphics.beginFill(n,1,!0),e.graphics.drawCircle(0,0,8),e.graphics.endFill(),e.graphics.beginFill(this.colors.white.getHEXNUM(),this.colors.white.getAlpha(),!0),e.graphics.drawCircle(0,0,8-t),e.graphics.endFill()),this.isMobile&&(this.showing=!0),e.graphics.visible=!!this.isSelected||this.showing,this.lastIsSelected=this.isSelected,e.graphics.setTransform(this.x,this.y,1,1),e.graphics.cursor=this.cursor;var i=new dg.c(0,0,this.dragDetectionRadius);e.graphics.hitArea=i,this.interactiveGraphics=e.graphics,this.isSettingsUpdated=!1}else this.clear()}},{key:"updateCoordinates",value:function(){switch(this.orientation){case pt:this.x=this.getXFromTime(this.time),this.y=this.getYFromValue(this.price);break;case mt:this.x=this.getXFromTime(this.time),this.y=this.yShift+this.height/2;break;case yt:this.x=this.width/2,this.y=this.getYFromValue(this.price);break;case gt:this.x=this.getXFromTime(this.time),this.y=this.getYFromValue(this.price)}}},{key:"setShowing",value:function(e){this.showing=e,this.graph&&(this.graph.graphics.visible=e)}},{key:"getDragDetectionRadius",value:function(){return this.dragDetectionRadius}},{key:"clear",value:function(){this.core.clearDynamicGraphicsNew(this.graphicElementIndex)}},{key:"destroy",value:function(){this.core.destroyDynamicGraphicsNew(kn,this.graphicElementIndex)}},{key:"graphicElementIndex",get:function(){return"draggablePoint-".concat(this.key)}}])&&LE(t.prototype,n),i&&LE(t,i),a}(Cv),UE=0,WE=1,YE=2,QE=3,XE=5,zE={VLine:8,HLine:9,Ray:10,FibonacciRetracement:16,FibonacciFan:17,TrendLine:18,ParallelChannel:20,CrossLine:21,TrendAngle:22,DisjointChannel:23,Triangle:24,ExtendedLine:25,DateRange:26,PriceRange:27,Pitchfork:29,ArcLine:30,CurveLine:31,Pitchfan:32,CyclicLines:33,GannBox:34};function KE(e){return(KE="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function JE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function qE(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?JE(Object(n),!0).forEach((function(t){ZE(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):JE(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ZE(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function $E(e){if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(e=function(e,t){if(!e)return;if("string"==typeof e)return eA(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return eA(e,t)}(e))){var t=0,n=function(){};return{s:n,n:function(){return t>=e.length?{done:!0}:{done:!1,value:e[t++]}},e:function(e){throw e},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,r,a=!0,o=!1;return{s:function(){i=e[Symbol.iterator]()},n:function(){var e=i.next();return a=e.done,e},e:function(e){o=!0,r=e},f:function(){try{a||null==i.return||i.return()}finally{if(o)throw r}}}}function eA(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function tA(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function nA(e,t){return(nA=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function iA(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=aA(e);if(t){var r=aA(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return rA(this,n)}}function rA(e,t){return!t||"object"!==KE(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function aA(e){return(aA=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var oA=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&nA(e,t)}(a,e);var t,n,i,r=iA(a);function a(e,t,n){var i;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),i=r.call(this,e,t);var o=n.expanded,s=n.id,c=n.type,l=n.visible;return i.color="#ffffff",i.type=null,i.min=w.CHART.DBL_MIN,i.max=-w.CHART.DBL_MIN,i.minValue=w.CHART.DBL_MAX,i.maxValue=w.CHART.DBL_MIN,i.lineWidth=1,i.averageShift=0,i.filteredPoints=[],i.cachedPoints={},i.valueYScaleType=fi,i.elementType=bt,i.index=s,i.cacheId=s,i.initialHeight=0,i.bottomIndicators=[],i.isTouchAreaMoved=!1,i.onHitAreaOver=!1,i.onHitAreaTouched=!1,i.onHitAreaMovedPreviouCursor=null,i.lastInterval=0,i.lastFirstTime=0,i.lastCandlesLength=0,i.isDrawing=!1,i.isExpanded=Kl(c)&&o,i.drawnGraphics=new Set,i.updated=!1,i.isVisible=l,i.settings={},i.canvas=i.core.renderer.view,i}return t=a,(n=[{key:"setDefaultCursor",value:function(){this.canvas.style.cursor="default"}},{key:"setResizeCursor",value:function(){this.canvas.style.cursor="ns-resize"}},{key:"getShowValue",value:function(e){return void 0===e||void 0===e.show||e.show}},{key:"isLine",value:function(e){return void 0!==e&&void 0!==e.color&&void 0!==e.lineWidth}},{key:"isBottomIndicator",value:function(){return void 0!==Xl[this.type]&&!0===Xl[this.type].isBottom}},{key:"reset",value:function(){this.flush(),this.destroy()}},{key:"flush",value:function(){}},{key:"calculate",value:function(){}},{key:"onAfterDraw",value:function(){this.updated=!1}},{key:"isMinimized",value:function(){return this.isBottomIndicator()&&"isMinimized"in this.settings&&this.settings.isMinimized}},{key:"needToDraw",value:function(){return this.isVisible&&(this.updated||this.shouldClearMainGraphLine())&&(!this.isBottomIndicator()||!this.isMinimized())}},{key:"update",value:function(e){this.clearAllDynamicGraphics(),this.flush(),this.isVisible=e.visible,this.isExpanded=Kl(this.type)&&e.expanded,e.requestId===this.index&&(this.index=e.id),this.updateSettings(e.settings),this.updated=!0}},{key:"updateSettings",value:function(e){this.settings=e,this.yShiftAddingValue=this.settings.yShiftAddingValue,this.flush()}},{key:"addDynamicGraphics",value:function(e,t){return this.addDrawnGraphics("dynamic",e,t)}},{key:"addTextGraphics",value:function(e,t){return this.addDrawnGraphics("text",e,t)}},{key:"addDrawnGraphics",value:function(e,t,n){this.drawnGraphics.add({type:e,containerIndex:t,elementIndex:n})}},{key:"clearDynamicGraphics",value:function(e,t){var n,i=$E(this.drawnGraphics.values());try{for(i.s();!(n=i.n()).done;){var r=n.value;if(r.containerIndex===e&&r.elementIndex===t)switch(this.drawnGraphics.delete(r),r.type){case"dynamic":this.core.clearDynamicGraphicsNew(t);break;case"text":this.core.clearText(e,t)}}}catch(e){i.e(e)}finally{i.f()}}},{key:"clearAllDynamicGraphics",value:function(){var e,t=$E(this.drawnGraphics.values());try{for(t.s();!(e=t.n()).done;){var n=e.value,i=n.containerIndex,r=n.elementIndex;switch(this.drawnGraphics.delete(n),n.type){case"dynamic":this.core.clearDynamicGraphicsNew(r);break;case"text":this.core.clearText(i,r)}}}catch(e){t.e(e)}finally{t.f()}}},{key:"getDynamicGraphics",value:function(e,t){for(var n,i=arguments.length,r=new Array(i>2?i-2:0),a=2;a<i;a++)r[a-2]=arguments[a];var o=(n=this.core).getDynamicGraphics.apply(n,[e,t].concat(r));return this.addDynamicGraphics(e,t),o}},{key:"getDynamicGraphicsSelector",value:function(e,t){for(var n,i,r=arguments.length,a=new Array(r>2?r-2:0),o=2;o<r;o++)a[o-2]=arguments[o];var s=this.core.isUseFastCandles()?(n=this.core).getBarsDynamicGraphics.apply(n,[e,t].concat(a)):(i=this.core).getDynamicGraphics.apply(i,[e,t].concat(a));return this.addDynamicGraphics(e,t),s}},{key:"getTextGraphics",value:function(e,t){for(var n,i=arguments.length,r=new Array(i>2?i-2:0),a=2;a<i;a++)r[a-2]=arguments[a];var o=(n=this.core).getText.apply(n,[e,t].concat(r));return this.addTextGraphics(e,t),o}},{key:"prepareColor",value:function(e){return e instanceof bv?e.getHEXNUM():"#"===e.charAt(0)?parseInt(e.substring(1),16):e}},{key:"prepareAlpha",value:function(e){return e instanceof bv?e.getAlpha():1}},{key:"getYShiftAddingValue",value:function(){var e=this.yShiftAddingValue;return(isNaN(e)||void 0===e)&&(e=0),this.isBottomIndicator()?e:0}},{key:"checkTouchStartedOnHitArea",value:function(e,t){this.isBottomIndicator()&&!this.isMinimized()&&((this.isMobile||this.onHitAreaOver)&&(this.onHitAreaTouched=!0),this.onHitAreaMovedPreviouCursor={x:e,y:t})}},{key:"checkTouchEndedOnHitArea",value:function(e,t){this.isBottomIndicator()&&!this.isMinimized()&&(Bu.dispatch(zu(this.index,qE(qE({},this.settings),{},{yShiftAddingValue:this.yShiftAddingValue}),!0)),this.onHitAreaTouched=!1,this.isTouchAreaMoved=!1)}},{key:"getBottomMarginForElement",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=t?cl(e.getYShiftAddingValue(),0,100,0,this.worldHeight):0;return e.isMinimized()?w.CHART.CHART_BOTTOM_PX_MINIMIZED:this.isMobile?w.CHART.CHART_BOTTOM_PX_M+n:e.elementType===bt&&e.isExpanded&&e.isBottomIndicator()?w.CHART.CHART_BOTTOM_PX_EXP:w.CHART.CHART_BOTTOM_PX+n}},{key:"getIndicatorsTotalHeight",value:function(){var e=this;return this.bottomIndicators.reduce((function(t,n){return t+e.getBottomMarginForElement(n)}),0)}},{key:"checkTouchMovedOnHitArea",value:function(e,t){var n=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];if(this.isBottomIndicator()&&!this.isMinimized()){var i=10,r=10,a=new dg.r(e-r/2,t-r/2,r,r),o=new dg.r(0,this.yShift+.5-i/2,this.width,i),s=mr(a,o);if(!this.onHitAreaOver&&s?(this.setResizeCursor(),this.onHitAreaOver=!0,this.isTouchAreaMoved=!0):this.onHitAreaOver&&!s&&(this.setDefaultCursor(),this.onHitAreaOver=!1),this.isTouchAreaMoved&&this.onHitAreaTouched){var c=this.onHitAreaMovedPreviouCursor.y-t,l=cl(c,0,this.worldHeight,0,100);!n&&l>0&&(l=0);var u=this.getIndicatorsTotalHeight(),h=this.worldHeight/2,d=this.getYShiftAddingValue();this.minYShiftAddingValue=-6;var f=cl(h-u,0,this.worldHeight,0,100),p=Math.max(this.minYShiftAddingValue,d+Math.min(f,l));this.maxYShiftAddingValue=f,(l>0&&l<f||l<0&&d>this.minYShiftAddingValue)&&(Bu.dispatch(zu(this.index,qE(qE({},this.settings),{},{yShiftAddingValue:this.yShiftAddingValue}),!1)),this.yShiftAddingValue=p)}this.onHitAreaMovedPreviouCursor={x:e,y:t}}}},{key:"drawBottomIndicatorBorderHitArea",value:function(){var e=this.getDynamicGraphics(Sn,"indicatorBorderHitArea"+this.index);e.isNew&&(e.graphics.lineStyle(4,16711680,.01),e.graphics.moveTo(0,0),e.graphics.lineTo(this.width,0)),e.graphics.y=this.yShift+.5}},{key:"drawBottomIndicatorBorder",value:function(){var e=this.getDynamicGraphics(Sn,"indicatorBorder"+this.index);e.isNew&&(e.graphics.lineStyle(1,this.colors.indicatorBottomBorderColor.getHEXNUM(),this.colors.indicatorBottomBorderColor.getAlpha()),e.graphics.moveTo(0,0),e.graphics.lineTo(this.width,0)),e.graphics.y=this.yShift+.5,e=null,this.drawBottomIndicatorBorderHitArea()}},{key:"getXFromTimeIndicator",value:function(e){return(e-this.startTime)*this.secondWidth-this.shift}},{key:"getYFromValueIndicator",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=(t?this.max-e:e-this.min)/(this.max-this.min);return this.yShift+(this.height-2*w.CHART.CHART_BOTTOM_V_PADDING)*n+w.CHART.CHART_BOTTOM_V_PADDING}},{key:"drawBottomIndicatorBg",value:function(){var e=this.getDynamicGraphics(On,"indicatorBg"+this.index);(e.isNew||this.isThemeChanged())&&(e.isNew||e.graphics.clear(),e.graphics.beginFill(this.colors.indicatorBottomBgColor.getHEXNUM(),this.colors.indicatorBottomBgColor.getAlpha()),e.graphics.drawRect(0,0,this.width,this.height),e.graphics.endFill()),e.graphics.y=this.yShift+.5}},{key:"drawBottomLevelsBg",value:function(e,t,n){var i=this.getYFromPercent(100-t),r=this.getYFromPercent(100-e),a=this.getDynamicGraphics(On,"indicatorLevelsBg-".concat(this.index));(a.isNew||this.isThemeChanged())&&(a.isNew||a.graphics.clear(),a.graphics.beginFill(n.getHEXNUM(),n.getAlpha()),a.graphics.drawRect(0,0,this.width,r-i),a.graphics.endFill()),a.graphics.y=i}},{key:"getYFromPercent",value:function(e){var t=w.CHART.CHART_BOTTOM_V_PADDING;return this.yShift+t+(this.height-2*t)*e/100}},{key:"drawBottomLevel",value:function(e,t,n,i){var r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"",a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,o=Math.floor(this.getYFromPercent(100-t)),s=this.getDynamicGraphics(Sn,"indicatorLevel"+this.index+"_"+e),c=(null===a?t.toString():a)+r,l=0;if(c){var u=this.getTextGraphics(Gn,"indicatorLevelLabel"+this.index+"_"+e,c,w.CHART.S_INDICATORS_B,this.colors.indicatorLevelTextColor.getHEXNUM());u.x=this.width-u.width-7,u.y=o-u.height/2,l=u.width+14}else this.clearDynamicGraphics(Gn,"indicatorLevelLabel"+this.index+"_"+e);s.isNew&&(s.graphics.lineStyle(i,n.getHEXNUM(),n.getAlpha()),s.graphics.moveTo(0,0),s.graphics.lineTo(this.width-l,0)),s.graphics.y=o,s=null}},{key:"drawLine",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";e&&e.length&&this.drawLineWithParams({points:e,elementId:"indicatorLine-".concat(this.index,"-").concat(t),color:this.color,lineWidth:this.lineWidth})}},{key:"drawLineWithParams",value:function(e){var t=e.points,n=e.elementId,i=e.color,r=e.lineWidth,a=e.alpha,o=void 0===a?1:a,s=e.shift,c=void 0===s?null:s;if(t&&0!==t.length){this.shouldClearMainGraphLine()&&this.clearDynamicGraphics(On,n);var l=this.getDynamicGraphics(On,n);l.graphics.lineStyle(r,this.prepareColor(i),o);for(var u=null!=c?c:this.averageShift,h=0;h<t.length;h++){var d=this.getXFromTime(t[h].time+u*this.pointsInElement),f=this.getYFromValue(t[h].value);l.graphics[0===h?"moveTo":"lineTo"](d,f)}}}},{key:"drawBottomLine",value:function(e,t,n,i){var r=arguments.length>4&&void 0!==arguments[4]&&arguments[4];if(e&&e.length){var a=this.getDynamicGraphics(Sn,"bottomIndicatorLine"+this.index+"-"+t,!0);a.graphics.lineStyle(n,this.prepareColor(i),1);for(var o=0;o<e.length;o++){var s=e[o],c=this.getXFromTimeIndicator(s.time+this.averageShift*this.pointsInElement),l=this.getYFromValueIndicator(s.value,r);0===o?a.graphics.moveTo(c,l):a.graphics.lineTo(c,l)}a=null}}},{key:"drawBottomIndicatorHistogram",value:function(e,t,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.5,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:w.CHART.HISTOGRAM_COLOR.DEFAULT,a=this.getDynamicGraphicsSelector(Sn,"indicatorHisto"+this.index,!0);if(a.isNew)for(var o=100===i?this.yShift+w.CHART.CHART_BOTTOM_V_PADDING:this.getYFromPercent(100-100*i),s=this.averageShift*this.pointsInElement,c=this.isLineChart()?1:this.pointsManager.candleWidth,l=(this.max+this.min)*i,u=0,h=this.pointsManager.candleWidth/this.secondWidth,d=this.getTimeFrom()-h,f=this.getTimeTo()+h,p=0;p<e.length;p++){var m=e[p],y=m.time,g=m.value,v=this.getXFromTime(y+s),b=this.getYFromValueIndicator(g,!0),E=y>=d&&y<=f;if(E){var A=null;switch(r){case w.CHART.HISTOGRAM_COLOR.DEFAULT:A=g>u?t:n;break;case w.CHART.HISTOGRAM_COLOR.FROM_ZERO_LEVEL:A=g>l?n:t;break;case w.CHART.HISTOGRAM_COLOR.POSITIVE_NEGATIVE:A=g>0?n:t}a.graphics.beginFill(this.prepareColor(A),this.prepareAlpha(A));var _=b>o?o:b,O=b>o?b-o:o-b;g>0||g<0?a.graphics.drawRect(v-c/2,_,c,O):a.graphics.drawRect(v-c/2,o,c,1),a.graphics.endFill()}u=g}}},{key:"filterIndicatorPoints",value:function(e,t){var n=this.pointsManager.candleWidth/this.secondWidth,i=this.getTimeFrom()-n,r=this.getTimeTo()+n,a=[];if(e&&e.length>0)for(var o=0;o<e.length;o++){var s=e[o];s.time<i||s.time>r||(a.push(s),t&&(this.position===dt?(s.value>this.maxValue&&(this.maxValue=s.value),s.value<this.minValue&&(this.minValue=s.value)):(s.value>this.maxVal&&(this.maxVal=s.value),s.value<this.minVal&&(this.minVal=s.value))))}return a}},{key:"minMaxPush",value:function(e){e>this.max&&(this.max=e),e<this.min&&(this.min=e)}},{key:"minMaxBalance",value:function(){this.max===this.min&&(this.max+=w.CHART.MIN_MAX_MIN_DIFF,this.min-=w.CHART.MIN_MAX_MIN_DIFF)}},{key:"resetMinMax",value:function(){this.min=w.CHART.DBL_MAX,this.max=-w.CHART.DBL_MIN}},{key:"getCachedPoints",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=e||this.cacheId,i=this.getKeyForCache();return this.cachedPoints[n]&&this.cachedPoints[n].key===i&&this.cachedPoints[n].data||t}},{key:"saveCachedPoints",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=this.getKeyForCache(),i=t||this.cacheId;this.cachedPoints[i]={key:n,data:e}}},{key:"getCandleValueBySource",value:function(e,t){if(Object.prototype.hasOwnProperty.call(e,"value"))return e.value;switch(t){case"close":return e.exitValue;case"open":return e.enterValue;case"high":return e.maxValue;case"low":return e.minValue;case"hl2":return(e.maxValue+e.minValue)/2;case"hlc3":return(e.maxValue+e.minValue+e.exitValue)/3;case"ohlc4":return(e.enterValue+e.maxValue+e.minValue+e.exitValue)/4;case"hlcc4":return(e.maxValue+e.minValue+2*e.exitValue)/4}return e.value}},{key:"sma",value:function(e){var t=e.candles,n=void 0===t?[]:t,i=e.cacheId,r=void 0===i?null:i,a=e.source,o=void 0===a?"close":a,s=e.period;return this.getMovingAveragePoints({type:UE,cacheId:r,candles:n,source:o,period:s})}},{key:"getMovingAveragePoints",value:function(e){var t=e.type,n=e.candles,i=void 0===n?[]:n,r=e.cacheId,a=void 0===r?null:r,o=e.source,s=void 0===o?"close":o,c=e.period,l=i.length>0?i:this.candles,u=null===a?"general-".concat(c):a,h=this.getCachedPoints(u);switch(h.length>1&&h.splice(-1,1),t){case UE:for(var d=h.length+c-1;d<l.length;d++)if(!(d<c-1)){for(var f=0,p=0;p<c;p++){var m=d-p;m>=0&&(f+=this.getCandleValueBySource(l[m],s))}var y=f/c;h.push(new wy(y,l[d].time))}break;case WE:for(var g=h.length+c;g<l.length;g++){for(var v=0,b=0,E=0;E<c;E++){var A=g-E;if(A>=0){var w=l[A];v+=this.getCandleValueBySource(w,s)*(c-E),b+=E+1}}var _=v/b;h.push(new wy(_,l[g].time))}break;case YE:h=this.getEMA(h,c,l,null,s);break;case QE:for(var O=h.length+c;O<l.length;O++){var S=0,C=0;if(O===c){S=0;for(var T=0;T<c;T++){var k=O-T;k>=0&&(S+=this.getCandleValueBySource(l[k],s))}C=S/c}else{var I=O-c-1;if(I>=0){var P=h[I],N=this.getCandleValueBySource(l[O],s);C=(P.value*(c-1)+N)/c}}h.push(new wy(C,l[O].time))}}return this.saveCachedPoints(h,a),h}},{key:"getEMA",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"close",a=n.length>0?n:this.candles,o=null===i?2/(t+1):i;if(e)for(var s=e.length+t;s<a.length;s++){var c=this.getCandleValueBySource(a[s],r);0!==e.length&&(c=o*c+(1-o)*e[e.length-1].value),e.push(new wy(c,a[s].time))}return e}},{key:"getKeyForCache",value:function(){var e="";return e+=(this.candles.length>0?this.candles[0].time.toString():"-")+"|",e+=this.pointsManager.interval.toString()}},{key:"recalculateMinMax",value:function(){var e=this;this.resetMinMax();for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];n.forEach((function(t){t.forEach((function(t){e.minMaxPush(t.value)}))})),this.minMaxBalance()}},{key:"checkFlush",value:function(){if(!this.candles.length)return this.flush();var e=this.candles[0].time,t=this.pointsManager.interval;e===this.lastFirstTime&&t===this.lastInterval||this.flush(),this.lastInterval=t,this.lastFirstTime=e}},{key:"convertToMovingAverageConstant",value:function(e){switch(e){case Fl.SMA:return UE;case Fl.WMA:return WE;case Fl.EMA:return YE;case Fl.SMMA:return QE;case Fl.TMA:return XE}return UE}},{key:"destroy",value:function(){var e=this;this.drawnGraphics.forEach((function(t){var n=t.type,i=t.containerIndex,r=t.elementIndex;switch(n){case"dynamic":e.core.destroyDynamicGraphicsNew(i,r);break;case"text":e.core.clearText(i,r)}})),this.drawnGraphics.clear()}},{key:"shouldClearMainGraphLine",value:function(){return!!this.updated||(this.lastCandlesLength!==this.candles.length?(this.lastCandlesLength=this.candles.length,!0):this.isChangedMinMax()||this.isChangedFromTo()||this.isChangedDeadlineTime()||this.isChangedExpirationTime()||this.isChangedToExpTime()||this.isSizeChanged()||this.isThemeChanged()||this.isBottomMarginChanged()||this.isPointsCountChanged()||this.forceCleared)}},{key:"highest",value:function(e,t,n){for(var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,r=null===i?this.candles:i,a=t-n+1,o=t,s=Number.MIN_VALUE,c=a;c<=o;c++){var l=this.getCandleValueBySource(r[c],e);l>s&&(s=l)}return s}},{key:"lowest",value:function(e,t,n){for(var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,r=null===i?this.candles:i,a=t-n+1,o=t,s=Number.MAX_VALUE,c=a;c<=o;c++){var l=this.getCandleValueBySource(r[c],e);l<s&&(s=l)}return s}},{key:"roundValue",value:function(e){return Ov(e,this.currentDigit)}},{key:"maxPeriod",get:function(){return 0}},{key:"candles",get:function(){return ur(this.selectedPlotType)&&this.position!==ft?this.pointsManager.reducedPoints:this.pointsManager.candles}}])&&tA(t.prototype,n),i&&tA(t,i),a}(Cv);function sA(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function cA(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var lA=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];sA(this,e),this.polygons=t}var t,n,i;return t=e,(n=[{key:"contains",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return!(!this.polygons||0===this.polygons.length)&&this.polygons.some((function(n){return n.contains(e,t)}))}}])&&cA(t.prototype,n),i&&cA(t,i),e}();function uA(e){return(uA="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function hA(e){if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(e=function(e,t){if(!e)return;if("string"==typeof e)return dA(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return dA(e,t)}(e))){var t=0,n=function(){};return{s:n,n:function(){return t>=e.length?{done:!0}:{done:!1,value:e[t++]}},e:function(e){throw e},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,r,a=!0,o=!1;return{s:function(){i=e[Symbol.iterator]()},n:function(){var e=i.next();return a=e.done,e},e:function(e){o=!0,r=e},f:function(){try{a||null==i.return||i.return()}finally{if(o)throw r}}}}function dA(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function fA(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function pA(e,t,n){return(pA="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var i=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=bA(e)););return e}(e,t);if(i){var r=Object.getOwnPropertyDescriptor(i,t);return r.get?r.get.call(n):r.value}})(e,t,n||e)}function mA(e,t){return(mA=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function yA(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=bA(e);if(t){var r=bA(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return gA(this,n)}}function gA(e,t){return!t||"object"!==uA(t)&&"function"!=typeof t?vA(e):t}function vA(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function bA(e){return(bA=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function EA(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var AA=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&mA(e,t)}(a,e);var t,n,i,r=yA(a);function a(e,t,n){var i;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),EA(vA(i=r.call(this,e,t,n)),"canBeInitialized",(function(){return!i.isInitiated&&i.isMinMaxCalculated&&i.pointsManager.points.length>1&&i.startTime>0&&void 0!==i.width&&void 0!==i.shift})),EA(vA(i),"initialize",(function(){i.isInitiated=!0})),EA(vA(i),"isPointVisible",(function(e){var t=i.getTimeFrom(),n=i.getValueFrom(),r=i.getTimeTo(),a=i.getValueTo();return t<e.time&&e.time<r&&n<e.price&&e.price<a})),EA(vA(i),"updatePrevPoints",(function(){for(var e=0;e<i.drawingPoints.length;e++){var t=i.drawingPoints[e],n=t.x,r=t.y,a=t.key;i.prevPoints[a]={x:n,y:r}}})),EA(vA(i),"isPointCoordinatesChange",(function(e){var t=e.x,n=e.y,r=e.key,a=i.prevPoints[r]||{},o=a.x,s=a.y;return t!==o||n!==s})),EA(vA(i),"isPointsCoordinatesChange",(function(){for(var e=0;e<i.drawingPoints.length;e++)if(i.isPointCoordinatesChange(i.drawingPoints[e]))return!0;return!1})),i.points=n.points,i.isInitiated=!1,i.isDrawing=!0,i.prevPoints=[],i.hitArea=null,i.isLocked=n.isLocked,i.updateSettings(n.settings),i}return t=a,(n=[{key:"destroy",value:function(){pA(bA(a.prototype),"destroy",this).call(this),this.clearAllDynamicGraphics(),this.prevPoints=[]}},{key:"isDrawingInsideScreen",value:function(){for(var e=0;e<this.drawingPoints.length;e++){var t=this.drawingPoints[e],n=!1;switch(t.orientation){case mt:case yt:return!0;default:n=this.isPointVisible(t)}if(n)return!0}return!1}},{key:"isLineVisible",value:function(e,t){var n=(e.y-t.y)/(e.x-t.x),i=t.y-t.x*n,r=lr(0,0),a=lr(this.width,this.height),o=(r.y-i)/n,s=(a.y-i)/n,c=n*r.x+i,l=n*a.x+i,u=o>=r.x&&o<=a.x,h=s>=r.x&&s<=a.x,d=c>=r.y&&c<=a.y,f=l>=r.y&&l<=a.y;return u||h||d||f}},{key:"needToDraw",value:function(){return!0}},{key:"setIndex",value:function(e){this.index=e,this.drawingPoints.forEach((function(t){return t.index=e}))}},{key:"saveDrawingPoints",value:function(){var e=[];this.drawingPoints.forEach((function(t){e.push(t.getPointData())})),Bu.dispatch(Wu(e))}},{key:"update",value:function(e){e.requestId===this.index&&(this.setIndex(e.id),this.saveDrawingPoints()),this.updateSettings(e.settings),this.isLocked=e.isLocked,this.updated=!0}},{key:"onTick",value:function(){if(this.settings&&"order"in this.settings){var e=this.settings.order;void 0!==e&&e>=0&&this.updateOrder(e)}this.isShowingChange()&&(this.isShowing()||this.interactiveGraphics&&(Array.isArray(this.interactiveGraphics)?this.interactiveGraphics.forEach((function(e){e.interactive=!1,e.buttonMode=!1})):(this.interactiveGraphics.interactive=!1,this.interactiveGraphics.buttonMode=!1)))}},{key:"updateSettings",value:function(e){this.settings=e,this.points.forEach((function(t){return t.updateSettings(e)}))}},{key:"updateOrder",value:function(e){var t,n=hA(this.drawnGraphics.values());try{for(n.s();!(t=n.n()).done;){var i=t.value,r=i.containerIndex,a=i.elementIndex;"text"===i.type&&this.reorderTextGraphics(r,a,e)}}catch(e){n.e(e)}finally{n.f()}var o,s=hA(this.drawnGraphics.values());try{for(s.s();!(o=s.n()).done;){var c=o.value,l=c.containerIndex,u=c.elementIndex;"dynamic"===c.type&&this.reorderDynamicGraphics(l,u,e)}}catch(e){s.e(e)}finally{s.f()}}},{key:"reorderDynamicGraphics",value:function(e,t,n){this.core.reorderDynamicGraphics(this.core.getDynamicGraphics(e,t),n)}},{key:"reorderTextGraphics",value:function(e,t,n){this.core.reorderTextGraphics(this.core.getText(e,t),n)}},{key:"createHitzonePolygon",value:function(e){for(var t=e.graphics,n=e.points,i=[],r=1;r<n.length;r++){var a=n[r-1],o=n[r],s=this.getPerpOfLine(a,o);i.push(a.x+15*s[0],a.y+15*s[1],o.x+15*s[0],o.y+15*s[1])}for(var c=n.length-1;c>=1;c--){var l=n[c-1],u=n[c],h=this.getPerpOfLine(l,u);i.push(u.x-15*h[0],u.y-15*h[1],l.x-15*h[0],l.y-15*h[1])}var d=new dg.o(i);t.hitArea=d,this.hitArea=d}},{key:"makeInterectable",value:function(e,t){e.interactive=this.isShowing(),e.buttonMode=this.isShowing(),e.cursor="move",t instanceof dg.o||t instanceof dg.r||t instanceof lA?(this.hitArea=t,e.hitArea=t):this.createHitzonePolygon({graphics:e,points:t}),this.interactiveGraphics=e}},{key:"setDraggablePointsShowing",value:function(e){this.points.forEach((function(t){return t.setShowing(e)}))}},{key:"getPerpOfLine",value:function(e,t){var n=t.x-e.x,i=t.y-e.y,r=Math.sqrt(n*n+i*i);return[-(i/=r),n/=r]}},{key:"onSelect",value:function(){this.isSelected=!0,this.drawingPoints.forEach((function(e){return e.isSelected=!0}))}},{key:"onDeselect",value:function(){this.isSelected=!1,this.drawingPoints.forEach((function(e){return e.isSelected=!1}))}},{key:"isInsideHitZone",value:function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return this.hitArea&&this.hitArea.contains(e,t)&&(!n||this.isClickedOnElement(e,t))}},{key:"shouldRedraw",value:function(){return this.isPointsCoordinatesChange()||this.isChangedMinMax()||this.isChangedFromTo()||this.isSizeChanged()||this.isThemeChanged()||this.isBottomMarginChanged()||this.isShowingChange()||this.forceCleared||this.updated}},{key:"drawingPoints",get:function(){return[]}}])&&fA(t.prototype,n),i&&fA(t,i),a}(oA);function wA(e){return(wA="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _A(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function OA(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_A(Object(n),!0).forEach((function(t){SA(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_A(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function SA(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function CA(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function TA(e,t,n){return(TA="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var i=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=NA(e)););return e}(e,t);if(i){var r=Object.getOwnPropertyDescriptor(i,t);return r.get?r.get.call(n):r.value}})(e,t,n||e)}function kA(e,t){return(kA=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function IA(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=NA(e);if(t){var r=NA(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return PA(this,n)}}function PA(e,t){return!t||"object"!==wA(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function NA(e){return(NA=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var xA=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&kA(e,t)}(a,e);var t,n,i,r=IA(a);function a(e,t,n){var i;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(i=r.call(this,e,t,n)).elementType=bt,i.type=n.type,i.key="lineBuilding-".concat(i.index),i.setCursor(),i}return t=a,(n=[{key:"updateSettings",value:function(e){TA(NA(a.prototype),"updateSettings",this).call(this,e),this.valueStyle=OA(OA({},w.CHART.TEXT_STYLE_CURSOR_TIME),{},{fill:this.prepareColor(this.settings.lines.main.color)})}},{key:"setCursor",value:function(){this.points.forEach((function(e){switch(e.orientation){case mt:e.setCursor("ew-resize");break;case yt:e.setCursor("ns-resize");break;case pt:e.setCursor("move")}}))}},{key:"calculateInitialPositions",value:function(){switch(this.points[0].orientation){case mt:0===this.points[0].time&&this.points[0].setTime(this.getTimeFromX(this.shift+this.width/2));break;case yt:0===this.points[0].time&&this.points[0].setTime(this.pointsManager.endPoint.time);break;case pt:0===this.points[0].time&&this.points[0].setTime(this.getTimeFromX(this.shift+this.width/2))}0===this.points[0].price&&this.points[0].setPrice(this.minVal+(this.maxVal-this.minVal)/2)}},{key:"calculate",value:function(){this.canBeInitialized()&&(this.calculateInitialPositions(),this.initialize())}},{key:"clearGraphics",value:function(){this.clearAllDynamicGraphics()}},{key:"draw",value:function(){if(this.isDrawingInsideScreen()&&this.isShowing()){if(this.isShowingChange()||this.isSizeChanged()||this.isPointsCoordinatesChange()||this.updated){this.clearGraphics(),this.points[0].isDragging||this.updatePrevPoints();var e=this.settings.lines.main,t=e.color,n=e.lineWidth,i=e.opacity;switch(this.points[0].orientation){case mt:var r=this.getDynamicGraphics(Tn,"line-vertical-".concat(this.index));if(r.graphics.lineStyle(n,this.prepareColor(t),i/100),this.settings.lines.main.lineStyle===sh)r.graphics.moveTo(this.points[0].x,this.yShift),r.graphics.lineTo(this.points[0].x,this.yShift+this.height);else if(this.settings.lines.main.lineStyle===ch||this.settings.lines.main.lineStyle===lh){var a=this.settings.lines.main.lineStyle===ch?8:3;r.graphics.dashedLine(lr(this.points[0].x,this.yShift),lr(this.points[0].x,this.yShift+this.height),5,a)}r.graphics.visible=!0;var o=lr(this.points[0].x,this.yShift),s=lr(this.points[0].x,this.yShift+this.height);this.makeInterectable(r.graphics,[o,s]),r.graphics.cursor="ew-resize";break;case yt:var c=this.getDynamicGraphics(Tn,"line-horizontal-".concat(this.index));if(c.graphics.lineStyle(n,this.prepareColor(t),i/100),this.settings.lines.main.lineStyle===sh)c.graphics.moveTo(0,this.points[0].y),c.graphics.lineTo(this.width,this.points[0].y);else if(this.settings.lines.main.lineStyle===ch||this.settings.lines.main.lineStyle===lh){var l=this.settings.lines.main.lineStyle===ch?8:3;c.graphics.dashedLine(lr(0,this.points[0].y),lr(this.width,this.points[0].y),5,l)}c.graphics.visible=!0;var u=lr(0,this.points[0].y),h=lr(this.width,this.points[0].y);this.makeInterectable(c.graphics,[u,h]),c.graphics.cursor="ns-resize";break;case pt:var d=this.getDynamicGraphics(Tn,"line-cross-".concat(this.index));d.graphics.lineStyle(n,this.prepareColor(t),i/100),d.graphics.moveTo(this.points[0].x,this.yShift),d.graphics.lineTo(this.points[0].x,this.yShift+this.height),d.graphics.moveTo(0,this.points[0].y),d.graphics.lineTo(this.width,this.points[0].y),d.graphics.visible=!0;var f=lr(this.points[0].x,this.yShift),p=lr(this.points[0].x,this.yShift+this.height),m=lr(0,this.points[0].y),y=lr(this.width,this.points[0].y);this.makeInterectable(d.graphics,[f,p,m,y]),d.graphics.cursor="move"}}}else this.clearGraphics()}},{key:"drawingPoints",get:function(){return this.isShowing()?[this.points[0]]:[]}}])&&CA(t.prototype,n),i&&CA(t,i),a}(AA);function RA(e){return(RA="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function DA(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function MA(e,t,n){return(MA="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var i=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=FA(e)););return e}(e,t);if(i){var r=Object.getOwnPropertyDescriptor(i,t);return r.get?r.get.call(n):r.value}})(e,t,n||e)}function BA(e,t){return(BA=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function LA(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=FA(e);if(t){var r=FA(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return jA(this,n)}}function jA(e,t){return!t||"object"!==RA(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function FA(e){return(FA=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var GA=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&BA(e,t)}(a,e);var t,n,i,r=LA(a);function a(e,t,n){var i;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(i=r.call(this,e,t,n)).type=zE.Ray,i.elementType=bt,i.key="rayBuilding-".concat(i.index),i}return t=a,(n=[{key:"calculateInitialPositions",value:function(){var e=Math.floor(60*Math.random()+10),t=e+30;0===this.points[0].time&&this.points[0].setTime(this.getTimeFromX(this.shift+this.width/100*20)),0===this.points[0].price&&this.points[0].setPrice(this.minVal+(this.maxVal-this.minVal)/100*e),0===this.points[1].time&&this.points[1].setTime(this.getTimeFromX(this.shift+(this.width-this.width/100*20))),0===this.points[1].price&&this.points[1].setPrice(this.minVal+(this.maxVal-this.minVal)/100*t)}},{key:"calculate",value:function(){this.canBeInitialized()&&(this.calculateInitialPositions(),this.initialize())}},{key:"isDrawingInsideScreen",value:function(){var e=lr(this.getXFromTime(this.points[0].time),this.getYFromValue(this.points[0].price)),t=lr(this.getXFromTime(this.points[1].time),this.getYFromValue(this.points[1].price));return this.isLineVisible(e,t)}},{key:"shouldRedraw",value:function(){return MA(FA(a.prototype),"shouldRedraw",this).call(this)||this.points[0].isDragging||this.points[1].isDragging}},{key:"draw",value:function(){this.isInitiated&&this.shouldRedraw()&&(this.clearAllDynamicGraphics(),this.updatePrevPoints(),this.isDrawingInsideScreen()&&this.isShowing()&&this.drawLine())}},{key:"drawLine",value:function(){var e=300*(this.points[1].x-this.points[0].x),t=300*(this.points[1].y-this.points[0].y),n=this.settings.lines.main,i=n.color,r=n.lineWidth,a=n.opacity,o=this.getDynamicGraphics(Tn,this.key);if(o.isNew&&o.graphics.lineStyle(r,this.prepareColor(i),a/100),o.graphics.visible=!0,this.settings.lines.main.lineStyle===sh)o.graphics.moveTo(this.points[0].x,this.points[0].y),o.graphics.lineTo(this.points[1].x,this.points[1].y),o.graphics.moveTo(this.points[1].x,this.points[1].y),o.graphics.lineTo(this.points[1].x+e,this.points[1].y+t);else if(this.settings.lines.main.lineStyle===ch||this.settings.lines.main.lineStyle===lh){var s=this.settings.lines.main.lineStyle===ch?8:3;o.graphics.dashedLine(lr(this.points[0].x,this.points[0].y),lr(this.points[1].x,this.points[1].y),5,s),o.graphics.dashedLine(lr(this.points[1].x,this.points[1].y),lr(this.points[1].x+e,this.points[1].y+t),5,s)}if(!this.isMobile){var c=this.calculateSidePoint();this.makeInterectable(o.graphics,[this.points[0],c])}}},{key:"calculateSidePoint",value:function(){var e,t,n=this.points[0],i=n.x,r=n.y,a=this.points[1],o=a.x,s=a.y,c=(r-s)/(i-o),l=r-i*c,u=0,h=0,d=this.width,f=this.worldHeight,p={x:(h+10-l)/c,y:h+10};return(t=p.x)>=u&&t<=d&&(e=p.y)>=h&&e<=f?r>s?p:{x:(f-10-l)/c,y:f-10}:i>o?{x:u+10,y:c*(u+10)+l}:{x:d-10,y:c*(d-10)+l}}},{key:"drawingPoints",get:function(){return this.isShowing()?[this.points[0],this.points[1]]:[]}}])&&DA(t.prototype,n),i&&DA(t,i),a}(AA);function VA(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var HA=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.plot=t,this.canvas=t.context,this.isMobile=t.socket.isMobileVersion,this.handlingVerticalScroll=!1,this.prevVerticalScrollPosition=w.CHART.FLT_MAX,this.verticalScrollStepCount=0,this.verticalScrollStep=0}var t,n,i;return t=e,(n=[{key:"canHandle",value:function(e,t){return this.isHandling||this.isInVerticalScrollArea(e)}},{key:"handle",value:function(e,t,n,i){if(this.handlingVerticalScroll=!0,this.setScrollCursor(),this.prevVerticalScrollPosition!==w.CHART.FLT_MAX){0===this.verticalScrollStep&&(this.verticalScrollStep=this.calculateScrollStep(n,i));var r=t-this.prevVerticalScrollPosition,a=r>0?1:-1;this.prevVerticalScrollPosition=t;var o=this.verticalScrollStepCount;this.verticalScrollStepCount+=a*Math.ceil(Math.abs(r)/this.isMobile?2:3.5),this.verticalScrollStepCount<0&&(this.verticalScrollStepCount=0),o!==this.verticalScrollStepCount&&this.plot.calculateWindowParams()}else this.prevVerticalScrollPosition=t}},{key:"stopHandling",value:function(){var e=this,t=this.handlingVerticalScroll;this.prevVerticalScrollPosition=w.CHART.FLT_MAX,this.handlingVerticalScroll=!1,this.setDefaultCursor(),t&&this.plot.plotEventListeners[mP.VERTICAL_SCROLL_CHANGED].forEach((function(t){return t(e.verticalScrollStepCount)}))}},{key:"reset",value:function(){var e=this;this.verticalScrollStepCount=0,this.verticalScrollStep=0,this.stopHandling(),this.plot.calculateWindowParams(),this.plot.plotEventListeners[mP.VERTICAL_SCROLL_CHANGED].forEach((function(t){return t(e.verticalScrollStepCount)}))}},{key:"isInVerticalScrollArea",value:function(e){return this.canvas.width*(this.isMobile?.85:.95)<=e&&e<=this.canvas.width}},{key:"calculateScrollStep",value:function(e,t){return Math.abs(t-e)/100}},{key:"setScrollCursor",value:function(){this.canvas.container.style.cursor="row-resize"}},{key:"setDefaultCursor",value:function(){this.canvas.container.style.cursor="default"}},{key:"isHandling",get:function(){return this.handlingVerticalScroll}},{key:"minMaxShift",get:function(){return this.verticalScrollStepCount>0?this.verticalScrollStep*this.verticalScrollStepCount:0}}])&&VA(t.prototype,n),i&&VA(t,i),e}();function UA(e){return(UA="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function WA(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function YA(e,t){return(YA=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function QA(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=zA(e);if(t){var r=zA(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return XA(this,n)}}function XA(e,t){return!t||"object"!==UA(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function zA(e){return(zA=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}dg.g.prototype.dashedLine=function(e,t,n,i){var r=0,a=0,o=t.x-e.x,s=t.y-e.y,c=Math.sqrt(o*o+s*s),l=o/c,u=s/c,h=0;for(this.moveTo(e.x+a*l,e.y+a*u);h<=c;)h+=a,(h+=r>0?r:n)>c?(r=h-c,h=c):r=0,this.lineTo(e.x+h*l,e.y+h*u),(h+=i)>c&&0===r?a=h-c:(a=0,this.moveTo(e.x+h*l,e.y+h*u))},dg.g.prototype.drawDashedPolygon=function(e,t,n,i,r,a,o){var s,c,l,u=0,h=0;if(o>0){var d=(r+a)*o;d<r?u=r-d:h=a-(d-r)}var f=[];for(s=0;s<e.length;s++){var p={x:e[s].x,y:e[s].y},m=Math.cos(i),y=Math.sin(i),g=p.x,v=p.y;p.x=g*m-v*y,p.y=g*y+v*m,f.push(p)}for(s=0;s<f.length;s++){c=f[s];var b=(l=s===f.length-1?f[0]:f[s+1]).x-c.x,E=l.y-c.y,A=Math.sqrt(b*b+E*E),w={x:b/A,y:E/A},_=0;for(this.moveTo(t+c.x+h*w.x,n+c.y+h*w.y);_<=A;)_+=h,(_+=u>0?u:r)>A?(u=_-A,_=A):u=0,this.lineTo(t+c.x+_*w.x,n+c.y+_*w.y),(_+=a)>A&&0===u?h=_-A:(h=0,this.moveTo(t+c.x+_*w.x,n+c.y+_*w.y))}};var KA=[0,.236,.382,.5,.618,.786,1,1.236,1.382,1.5,1.618,2.618],JA=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&YA(e,t)}(a,e);var t,n,i,r=QA(a);function a(e,t,n){var i;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(i=r.call(this,e,t,n)).type=zE.FibonacciRetracement,i.elementType=bt,i.minX=0,i.maxX=0,i.key="fibonacci-retracement-".concat(i.index),i}return t=a,(n=[{key:"calculateInitialPositions",value:function(){var e=parseInt(30*Math.random()+50),t=e-30;this.points[0].time||this.points[0].setTime(this.getTimeFromX(this.shift+this.width/100*20)),this.points[0].price||this.points[0].setPrice(this.minVal+(this.maxVal-this.minVal)/100*e),this.points[1].time||this.points[1].setTime(this.getTimeFromX(this.shift+(this.width-this.width/100*20))),this.points[1].price||this.points[1].setPrice(this.minVal+(this.maxVal-this.minVal)/100*t)}},{key:"calculate",value:function(){this.canBeInitialized()&&(this.calculateInitialPositions(),this.initialize())}},{key:"isDrawingInsideScreen",value:function(){var e=this.getTimeFrom(),t=this.getTimeTo();if(this.points[0].time<e&&this.points[1].time<e||this.points[0].time>t&&this.points[1].time>t)return!1;for(var n=this.getValueFrom(),i=this.getValueTo(),r=0;r<KA.length;r++){var a=this.getValueFromY(this.getYForLevel(KA[r]));if(a>n&&a<i)return!0}return!1}},{key:"draw",value:function(){if(this.isDrawingInsideScreen()&&this.isShowing()){if(this.isShowingChange()||this.isPointsCoordinatesChange()||this.updated||this.isThemeChanged()){this.clearAllDynamicGraphics(),this.updatePrevPoints();var e=this.settings.lines.main,t=e.color,n=e.lineWidth,i=e.opacity,r=this.prepareColor(t),a=i/100;this.minX=this.points[0].x>this.points[1].x?this.points[1].x:this.points[0].x,this.maxX=this.points[0].x>this.points[1].x?this.points[0].x:this.points[1].x;var o=this.getDynamicGraphics(Tn,this.key);o.graphics.lineStyle(n,r,a),o.graphics.visible=!0,o.graphics.dashedLine(this.points[0],this.points[1],5,5);for(var s=this.getValueFrom(),c=this.getValueTo(),l=this.getShowValue(this.settings.lines.level),u=this.getShowValue(this.settings.lines.value),h=0;h<KA.length;h++){var d=KA[h],f=this.getYForLevel(d),p=this.getValueFromY(f);if(!(p>c||p<s)){var m=0===d||1===d?2*n:n;o.graphics.lineStyle(m,r,a),o.graphics.moveTo(this.minX,f),o.graphics.lineTo(this.maxX,f),l&&this.drawLevel(f,d),u&&this.drawValue(f,p,d)}}var y=this.getYForLevel(0),g=this.getYForLevel(1);if(!this.isMobile){var v=g<y?new dg.r(this.minX,g,this.maxX-this.minX,y-g):new dg.r(this.minX,y,this.maxX-this.minX,g-y);this.makeInterectable(o.graphics,v)}}}else this.clearAllDynamicGraphics()}},{key:"getYForLevel",value:function(e){var t=Math.abs(this.points[0].y-this.points[1].y);return this.points[0].price>this.points[1].price?this.points[1].y-e*t:this.points[1].y+e*t}},{key:"drawLevel",value:function(e,t){var n=this.getTextGraphics(Tn,"fib-retracement-level-".concat(this.index,"-").concat(t),this.settings.levels===oh.VALUES?t:"".concat(DE(100*t,2,!0),"%"),w.CHART.S_CURSOR);n.style.fill=this.settings.lines.main.color,n.visible=!0,n.x=this.minX-n.width-5,n.y=e-n.height/2}},{key:"drawValue",value:function(e,t,n){var i=this.formatStringPrice(t),r=this.getTextGraphics(Tn,"fib-retracement-value-".concat(this.index,"-").concat(n),i,w.CHART.S_CURSOR);r.style.fill=this.settings.lines.main.color,r.visible=!0,r.x=this.maxX+7,r.y=e-r.height/2}},{key:"drawingPoints",get:function(){return this.isShowing?[this.points[0],this.points[1]]:[]}}])&&WA(t.prototype,n),i&&WA(t,i),a}(AA);function qA(e){return(qA="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ZA(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function $A(e,t){return($A=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ew(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=nw(e);if(t){var r=nw(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return tw(this,n)}}function tw(e,t){return!t||"object"!==qA(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function nw(e){return(nw=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var iw=0,rw=1,aw=2,ow=3,sw=4,cw=5,lw=6,uw=7,hw=8,dw=9,fw=10,pw=11,mw=[0,.25,.382,.5,.618,.75,1],yw=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&$A(e,t)}(a,e);var t,n,i,r=ew(a);function a(e,t,n){var i;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(i=r.call(this,e,t,n)).type=zE.FibonacciFan,i.elementType=bt,i.topRightPoint={x:0,y:0},i.bottomRightPoint={x:0,y:0},i.topLeftPoint={x:0,y:0},i.bottomLeftPoint={x:0,y:0},i.key="fibonacci-fan-".concat(i.index),i}return t=a,(n=[{key:"calculateInitialPositions",value:function(){var e=Math.floor(0*Math.random()+10),t=e+60;this.points[0].time||this.points[0].setTime(this.getTimeFromX(this.shift+this.width/100*20)),this.points[0].price||this.points[0].setPrice(this.minVal+(this.maxVal-this.minVal)/100*e),this.points[1].time||this.points[1].setTime(this.getTimeFromX(this.shift+(this.width-this.width/100*20))),this.points[1].price||this.points[1].setPrice(this.minVal+(this.maxVal-this.minVal)/100*t)}},{key:"calculate",value:function(){this.canBeInitialized()&&(this.calculateInitialPositions(),this.initialize())}},{key:"calculateCornerPoints",value:function(){this.topRightPoint={x:this.points[0].x>this.points[1].x?this.points[0].x:this.points[1].x,y:this.points[0].y<this.points[1].y?this.points[0].y:this.points[1].y},this.bottomRightPoint={x:this.points[0].x>this.points[1].x?this.points[0].x:this.points[1].x,y:this.points[0].y>this.points[1].y?this.points[0].y:this.points[1].y},this.topLeftPoint={x:this.points[0].x<this.points[1].x?this.points[0].x:this.points[1].x,y:this.points[0].y<this.points[1].y?this.points[0].y:this.points[1].y},this.bottomLeftPoint={x:this.points[0].x<this.points[1].x?this.points[0].x:this.points[1].x,y:this.points[0].y>this.points[1].y?this.points[0].y:this.points[1].y}}},{key:"draw",value:function(){if((this.isShowingChange()||this.isPointsCoordinatesChange()||this.updated||this.isThemeChanged())&&(this.clearAllDynamicGraphics(),this.isShowing())){this.updatePrevPoints();var e=this.getDynamicGraphics(Tn,this.key);e.graphics.visible=!0,this.setPrimaryLineStyle(e.graphics);var t=20*(this.points[1].x-this.points[0].x),n=20*(this.points[1].y-this.points[0].y);e.graphics.moveTo(this.points[0].x,this.points[0].y),e.graphics.lineTo(this.points[1].x+t,this.points[1].y+n);var i=this.getShowValue(this.settings.lines.level);i&&this.drawAllCornerPointsLabels();for(var r=Math.abs(this.points[1].x-this.points[0].x),a=Math.abs(this.points[1].y-this.points[0].y),o=0;o<mw.length;o++){var s=mw[o],c=this.points[0].x>this.points[1].x?this.points[0].x-s*r:this.points[0].x+s*r,l=this.points[0].y>this.points[1].y?this.points[0].y-s*a:this.points[0].y+s*a;if(this.setPrimaryLineStyle(e.graphics),e.graphics.moveTo(this.points[0].x,this.points[0].y),e.graphics.lineTo(this.points[1].x+20*(this.points[1].x-this.points[0].x),l+20*(l-this.points[0].y)),e.graphics.moveTo(this.points[0].x,this.points[0].y),e.graphics.lineTo(c+20*(c-this.points[0].x),this.points[1].y+20*(this.points[1].y-this.points[0].y)),this.setPrimaryLineStyle(e.graphics,!1),e.graphics.moveTo(this.points[0].x,l),e.graphics.lineTo(this.points[1].x,l),i&&0!==s&&1!==s){var u=this.points[0].x,h=this.points[1].x;this.drawLevel(u<h?ow:rw,s,u,l),this.drawLevel(u>h?ow:rw,s,h,l)}if(e.graphics.moveTo(c,this.points[0].y),e.graphics.lineTo(c,this.points[1].y),i&&0!==s&&1!==s){var d=this.points[0].y,f=this.points[1].y;this.drawLevel(d>f?aw:iw,s,c,d),this.drawLevel(d<f?aw:iw,s,c,f)}}var p=this.points[0].x<=this.points[1].x,m=this.points[0].y>=this.points[1].y;if(lr(this.points[0].x,m?0:this.points[0].height),lr(this.points[0].x,this.points[0].y),lr(p?this.points[0].width:0,this.points[0].y),!this.isMobile){var y=this.points[0].y<this.points[1].y?new dg.r(this.points[0].x,this.points[0].y,this.points[1].x-this.points[0].x,this.points[1].y-this.points[0].y):new dg.r(this.points[0].x,this.points[1].y,this.points[1].x-this.points[0].x,this.points[0].y-this.points[1].y);this.makeInterectable(e.graphics,y)}}}},{key:"setPrimaryLineStyle",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=this.settings.lines.main,i=n.color,r=n.lineWidth,a=n.opacity;e.lineStyle(r,this.prepareColor(i),a/(t?100:200))}},{key:"drawAllCornerPointsLabels",value:function(){this.calculateCornerPoints(),this.drawCornerPointLabels(sw),this.drawCornerPointLabels(dw),this.drawCornerPointLabels(cw),this.drawCornerPointLabels(uw),this.drawCornerPointLabels(hw),this.drawCornerPointLabels(lw),this.drawCornerPointLabels(pw),this.drawCornerPointLabels(fw)}},{key:"drawCornerPointLabels",value:function(e){var t=0;switch((this.points[0].x<this.points[1].x&&(e===fw||e===cw)||this.points[0].y>this.points[1].y&&(e===sw||e===lw)||this.points[0].y<this.points[1].y&&(e===dw||e===hw)||this.points[0].x>this.points[1].x&&(e===uw||e===pw))&&(t=1),e){case sw:case fw:this.drawLevel(e,t,this.topRightPoint.x,this.topRightPoint.y);break;case lw:case pw:this.drawLevel(e,t,this.topLeftPoint.x,this.topLeftPoint.y);break;case dw:case cw:this.drawLevel(e,t,this.bottomRightPoint.x,this.bottomRightPoint.y);break;case hw:case uw:this.drawLevel(e,t,this.bottomLeftPoint.x,this.bottomLeftPoint.y)}}},{key:"drawLevel",value:function(e,t,n,i){var r="fib-fan-level-".concat(this.key,"-").concat(e,"-").concat(t),a=w.CHART.S_CURSOR,o=this.getTextGraphics(Tn,r,t,a);o.style.fill=this.settings.lines.main.color,o.visible=!0;var s=this.getTextCoordinates(e,n,i,o.width,o.height),c=s.x,l=s.y;o.x=c,o.y=l}},{key:"getTextCoordinates",value:function(e,t,n,i,r){var a=t,o=n;switch(e){case iw:a=t-i/2,o=n-r-1;break;case rw:a=t+3,o=n-r/2;break;case aw:a=t-i/2,o=n+1;break;case ow:a=t-i-3,o=n-r/2;break;case fw:a=t-i,o=n-r-1;break;case cw:a=t-i,o=n+1;break;case uw:a=t+2,o=n+1;break;case lw:a=t-i-3,o=n;break;case hw:a=t-i-3,o=n-r-3;break;case pw:a=t+2,o=n-r-1;break;case sw:a=t+3,o=n;break;case dw:a=t+3,o=n-r}return{x:a,y:o}}},{key:"drawingPoints",get:function(){return this.isShowing?[this.points[0],this.points[1]]:[]}}])&&ZA(t.prototype,n),i&&ZA(t,i),a}(AA);function gw(e){return(gw="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function vw(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function bw(e,t){return(bw=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ew(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=ww(e);if(t){var r=ww(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return Aw(this,n)}}function Aw(e,t){return!t||"object"!==gw(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function ww(e){return(ww=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var _w=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&bw(e,t)}(a,e);var t,n,i,r=Ew(a);function a(e,t,n){var i;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(i=r.call(this,e,t,n)).type=zE.TrendLine,i.elementType=bt,i.key="trend-line-".concat(i.index),i.keyArrow="trend-line-arrow-".concat(i.index),i}return t=a,(n=[{key:"calculateInitialPositions",value:function(){var e=Math.floor(60*Math.random()+10),t=e+30;0===this.points[0].time&&this.points[0].setTime(this.getTimeFromX(this.shift+this.width/100*20)),0===this.points[0].price&&this.points[0].setPrice(this.minVal+(this.maxVal-this.minVal)/100*e),0===this.points[1].time&&this.points[1].setTime(this.getTimeFromX(this.shift+(this.width-this.width/100*20))),0===this.points[1].price&&this.points[1].setPrice(this.minVal+(this.maxVal-this.minVal)/100*t)}},{key:"calculate",value:function(){this.canBeInitialized()&&(this.calculateInitialPositions(),this.initialize())}},{key:"isDrawingInsideScreen",value:function(){var e=lr(this.getXFromTime(this.points[0].time),this.getYFromValue(this.points[0].price)),t=lr(this.getXFromTime(this.points[1].time),this.getYFromValue(this.points[1].price));return this.isLineVisible(e,t)}},{key:"draw",value:function(){this.isInitiated&&this.shouldRedraw()&&(this.clearAllDynamicGraphics(),this.updatePrevPoints(),this.isDrawingInsideScreen()&&this.isShowing()&&this.drawLine())}},{key:"drawLine",value:function(){var e=this.settings.lines.main,t=e.color,n=e.lineWidth,i=e.opacity,r=this.getDynamicGraphics(Tn,this.key);if(r.graphics.visible=!0,r.graphics.lineStyle(n,this.prepareColor(t),i/100),this.settings.lines.main.lineStyle===sh)r.graphics.moveTo(this.points[0].x,this.points[0].y),r.graphics.lineTo(this.points[1].x,this.points[1].y);else if(this.settings.lines.main.lineStyle===ch||this.settings.lines.main.lineStyle===lh){var a=this.settings.lines.main.lineStyle===ch?8:3;r.graphics.dashedLine(lr(this.points[0].x,this.points[0].y),lr(this.points[1].x,this.points[1].y),5,a)}var o=this.getDynamicGraphics(Tn,this.keyArrow);o.graphics.visible=!0,o.graphics.setTransform(this.points[1].x,this.points[1].y),o.graphics.rotation=Math.atan2(this.points[0].y-this.points[1].y,this.points[0].x-this.points[1].x),o.graphics.lineStyle(n,this.prepareColor(t),i/100);var s=Math.abs(this.points[1].x-this.points[0].x),c=45*Math.PI/180,l=this.points[0].x<this.points[1].x?1:-1,u={x:10*Math.cos(c)*l,y:10*Math.sin(c)};s>=10&&(o.graphics.moveTo(0,0),o.graphics.lineTo(u.x,u.y),o.graphics.moveTo(0,0),o.graphics.lineTo(u.x,-u.y)),this.isMobile||this.makeInterectable(r.graphics,this.drawingPoints)}},{key:"drawingPoints",get:function(){return this.isShowing()?[this.points[0],this.points[1]]:[]}}])&&vw(t.prototype,n),i&&vw(t,i),a}(AA);function Ow(e){return(Ow="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Sw(e){return function(e){if(Array.isArray(e))return Cw(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return Cw(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Cw(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Cw(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function Tw(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function kw(e,t){return(kw=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Iw(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=Nw(e);if(t){var r=Nw(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return Pw(this,n)}}function Pw(e,t){return!t||"object"!==Ow(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Nw(e){return(Nw=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var xw=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&kw(e,t)}(a,e);var t,n,i,r=Iw(a);function a(e,t,n){var i;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(i=r.call(this,e,t,n)).type=zE.ParallelChannel,i.elementType=bt,i.figureHeight=0,i.key="trend-line-".concat(i.index),i}return t=a,(n=[{key:"calculateInitialPositions",value:function(){var e=Math.floor(10*Math.random()+50),t=e+20;0===this.points[0].time&&this.points[0].setTime(this.getTimeFromX(this.shift+this.width/100*20)),0===this.points[0].price&&this.points[0].setPrice(this.minVal+(this.maxVal-this.minVal)/100*e),0===this.points[1].time&&this.points[1].setTime(this.getTimeFromX(this.shift+(this.width-this.width/100*20))),0===this.points[1].price&&this.points[1].setPrice(this.minVal+(this.maxVal-this.minVal)/100*t),0===this.points[2].price&&this.points[2].setPrice((this.points[0].price+this.points[1].price)/2-.4*(this.maxVal-this.minVal)),this.points[2].time=this.middlePointTime,this.figureHeight=this.points[2].price-this.middlePointValue}},{key:"calculate",value:function(){if(this.canBeInitialized())return this.calculateInitialPositions(),void this.initialize();this.isInitiated&&(this.isPointCoordinatesChange(this.points[2])&&(this.figureHeight=this.points[2].price-this.middlePointValue),this.points[2].time=this.middlePointTime,this.points[2].price=this.middlePointValue+this.figureHeight)}},{key:"isDrawingInsideScreen",value:function(){if(this.isPointVisible(this.points[0])||this.isPointVisible(this.points[1])||this.isPointVisible(this.bottomRightPoint)||this.isPointVisible(this.bottomLeftPoint))return!0;for(var e=this.points[0].time<this.points[1].time?this.points[0]:this.points[1],t=this.points[0].time<this.points[1].time?this.points[1]:this.points[0],n=e.time===this.bottomLeftPoint.time?this.bottomRightPoint:this.bottomLeftPoint,i=t.time===this.bottomRightPoint.time?this.bottomLeftPoint:this.bottomRightPoint,r={time:e.time,value:e.price},a={time:t.time,value:t.price},o={time:n.time,value:n.price},s={time:i.time,value:i.price},c=[[r,a],[a,o],[o,s],[s,r]],l={time:this.getTimeFrom(),value:this.getValueTo()},u={time:this.getTimeTo(),value:this.getValueTo()},h={time:this.getTimeTo(),value:this.getValueFrom()},d={time:this.getTimeFrom(),value:this.getValueFrom()},f=[[l,u],[u,h],[h,d],[d,l]],p=0;p<c.length;p++)for(var m=0;m<f.length;m++){var y=pr.apply(void 0,Sw(c[p]).concat(Sw(f[m])));if(!0===y.onLine1&&!0===y.onLine2)return!0}return!1}},{key:"draw",value:function(){this.isInitiated&&this.shouldRedraw()&&(this.clearAllDynamicGraphics(),this.updatePrevPoints(),this.isDrawingInsideScreen()&&this.isShowing()&&(this.drawLines(),this.drawBgFill()))}},{key:"drawLines",value:function(){var e=this.settings.lines.main,t=e.color,n=e.lineWidth,i=e.opacity,r=this.getDynamicGraphics(Tn,"parallel-channel-lines-".concat(this.index));if(r.graphics.visible=!0,r.graphics.lineStyle(n,this.prepareColor(t),i/100),this.settings.lines.main.lineStyle===sh)r.graphics.moveTo(this.points[0].x,this.points[0].y),r.graphics.lineTo(this.points[1].x,this.points[1].y),r.graphics.moveTo(this.points[0].x,this.getYFromValue(this.bottomLeftPoint.price)),r.graphics.lineTo(this.points[1].x,this.getYFromValue(this.bottomRightPoint.price));else if(this.settings.lines.main.lineStyle===ch||this.settings.lines.main.lineStyle===lh){var a=this.settings.lines.main.lineStyle===ch?8:3;r.graphics.dashedLine(lr(this.points[0].x,this.points[0].y),lr(this.points[1].x,this.points[1].y),5,a),r.graphics.dashedLine(lr(this.points[0].x,this.getYFromValue(this.bottomLeftPoint.price)),lr(this.points[1].x,this.getYFromValue(this.bottomRightPoint.price)),5,a)}}},{key:"drawBgFill",value:function(){var e=this.settings.lines.bg.opacity,t=this.settings.lines.main.color,n=this.getDynamicGraphics(Tn,"parallel-channel-bg-".concat(this.index));n.graphics.beginFill(this.prepareColor(t),e/100),n.graphics.drawPolygon(this.points[0].x,this.points[0].y,this.points[1].x,this.points[1].y,this.points[1].x,this.getYFromValue(this.bottomRightPoint.price),this.points[0].x,this.getYFromValue(this.bottomLeftPoint.price)),n.graphics.endFill(),this.isMobile||this.makeInterectable(n.graphics,n.graphics.geometry.graphicsData[0].shape)}},{key:"middlePointTime",get:function(){return(this.points[0].time+this.points[1].time)/2}},{key:"middlePointValue",get:function(){return(this.points[0].price+this.points[1].price)/2}},{key:"bottomLeftPoint",get:function(){return{time:this.points[0].time,price:this.points[0].price+this.figureHeight}}},{key:"bottomRightPoint",get:function(){return{time:this.points[1].time,price:this.points[1].price+this.figureHeight}}},{key:"drawingPoints",get:function(){return this.isShowing()?[this.points[0],this.points[1],this.points[2]]:[]}}])&&Tw(t.prototype,n),i&&Tw(t,i),a}(AA);function Rw(e){return(Rw="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Dw(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function Mw(e,t){return(Mw=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Bw(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=jw(e);if(t){var r=jw(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return Lw(this,n)}}function Lw(e,t){return!t||"object"!==Rw(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function jw(e){return(jw=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Fw=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Mw(e,t)}(a,e);var t,n,i,r=Bw(a);function a(e,t,n,i,o,s,c){var l;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(l=r.call(this,e,t)).id=s,l.value=n,l.time=i,l.amount=o,l.currency=c,l.animator=new gv,l.animator.curveType=Nt,l.animator.calculateToOne=!0,l.animator.timeout=0,l.animator.duration=.4,l.animator.fromValue=0,l.animator.enabled=!1,l.animator.setToValue(1),l.offsetY=7,l.offsetX=12,l.crossX=0,l.crossY=0,l.crossWidth=6,l.crossHeight=6,l.infoBlockWidth=0,l.infoBlockHeight=0,l.rendered=!1,l.percent=0,l.destoyed=!1,l.circleSize=20,l}return t=a,(n=[{key:"checkIsCloseClick",value:function(e,t,n){var i=0,r=0,a=0,o=0;return n?(i=this.crossX-this.infoBlockWidth-10,r=this.crossX+10,a=this.crossY-6,o=this.crossY+this.infoBlockHeight+10):(i=this.crossX-6,r=this.crossX+this.crossWidth+6,a=this.crossY-6,o=this.crossY+this.crossHeight+6),i<=e&&r>=e&&a<=t&&o>=t}},{key:"reanimate",value:function(){this.animator.enabled=!0}},{key:"draw",value:function(){}},{key:"destroy",value:function(){this.core.destroyDynamicGraphicsNew(Kn,"pendingDotGraphics".concat(this.id)),this.core.destroyDynamicGraphicsNew(Kn,"pendingClosedDealInfo".concat(this.id)),this.core.destroyDynamicGraphicsNew(Kn,"pendingClosedDealInfoTriangle".concat(this.id)),this.core.clearSprite(Kn,"pendingClosedDealInfoCross".concat(this.id)),this.core.destroyDynamicGraphicsNew(Jn,"spinner".concat(this.id)),this.destoyed=!0}}])&&Dw(t.prototype,n),i&&Dw(t,i),a}(Cv);function Gw(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function Vw(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Hw=0,Uw=1,Ww=2,Yw=function(){function e(t){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),Vw(this,"onKeyDown",(function(e){if(8===e.which){(!/INPUT|SELECT|TEXTAREA/i.test(e.target.tagName)||e.target.disabled||e.target.readOnly)&&e.preventDefault()}91!==e.which&&16!==e.which||(n.isCtrlPressed=!0)})),Vw(this,"onKeyUp",(function(e){if(91!==e.which&&16!==e.which||(n.isCtrlPressed=!1),n.selectedDrawings.length)switch(e.code){case"Backspace":case"Delete":(!/INPUT|SELECT|TEXTAREA/i.test(e.target.tagName)||e.target.disabled||e.target.readOnly)&&Bu.dispatch({type:"DRAW.CHOOSE.DELETE",payload:{}});break;case"Escape":n.deselectAll()}})),Vw(this,"onMouseDown",(function(e,t,i){if(n.state===Hw){if(n.checkDraggablePointsShowing(e,t),!i||n.selectedDrawings.length>0)for(var r=0;r<n.drawings.length;r++)for(var a=n.drawings[r].drawingPoints,o=0;o<a.length;o++)if(a[o].isShowing()&&a[o].isClickedOnElement(e,t))return void n.select(n.drawings[r],i);var s=n.drawings.find((function(n){return n.isInsideHitZone(e,t)}));s?(n.state=Uw,n.select(s,i)):n.deselectAll()}})),Vw(this,"onMouseMove",(function(e,t){if(n.checkDraggablePointsShowing(e,t),n.state===Uw||n.state===Ww){var i=n.drawings.filter((function(e){return e.isLocked})).map((function(e){return e.index})),r=n.selectedDrawings.filter((function(e){var t=e.index;return!i.includes(t)})).filter((function(e){return e.isShowing()}));n.state===Uw?(n.pointDiffs={},r.forEach((function(i){i.drawingPoints.forEach((function(i){n.pointDiffs[i.key]=[i.x-e,i.y-t]}))}))):r.forEach((function(i){i.drawingPoints.forEach((function(i){var r=n.pointDiffs[i.key];r&&i.move(e+r[0],t+r[1],!1)}))})),n.state=Ww}})),Vw(this,"onMouseUp",(function(e,t){if(n.state===Ww){var i=[];n.selectedDrawings.forEach((function(e){e.drawingPoints.forEach((function(e){e.stop(!1),i.push(e.getPointData())}))})),Bu.dispatch(Wu(i))}n.state=Hw})),this.chartId=t.chartId,this.context=t.context,this.drawings=t.indicators.filter((function(e){return e.isDrawing})),this.assetId=t.assetId,this.selectedDrawings=[],this.draggablePoints=[],this.draggablePoint=null,this.pointDiffs={},this.state=Hw,this.isCtrlPressed=!1,t.globalSettings.isMobile?this.subscribeToMobileEvents():this.subscribeToInputEvents()}var t,n,i;return t=e,(n=[{key:"addDraggablePoint",value:function(){for(var e=this,t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];n.forEach((function(t){return e.draggablePoints.push(t)}))}},{key:"isPointSelected",value:function(){return null!=this.draggablePoint}},{key:"onMovingPointStop",value:function(){this.isPointSelected()&&(this.draggablePoint.stop(),this.draggablePoint=null)}},{key:"calculatePoints",value:function(){this.draggablePoints.forEach((function(e){return e.calculate()}))}},{key:"checkPointHit",value:function(e,t){if(!this.draggablePoint)for(var n=0;n<this.draggablePoints.length;n++){var i=this.draggablePoints[n];if(i&&i.isClickedOnElement(e,t))return this.draggablePoint=i,!0}return!1}},{key:"moveSelectedPoint",value:function(e,t,n){null!=this.draggablePoint&&this.drawings.filter((function(e){return!e.isLocked})).map((function(e){return e.index})).includes(this.draggablePoint.index)&&this.draggablePoint.move(e,t,n)}},{key:"deleteDrawingPoints",value:function(e){for(var t=e.drawingPoints.map((function(e){return e.key})),n=this.draggablePoints.length-1;n>=0;n--){var i=this.draggablePoints[n].key;t.includes(i)&&(this.draggablePoints[n].destroy(),this.draggablePoints.splice(n,1))}}},{key:"setDrawings",value:function(e){var t=this.drawings.length;this.drawings=e,t>this.drawings.length&&this.deselectAll(),this.setAllDraggablePointsShowing(!1)}},{key:"subscribeToMobileEvents",value:function(){var e=this;this.context.addEventListeners([ng],(function(t,n){return e.checkDraggablePointsShowing(t,n)})),this.context.addEventListeners([rg],(function(){return e.onMovingPointStop()})),this.context.addEventListeners([ig],(function(){return e.setAllDraggablePointsShowing(!1)}))}},{key:"subscribeToInputEvents",value:function(){var e=this;this.context.addEventListeners([cg,ng],(function(t,n,i){e.onMouseDown(t,n,e.isCtrlPressed),e.checkDraggablePointsShowing(t,n)})),this.context.addEventListeners([ag,tg],(function(t,n){return e.onMouseMove(t,n)})),this.context.addEventListeners([rg],(function(t,n,i){e.onMovingPointStop(),e.onMouseUp(t,n,i),e.checkDraggablePointsShowing(t,n)}))}},{key:"onFirstDrawingSelected",value:function(){document.addEventListener("keydown",this.onKeyDown),document.addEventListener("keyup",this.onKeyUp)}},{key:"onLastDrawingDeselected",value:function(){document.removeEventListener("keydown",this.onKeyDown),document.removeEventListener("keyup",this.onKeyUp)}},{key:"isMovingDrawing",value:function(){return this.state!==Hw}},{key:"checkDraggablePointsShowing",value:function(e,t){this.drawings.forEach((function(n){var i=n.isInsideHitZone(e,t,!1),r=n.points.some((function(n){return function(e,t,n,i,r){var a=i-e,o=r-t;return a*a+o*o<=n*n}(n.x,n.y,n.getDragDetectionRadius(),e,t)}));n.setDraggablePointsShowing(i||r)}))}},{key:"setDraggablePointsShowing",value:function(e,t){e&&e.setDraggablePointsShowing(t)}},{key:"setAllDraggablePointsShowing",value:function(e){var t=this;this.drawings.forEach((function(n){t.setDraggablePointsShowing(n,e)}))}},{key:"select",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];e.isSelected?t&&this.selectedDrawings.length>1&&this.deselect(e):(t||this.deselectAll(),this.selectedDrawings.push(e),e.onSelect(),1===this.selectedDrawings.length&&this.onFirstDrawingSelected(),Bu.dispatch(Yu(e.index)))}},{key:"deselect",value:function(e){var t=[];this.selectedDrawings.forEach((function(n){return n.index===e.index?n.onDeselect():t.push(n)})),this.selectedDrawings=t,0===this.selectedDrawings.length&&this.onLastDrawingDeselected(),Bu.dispatch({type:"DRAW.UNCHOOSE",payload:e.index})}},{key:"deselectAll",value:function(){0!==this.selectedDrawings.length&&(this.selectedDrawings.forEach((function(e){return e.onDeselect()})),this.selectedDrawings=[],this.onLastDrawingDeselected(),Bu.dispatch({type:"DRAW.UNCHOOSE.LIST",payload:{}}))}},{key:"getDrawings",value:function(){return this.drawings}},{key:"getSelectedDrawings",value:function(){return this.selectedDrawings}}])&&Gw(t.prototype,n),i&&Gw(t,i),e}();function Qw(e){return(Qw="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Xw(e){return function(e){if(Array.isArray(e))return zw(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return zw(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return zw(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function zw(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function Kw(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function Jw(e,t){return(Jw=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function qw(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=$w(e);if(t){var r=$w(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return Zw(this,n)}}function Zw(e,t){return!t||"object"!==Qw(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function $w(e){return($w=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var e_=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Jw(e,t)}(a,e);var t,n,i,r=qw(a);function a(e,t,n){var i;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(i=r.call(this,e,t,n)).type=zE.Rectangle,i.elementType=bt,i.key="rectangle-".concat(i.index),i}return t=a,(n=[{key:"calculateInitialPositions",value:function(){var e=Math.floor(20*Math.random()+20),t=e+40;0===this.points[0].time&&this.points[0].setTime(this.getTimeFromX(this.shift+this.width/100*30)),0===this.points[0].price&&this.points[0].setPrice(this.minVal+(this.maxVal-this.minVal)/100*e),0===this.points[1].time&&this.points[1].setTime(this.getTimeFromX(this.shift+(this.width-this.width/100*30))),0===this.points[1].price&&this.points[1].setPrice(this.minVal+(this.maxVal-this.minVal)/100*t)}},{key:"calculate",value:function(){this.canBeInitialized()&&(this.calculateInitialPositions(),this.initialize())}},{key:"clearGraphics",value:function(){this.clearDynamicGraphics(Tn,this.key)}},{key:"isDrawingInsideScreen",value:function(){var e=this.points[0].time<this.points[1].time?this.points[0].time:this.points[1].time,t=this.points[0].time<this.points[1].time?this.points[1].time:this.points[0].time,n=this.points[0].price<this.points[1].price?this.points[0].price:this.points[1].price,i=this.points[0].price<this.points[1].price?this.points[1].price:this.points[0].price,r={time:e,price:n},a={time:t,price:n},o={time:t,price:i},s={time:e,price:i};return!!(this.isPointVisible(r)||this.isPointVisible(a)||this.isPointVisible(o)||this.isPointVisible(s))||mr({left:e,top:n,right:t,bottom:i},{left:this.getTimeFrom(),top:this.getValueFrom(),right:this.getTimeTo(),bottom:this.getValueTo()})}},{key:"draw",value:function(){if(this.isDrawingInsideScreen()&&this.isShowing()){if(this.isShowingChange()||this.isPointsCoordinatesChange()||this.updated){this.clearGraphics(),this.updatePrevPoints();var e=[[this.points[0].x,this.points[0].y],[this.points[0].x,this.points[1].y],[this.points[1].x,this.points[1].y],[this.points[1].x,this.points[0].y],[this.points[0].x,this.points[0].y]],t=this.settings.lines.main,n=t.color,i=t.lineWidth,r=t.opacity,a=this.settings.lines.bg.opacity,o=this.getDynamicGraphics(Tn,this.key);if(o.graphics.visible=!0,o.graphics.beginFill(this.prepareColor(n),a/100),e.forEach((function(e,t){var n;(n=o.graphics)[0===t?"moveTo":"lineTo"].apply(n,Xw(e))})),o.graphics.endFill(),o.graphics.lineStyle(i,this.prepareColor(n),r/100),this.settings.lines.main.lineStyle===sh)e.forEach((function(e,t){var n;(n=o.graphics)[0===t?"moveTo":"lineTo"].apply(n,Xw(e))}));else if(this.settings.lines.main.lineStyle===ch||this.settings.lines.main.lineStyle===lh){var s=this.settings.lines.main.lineStyle===ch?8:3;o.graphics.dashedLine(lr(this.points[0].x,this.points[0].y),lr(this.points[1].x,this.points[0].y),5,s),o.graphics.dashedLine(lr(this.points[1].x,this.points[0].y),lr(this.points[1].x,this.points[1].y),5,s),o.graphics.dashedLine(lr(this.points[1].x,this.points[1].y),lr(this.points[0].x,this.points[1].y),5,s),o.graphics.dashedLine(lr(this.points[0].x,this.points[1].y),lr(this.points[0].x,this.points[0].y),5,s)}o.graphics.endFill(),this.isMobile||this.makeInterectable(o.graphics,o.graphics.geometry.graphicsData[0].shape)}}else this.clearGraphics()}},{key:"drawingPoints",get:function(){return this.isShowing?[this.points[0],this.points[1]]:[]}}])&&Kw(t.prototype,n),i&&Kw(t,i),a}(AA);function t_(e){return(t_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function n_(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function i_(e,t){return(i_=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function r_(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=o_(e);if(t){var r=o_(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return a_(this,n)}}function a_(e,t){return!t||"object"!==t_(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function o_(e){return(o_=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var s_=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&i_(e,t)}(a,e);var t,n,i,r=r_(a);function a(e,t,n){var i;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(i=r.call(this,e,t,n)).type=y.ADX,i.position=ft,i.valueYScaleType=pi,i.updateSettings(n.settings),i}return t=a,(n=[{key:"flush",value:function(){this.pDI=[],this.mDI=[],this.pDM=[],this.mDM=[],this.dx=[],this.adx=[],this.tr=[],this.pDMEma=[],this.mDMEma=[],this.trEma=[],this.initMinMaxValues()}},{key:"initMinMaxValues",value:function(){this.position===dt?(this.minValue=w.CHART.DBL_MAX,this.maxValue=w.CHART.DBL_MIN):(this.minVal=w.CHART.DBL_MAX,this.maxVal=w.CHART.DBL_MIN)}},{key:"roundValue",value:function(e){return e>=0&&e<=100?Ov(e,2):""}},{key:"calculate",value:function(){this.checkFlush(),this.getIndicatorValues()}},{key:"removeLastCalculatedPoint",value:function(){this.pDI.length>0&&this.pDI.splice(-1,1),this.mDI.length>0&&this.mDI.splice(-1,1),this.pDM.length>0&&this.pDM.splice(-1,1),this.mDM.length>0&&this.mDM.splice(-1,1),this.dx.length>0&&this.dx.splice(-1,1),this.adx.length>0&&this.adx.splice(-1,1),this.tr.length>0&&this.tr.splice(-1,1),this.pDMEma.length>0&&this.pDMEma.splice(-1,1),this.mDMEma.length>0&&this.mDMEma.splice(-1,1),this.trEma.length>0&&this.trEma.splice(-1,1)}},{key:"getIndicatorValues",value:function(){if(this.removeLastCalculatedPoint(),this.candles.length<this.maxPeriod)return[];for(var e=1+this.pDM.length;e<this.candles.length;e++){var t=this.candles[e],n=this.candles[e-1],i=t.maxValue-n.maxValue,r=n.minValue-t.minValue,a=i>r&&i>0?i:0,o=i<r&&r>0?r:0,s=Math.max(t.maxValue-t.minValue,Math.abs(t.maxValue-n.exitValue),Math.abs(t.minValue-n.exitValue));this.pDM.push(new wy(a,t.time)),this.mDM.push(new wy(o,t.time)),this.tr.push(new wy(s,t.time))}var c=1/this.settings.diLength;this.trEma=this.getEMA(this.trEma,this.settings.diLength,this.tr,c),this.pDMEma=this.getEMA(this.pDMEma,this.settings.diLength,this.pDM,c),this.mDMEma=this.getEMA(this.mDMEma,this.settings.diLength,this.mDM,c);for(var l=this.pDI.length;l<this.pDMEma.length;l++){var u=this.trEma[l],h=u.value,d=u.time,f=100*this.pDMEma[l].value/(0===h?1:h),p=100*this.mDMEma[l].value/(0===h?1:h);this.pDI.push(new wy(f,d)),this.mDI.push(new wy(p,d))}for(var m=this.dx.length;m<this.pDI.length;m++){var y=this.pDI[m].value,g=this.mDI[m].value,v=y+g,b=100*Math.abs(y-g)/(0===v?1:v);this.dx.push(new wy(b,this.pDI[m].time))}this.adx=this.getEMA(this.adx,this.settings.adxSmoothing,this.dx,1/this.settings.adxSmoothing)}},{key:"draw",value:function(){if(this.clearAllDynamicGraphics(),this.drawBottomIndicatorBg(),this.drawBottomIndicatorBorder(),this.adx.length){var e=this.filterIndicatorPoints(this.adx,!1),t=this.filterIndicatorPoints(this.pDI,!1),n=this.filterIndicatorPoints(this.mDI,!1);this.recalculateMinMax(e,t,n);var i=this.settings.lines,r=i.adx,a=i.plusDI,o=i.minusDI;if(this.getShowValue(r)&&this.drawBottomLine(e,"adx",r.lineWidth,r.color,!0),this.getShowValue(a)&&this.drawBottomLine(t,"plusDMI",a.lineWidth,a.color,!0),this.getShowValue(o)&&this.drawBottomLine(n,"minusDMI",o.lineWidth,o.color,!0),r.length||t.length||n.length){var s=this.min+(this.max-this.min)/2,c=this.colors.indicatorBottomNullLineColor;this.drawBottomLevel("max",100,c,1,"",DE(this.max)),this.drawBottomLevel("middle",50,c,1,"",DE(s)),this.drawBottomLevel("min",0,c,1,"",DE(this.min))}}}},{key:"maxPeriod",get:function(){return this.settings.adxSmoothing+this.settings.diLength}}])&&n_(t.prototype,n),i&&n_(t,i),a}(oA);function c_(e){return(c_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function l_(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function u_(e,t){return(u_=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function h_(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=f_(e);if(t){var r=f_(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return d_(this,n)}}function d_(e,t){return!t||"object"!==c_(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function f_(e){return(f_=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var p_=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&u_(e,t)}(a,e);var t,n,i,r=h_(a);function a(e,t,n){var i;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(i=r.call(this,e,t,n)).type=y.ALLIGATOR,i.updateSettings(n.settings),i}return t=a,(n=[{key:"flush",value:function(){this.jaws={},this.teeth={},this.lips={},this.cachedPoints={}}},{key:"calculate",value:function(){var e=this;this.position===dt?(this.maxValue=w.CHART.DBL_MIN,this.minValue=w.CHART.DBL_MAX):(this.minVal=w.CHART.DBL_MAX,this.maxVal=w.CHART.DBL_MIN),Object.keys(this.settings.lines).forEach((function(t){e.averageShift=e.settings[t].shift,e[t]=e.getMovingAveragePoints({type:QE,cacheId:"".concat(e.cacheId).concat(e.settings[t].period).concat(e.settings[t].shift),period:e.settings[t].period})}))}},{key:"draw",value:function(){var e=this;this.clearAllDynamicGraphics(),this.isShowing()&&Object.keys(this.settings.lines).forEach((function(t){e.getShowValue(e.settings.lines[t])&&e.drawAlligatorLine(e.filterIndicatorPoints(e[t],!0),t)}))}},{key:"drawAlligatorLine",value:function(e,t){var n=this.settings.lines[t],i=n.color,r=n.lineWidth,a=this.settings[t].shift;this.drawLineWithParams({points:e,elementId:"alligator-".concat(t,"-").concat(this.index),color:i,lineWidth:r,shift:a})}},{key:"maxPeriod",get:function(){return Math.max(this.settings.jaws.period,this.settings.teeth.period,this.settings.lips.period)}}])&&l_(t.prototype,n),i&&l_(t,i),a}(oA);function m_(e){return(m_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function y_(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function g_(e,t,n){return(g_="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var i=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=A_(e)););return e}(e,t);if(i){var r=Object.getOwnPropertyDescriptor(i,t);return r.get?r.get.call(n):r.value}})(e,t,n||e)}function v_(e,t){return(v_=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function b_(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=A_(e);if(t){var r=A_(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return E_(this,n)}}function E_(e,t){return!t||"object"!==m_(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function A_(e){return(A_=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var w_=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&v_(e,t)}(a,e);var t,n,i,r=b_(a);function a(e,t,n){var i;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(i=r.call(this,e,t,n)).type=y.AWESOME_OSCILLATOR,i.position=ft,i.valueYScaleType=mi,i.lineSegmentIds=[],i.figure=Yl.HISTOGRAM,i.lineWidth=Hl.W1,i.updateSettings(n.settings),i}return t=a,(n=[{key:"updateColors",value:function(){var e=this.settings.opacity;this.upColor=new bv(this.candleUpHex,e/100),this.downColor=new bv(this.candleDownHex,e/100)}},{key:"calculate",value:function(){this.checkFlush(),this.removeLastCalculatedPoint(),this.calculatePoints()}},{key:"flush",value:function(){this.emasShort=[],this.emasLong=[],this.histogramPoints=[],this.initMinMax()}},{key:"initMinMax",value:function(){this.position===dt?(this.maxValue=w.CHART.DBL_MIN,this.minValue=w.CHART.DBL_MAX):(this.minVal=w.CHART.DBL_MAX,this.maxVal=w.CHART.DBL_MIN)}},{key:"removeLastCalculatedPoint",value:function(){this.emasShort.length>0&&this.emasShort.splice(-1,1),this.emasLong.length>0&&this.emasLong.splice(-1,1),this.histogramPoints.length>0&&this.histogramPoints.splice(-1,1)}},{key:"calculatePoints",value:function(){var e=this.settings,t=e.periodShort,n=e.periodLong;this.emasShort=this.sma({source:"hl2",period:t}),this.emasLong=this.sma({source:"hl2",period:n});for(var i=Math.max(this.emasShort.length,this.emasLong.length),r=i-Math.min(this.emasShort.length,this.emasLong.length),a=r+this.histogramPoints.length;a<this.candles.length;a++){var o=this.emasLong.length===i?this.emasLong[a]:this.emasLong[a-r],s=this.emasShort.length===i?this.emasShort[a]:this.emasShort[a-r];o&&s&&this.histogramPoints.push(new wy(s.value-o.value,o.time))}}},{key:"minMaxBalance",value:function(){g_(A_(a.prototype),"minMaxBalance",this).call(this),this.min>0&&this.max>0?this.min=0:this.min<0&&this.max<0&&(this.max=0)}},{key:"draw",value:function(){if(this.clearAllDynamicGraphics(),this.updateColors(),this.recalculateMinMax(this.filterIndicatorPoints(this.histogramPoints)),this.drawBottomIndicatorBg(),this.drawBottomIndicatorBorder(),this.drawBottomLevel("zero",this.zeroLevelPercent,this.colors.indicatorBottomNullLineColor,1,"",0),this.figure===Yl.HISTOGRAM)this.drawBottomIndicatorHistogram(this.histogramPoints,this.upColor,this.downColor,this.zeroLevel);else{if(this.histogramPoints.length<3)return;for(var e,t=this.core.getDynamicContainer(Sn,"ao-container-".concat(this.index)),n=[],i=1;i<this.histogramPoints.length;i++){var r=this.histogramPoints[i-1],a=this.histogramPoints[i],o=a.value>r.value?this.upColor:this.downColor;null!=e&&o!==e&&(this.drawLineSegment(t,n,e),n=[]),0===n.length?n.push(r,a):n.push(a),e=o}this.drawLineSegment(t,n,e)}}},{key:"drawLineSegment",value:function(e,t,n){if(0!==t.length){var i="bottomIndicatorLine-".concat(this.index,"-line-").concat(t[0].time);this.lineSegmentIds.push(i);var r=this.getDynamicGraphics(Sn,i,!1,!1,e);r.graphics.lineStyle(this.lineWidth,this.prepareColor(n),this.prepareAlpha(n));for(var a=0;a<t.length;a++)r.graphics[0===a?"moveTo":"lineTo"](this.getXFromTime(t[a].time),this.getYFromValueIndicator(t[a].value,!0))}}},{key:"destroy",value:function(){var e=this;g_(A_(a.prototype),"destroy",this).call(this),this.core.destroyDynamiContainer(Sn,"ao-container-".concat(this.index)),this.lineSegmentIds.forEach((function(t){return e.core.destroyDynamicGraphicsNew(Sn,t)})),this.lineSegmentIds=[]}},{key:"maxPeriod",get:function(){return Math.max(this.settings.periodShort,this.settings.periodLong)}},{key:"zeroLevel",get:function(){return Math.abs(this.min/(this.max-this.min))}},{key:"zeroLevelPercent",get:function(){return 100*this.zeroLevel}}])&&y_(t.prototype,n),i&&y_(t,i),a}(oA);function __(e){return(__="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function O_(e){return function(e){if(Array.isArray(e))return S_(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return S_(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return S_(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function S_(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function C_(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function T_(e,t){return(T_=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function k_(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=P_(e);if(t){var r=P_(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return I_(this,n)}}function I_(e,t){return!t||"object"!==__(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function P_(e){return(P_=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var N_=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&T_(e,t)}(a,e);var t,n,i,r=k_(a);function a(e,t,n){var i;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(i=r.call(this,e,t,n)).type=y.BOLLINGER_BANDS,i.updateSettings(n.settings),i}return t=a,(n=[{key:"flush",value:function(){this.initMinMax(),this.points={top:[],middle:[],bottom:[]},this.filteredPoints={top:[],middle:[],bottom:[]}}},{key:"initMinMax",value:function(){this.position===dt?(this.maxValue=w.CHART.DBL_MIN,this.minValue=w.CHART.DBL_MAX):(this.minVal=w.CHART.DBL_MAX,this.maxVal=w.CHART.DBL_MIN)}},{key:"calculate",value:function(){this.initMinMax(),this.checkFlush(),this.points.top.length&&(this.points.top.splice(-1,1),this.points.middle.splice(-1,1),this.points.bottom.splice(-1,1));for(var e=!1,t=this.points.top.length+this.settings.period;t<this.candles.length;t++){for(var n=0,i=0;i<this.settings.period;i++){var r=t-i;r>=0&&(n+=this.candles[r].exitValue)}for(var a=0,o=n/this.settings.period,s=0;s<this.settings.period;s++){var c=t-s;c>=0&&(a+=Math.pow(this.candles[c].exitValue-o,2))}a=Math.sqrt(a/this.settings.period),this.points.top.push(new wy(o+this.settings.deviation*a,this.candles[t].time)),this.points.middle.push(new wy(o,this.candles[t].time)),this.points.bottom.push(new wy(o-this.settings.deviation*a,this.candles[t].time)),e=!0}e&&(this.filteredPoints={top:this.filterIndicatorPoints(this.points.top,!0),middle:this.filterIndicatorPoints(this.points.middle,!0),bottom:this.filterIndicatorPoints(this.points.bottom,!0)})}},{key:"draw",value:function(){var e=this;this.clearAllDynamicGraphics(),this.isShowing()&&(this.getShowValue(this.settings.lines.background)&&this.drawFill(),Object.keys(this.settings.lines).forEach((function(t){var n=e.settings.lines[t];e.getShowValue(n)&&e.isLine(n)&&e.drawLineWithParams({points:e.filteredPoints[t],elementId:"bollinger-bands-".concat(t,"-").concat(e.index),color:n.color,alpha:n.opacity/100,lineWidth:n.lineWidth})})))}},{key:"drawFill",value:function(){var e=O_(this.filteredPoints.bottom).reverse(),t=[].concat(O_(e),O_(this.filteredPoints.top)),n=this.settings.lines.background,i=n.color,r=n.opacity,a=this.getDynamicGraphics(On,"bollinger-".concat(this.index));a.graphics.beginFill(this.prepareColor(i),r/100);for(var o=0;o<t.length;o++){var s=t[o],c=s.time,l=s.value;a.graphics[0===o?"moveTo":"lineTo"](this.getXFromTime(c+this.averageShift*this.pointsInElement),this.getYFromValue(l))}a.graphics.endFill()}},{key:"maxPeriod",get:function(){return this.settings.period}}])&&C_(t.prototype,n),i&&C_(t,i),a}(oA);function x_(e){return(x_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function R_(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function D_(e,t){return(D_=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function M_(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=L_(e);if(t){var r=L_(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return B_(this,n)}}function B_(e,t){return!t||"object"!==x_(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function L_(e){return(L_=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var j_=0,F_=1,G_=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&D_(e,t)}(a,e);var t,n,i,r=M_(a);function a(e,t,n){var i;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(i=r.call(this,e,t,n)).type=y.FRACTAL,i.updateSettings(n.settings),i}return t=a,(n=[{key:"flush",value:function(){this.fractalPoints=[]}},{key:"calculate",value:function(){this.checkFlush(),this.fractalPoints.length&&this.fractalPoints.splice(-1,1);for(var e=this.fractalPoints.length;e<this.candles.length;e++){var t=this.candles[e].maxValue,n=this.candles[e-2]?this.candles[e-2].maxValue:null,i=this.candles[e-1]?this.candles[e-1].maxValue:null,r=this.candles[e+1]?this.candles[e+1].maxValue:null,a=this.candles[e+2]?this.candles[e+2].maxValue:null;n&&i&&r&&a&&n<t&&i<t&&r<t&&a<t&&this.fractalPoints.push({type:j_,point:new wy(t,this.candles[e].time)});var o=this.candles[e].minValue,s=this.candles[e-2]?this.candles[e-2].minValue:null,c=this.candles[e-1]?this.candles[e-1].minValue:null,l=this.candles[e+1]?this.candles[e+1].minValue:null,u=this.candles[e+2]?this.candles[e+2].minValue:null;s&&c&&l&&u&&s>o&&c>o&&s&&l>o&&u>o&&this.fractalPoints.push({point:new wy(o,this.candles[e].time),type:F_})}}},{key:"filterWindow",value:function(e){for(var t=[],n=this.pointsManager.candleWidth/this.secondWidth,i=this.getTimeFrom()-n,r=this.getTimeTo()+n,a=0;a<e.length;a++)e[a].point.time>=i&&e[a].point.time<=r&&t.push(e[a]);return t}},{key:"draw",value:function(){if(this.clearAllDynamicGraphics(),this.isShowing()){var e=this.getDynamicGraphics(On,"fractal",!0),t=10;t<5&&(t=5),t>12&&(t=12);for(var n=this.settings.lines,i=n.up,r=n.down,a=this.getShowValue(i),o=this.getShowValue(r),s=this.filterWindow(this.fractalPoints),c=0;c<s.length;c++){var l=s[c],u=this.getXFromTime(l.point.time)-t/2,h=this.getYFromValue(l.point.value);u+=t/2,l.type===j_?(h-=2*t,a&&(e.graphics.beginFill(this.prepareColor(i.color),1),e.graphics.drawPolygon([u,h,u-t/2,h+t,u,h+t/1.5,u+t/2,h+t,u,h]))):(h+=2*t,o&&(e.graphics.beginFill(this.prepareColor(r.color),1),e.graphics.drawPolygon([u,h,u-t/2,h-t,u,h-t/1.5,u+t/2,h-t,u,h]))),e.graphics.endFill()}e=null}}}])&&R_(t.prototype,n),i&&R_(t,i),a}(oA);function V_(e){return(V_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function H_(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function U_(e,t,n){return(U_="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var i=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=X_(e)););return e}(e,t);if(i){var r=Object.getOwnPropertyDescriptor(i,t);return r.get?r.get.call(n):r.value}})(e,t,n||e)}function W_(e,t){return(W_=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Y_(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=X_(e);if(t){var r=X_(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return Q_(this,n)}}function Q_(e,t){return!t||"object"!==V_(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function X_(e){return(X_=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var z_=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&W_(e,t)}(a,e);var t,n,i,r=Y_(a);function a(e,t,n){var i;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(i=r.call(this,e,t,n)).type=y.MACD,i.position=ft,i.valueYScaleType=mi,i.updateSettings(n.settings),i}return t=a,(n=[{key:"updateSettings",value:function(e){U_(X_(a.prototype),"updateSettings",this).call(this,e);var t=e.lines.histogram.colors,n=t.up,i=t.down;this.histUpColor=new bv(n.color,n.opacity/100),this.histDownColor=new bv(i.color,i.opacity/100)}},{key:"calculate",value:function(){this.checkFlush(),this.removeLastCalculatedPoint(),this.calculateMACDPoints(),this.calculateSignalPoints(),this.calculateHistogram()}},{key:"flush",value:function(){this.macdPoints=[],this.signalPoints=[],this.macdHistogramPoints=[],this.emasShort=[],this.emasLong=[],this.position===dt?(this.maxValue=w.CHART.DBL_MIN,this.minValue=w.CHART.DBL_MAX):(this.minVal=w.CHART.DBL_MAX,this.maxVal=w.CHART.DBL_MIN)}},{key:"removeLastCalculatedPoint",value:function(){this.emasShort.length>0&&this.emasShort.splice(-1,1),this.emasLong.length>0&&this.emasLong.splice(-1,1),this.macdPoints.length>0&&this.macdPoints.splice(-1,1),this.signalPoints.length>0&&this.signalPoints.splice(-1,1),this.macdHistogramPoints.length>0&&this.macdHistogramPoints.splice(-1,1)}},{key:"calculateMACDPoints",value:function(){this.emasShort=this.getEMA(this.emasShort,this.settings.fastPeriod),this.emasLong=this.getEMA(this.emasLong,this.settings.slowPeriod);for(var e=Math.max(this.emasShort.length,this.emasLong.length),t=e-Math.min(this.emasShort.length,this.emasLong.length),n=t+this.macdPoints.length;n<this.candles.length;n++){var i=this.emasLong.length===e?this.emasLong[n]:this.emasLong[n-t],r=this.emasShort.length===e?this.emasShort[n]:this.emasShort[n-t];i&&r&&this.macdPoints.push(new wy(r.value-i.value,i.time))}}},{key:"calculateSignalPoints",value:function(){this.signalPoints=this.getEMA(this.signalPoints,this.settings.signalPeriod,this.macdPoints)}},{key:"calculateHistogram",value:function(){for(var e=this.macdHistogramPoints.length;e<this.signalPoints.length;e++){var t=this.macdPoints[e+this.settings.signalPeriod],n=this.signalPoints[e];t&&n&&this.macdHistogramPoints.push(new wy(t.value-n.value,t.time))}}},{key:"getZeroLabel",value:function(){return this.zeroLevelPercent<90?"0":""}},{key:"draw",value:function(){this.clearAllDynamicGraphics();var e=this.filterIndicatorPoints(this.macdHistogramPoints,!1),t=this.filterIndicatorPoints(this.macdPoints,!1),n=this.filterIndicatorPoints(this.signalPoints,!1);this.recalculateMinMax(e,t,n),this.drawBottomIndicatorBg(),this.drawBottomIndicatorBorder();var i=this.settings.lines,r=i.macd,a=i.signal,o=i.histogram;this.getShowValue(o)&&this.drawBottomIndicatorHistogram(e,this.histUpColor,this.histDownColor,this.zeroLevel),this.drawBottomLevel("zero",this.zeroLevelPercent,this.colors.indicatorBottomMACDNullLineColor,1,"",this.getZeroLabel()),this.getShowValue(r)&&this.drawBottomLine(t,"macd",r.lineWidth,r.color,!0),this.getShowValue(a)&&this.drawBottomLine(n,"signal",a.lineWidth,a.color,!0)}},{key:"maxPeriod",get:function(){return Math.max(this.settings.fastPeriod,this.settings.slowPeriod,this.settings.signalPeriod)}},{key:"zeroLevel",get:function(){return Math.abs(this.min/(this.max-this.min))}},{key:"zeroLevelPercent",get:function(){return 100*this.zeroLevel}}])&&H_(t.prototype,n),i&&H_(t,i),a}(oA);function K_(e){return(K_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function J_(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function q_(e,t){return(q_=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Z_(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=eO(e);if(t){var r=eO(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return $_(this,n)}}function $_(e,t){return!t||"object"!==K_(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function eO(e){return(eO=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var tO=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&q_(e,t)}(a,e);var t,n,i,r=Z_(a);function a(e,t,n){var i;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(i=r.call(this,e,t,n)).type=y.MOVING_AVERAGE,i.updateSettings(n.settings),i}return t=a,(n=[{key:"calculate",value:function(){this.maxValue=w.CHART.DBL_MIN,this.minValue=w.CHART.DBL_MAX;var e=this.settings,t=e.ma,n=e.period,i=this.convertToMovingAverageConstant(t);if(i===XE){var r=this.sma({type:i,period:n});this.points=this.sma({candles:r,type:i,period:n})}else this.points=this.getMovingAveragePoints({type:i,period:n})}},{key:"flush",value:function(){this.points={}}},{key:"draw",value:function(){this.clearAllDynamicGraphics(),this.isShowing()&&this.getShowValue(this.settings.lines.main)&&(this.color=this.settings.lines.main.color,this.lineWidth=this.settings.lines.main.lineWidth,this.drawLine(this.filterIndicatorPoints(this.points,!0)))}},{key:"maxPeriod",get:function(){return this.settings.period}}])&&J_(t.prototype,n),i&&J_(t,i),a}(oA);function nO(e){return(nO="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function iO(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function rO(e,t){return(rO=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function aO(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=sO(e);if(t){var r=sO(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return oO(this,n)}}function oO(e,t){return!t||"object"!==nO(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function sO(e){return(sO=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var cO=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&rO(e,t)}(a,e);var t,n,i,r=aO(a);function a(e,t,n){var i;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(i=r.call(this,e,t,n)).type=y.PARABOLIC_SAR,i.containerIndex=On,i.updateSettings(n.settings),i}return t=a,(n=[{key:"flush",value:function(){this.averagePoints=[],this.sarArr=[],this.differences=[],this.highList=[],this.lowList=[],this.beg=1,this.sig0=1,this.sig1=0,this.xpt1=0,this.af1=0,this.xpt0=this.highList[this.beg-1]}},{key:"getIndicatorPoints",value:function(){for(var e=this.candles,t=this.averagePoints.length;t<e.length;t++)this.differences.push(e[t].maxValue-e[t].minValue),this.highList.push(e[t].maxValue),this.lowList.push(e[t].minValue);for(var n=this.standardDeviation(this.differences),i=this.averagePoints.length;i<e.length&&(0===e[i].maxValue||0===e[i].minValue);i++)this.sarArr[i]=0,this.beg++;e.length>0&&(this.sarArr[this.beg-1]=this.lowList[this.beg-1]-n);for(var r=this.averagePoints.length;r<e.length;r++)this.sig1=this.sig0,this.xpt1=this.xpt0,this.af1=this.af0,this.lmin=this.lowList[r-1]>this.lowList[r]?this.lowList[r]:this.lowList[r-1],this.lmax=this.highList[r-1]>this.highList[r]?this.highList[r-1]:this.highList[r],1===this.sig1?(this.sig0=this.lowList[r]>this.sarArr[r-1]?1:-1,this.xpt0=this.lmax>this.xpt1?this.lmax:this.xpt1):(this.sig0=this.highList[r]<this.sarArr[r-1]?-1:1,this.xpt0=this.lmin>this.xpt1?this.xpt1:this.lmin),this.sig0===this.sig1?(this.sarArr[r]=this.sarArr[r-1]+(this.xpt1-this.sarArr[r-1])*this.af1,this.af0=this.af1===this.settings.accelerationMax?this.settings.accelerationMax:this.settings.acceleration+this.af1,1===this.sig0?(this.af0=this.xpt0>this.xpt1?this.af0:this.af1,this.sarArr[r]=this.sarArr[r]>this.lmin?this.lmin:this.sarArr[r]):(this.af0=this.xpt0<this.xpt1?this.af0:this.af1,this.sarArr[r]=this.sarArr[r]>this.lmax?this.sarArr[r]:this.lmax)):(this.af0=this.settings.acceleration,this.sarArr[r]=this.xpt0);for(var a=this.averagePoints.length;a<this.sarArr.length;a++)this.averagePoints.push(new wy(this.sarArr[a],e[a].time))}},{key:"standardDeviation",value:function(e){var t=this.average(e),n=e.map((function(e){var n=e-t;return n*n}));return Math.sqrt(this.average(n))}},{key:"average",value:function(e){return e.reduce((function(e,t){return e+t}),0)/e.length}},{key:"calculate",value:function(){this.position===dt?(this.maxValue=w.CHART.DBL_MIN,this.minValue=w.CHART.DBL_MAX):(this.minVal=w.CHART.DBL_MAX,this.maxVal=w.CHART.DBL_MIN),this.checkFlush(),this.getIndicatorPoints(),this.filteredPoints=this.filterIndicatorPoints(this.averagePoints,!1)}},{key:"draw",value:function(){if(this.clearAllDynamicGraphics(),this.isShowing()&&this.getShowValue(this.settings.lines.main)){var e=this.getDynamicGraphics(this.containerIndex,"sarDots-".concat(this.index),!0);e.graphics.beginFill(this.prepareColor(this.settings.lines.main.color),1);var t=this.currentZoom-1;t<3?t=3:t>6&&(t=6);for(var n=0;n<this.filteredPoints.length;n++)e.graphics.drawRect(this.getXFromTime(this.filteredPoints[n].time+this.averageShift*this.pointsInElement),this.getYFromValue(this.filteredPoints[n].value),t*this.settings.lines.main.lineWidth,t*this.settings.lines.main.lineWidth);e.graphics.endFill()}}}])&&iO(t.prototype,n),i&&iO(t,i),a}(oA);function lO(e){return(lO="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function uO(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function hO(e,t){return(hO=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function dO(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=pO(e);if(t){var r=pO(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return fO(this,n)}}function fO(e,t){return!t||"object"!==lO(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function pO(e){return(pO=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var mO=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&hO(e,t)}(a,e);var t,n,i,r=dO(a);function a(e,t,n){var i;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(i=r.call(this,e,t,n)).type=y.RATE_OF_CHANGE,i.valueYScaleType=pi,i.position=ft,i.updateSettings(n.settings),i}return t=a,(n=[{key:"roundValue",value:function(e){return Ov(e,2)}},{key:"flush",value:function(){this.initMinMax(),this.points=[],this.filteredPoints=[],this.zeroLevelPercent=0}},{key:"initMinMax",value:function(){this.position===dt?(this.maxValue=w.CHART.DBL_MIN,this.minValue=w.CHART.DBL_MAX):(this.minVal=w.CHART.DBL_MAX,this.maxVal=w.CHART.DBL_MIN)}},{key:"removeLastCalculatedPoint",value:function(){this.points.length>0&&this.points.splice(-1,1)}},{key:"calculate",value:function(){if(this.checkFlush(),!(this.settings.period>=this.candles.length)){this.removeLastCalculatedPoint();for(var e=this.settings.period+this.points.length;e<this.candles.length;e++){var t=this.candles[e-this.settings.period].exitValue,n=(this.candles[e].exitValue-t)/t*100;this.points.push(new wy(n,this.candles[e].time))}this.filteredPoints=this.filterIndicatorPoints(this.points,!1),this.recalculateMinMax(this.filteredPoints),this.zeroLevelPercent=100*Math.abs(this.min/(this.max-this.min))}}},{key:"draw",value:function(){this.clearAllDynamicGraphics(),this.drawBottomIndicatorBg(),this.drawBottomIndicatorBorder();var e=this.colors.indicatorBottomNullLineColor;this.drawBottomLevel("zero",this.zeroLevelPercent,e,1,"","0"),this.drawBottomLevel("max",100,e,1,"",Number(this.max.toFixed(2)),!0),this.drawBottomLevel("min",0,e,1,"",Number(this.min.toFixed(2)));var t=this.settings.lines.main;if(this.getShowValue(t)){var n=t.color,i=t.lineWidth;this.drawBottomLine(this.filteredPoints,"period",i,n,!0)}}},{key:"maxPeriod",get:function(){return this.settings.period}}])&&uO(t.prototype,n),i&&uO(t,i),a}(oA);function yO(e){return(yO="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function gO(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function vO(e,t,n){return(vO="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var i=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=wO(e)););return e}(e,t);if(i){var r=Object.getOwnPropertyDescriptor(i,t);return r.get?r.get.call(n):r.value}})(e,t,n||e)}function bO(e,t){return(bO=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function EO(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=wO(e);if(t){var r=wO(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return AO(this,n)}}function AO(e,t){return!t||"object"!==yO(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function wO(e){return(wO=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var _O=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&bO(e,t)}(a,e);var t,n,i,r=EO(a);function a(e,t,n){var i;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(i=r.call(this,e,t,n)).type=y.RSI,i.position=ft,i.valueYScaleType=pi,i.min=0,i.max=100,i.updateSettings(n.settings),i}return t=a,(n=[{key:"updateSettings",value:function(e){vO(wO(a.prototype),"updateSettings",this).call(this,e),this.obColor=new bv(e.lines.overbought.color,e.lines.overbought.opacity/100),this.osColor=new bv(e.lines.oversold.color,e.lines.oversold.opacity/100)}},{key:"roundValue",value:function(e){return e>=0&&e<=100?Ov(e,0):""}},{key:"flush",value:function(){this.rsiPoints=[],this.sumCandleUp=0,this.sumCandleDown=0,this.lastAvgUp=0,this.lastAvgDown=0}},{key:"calculate",value:function(){var e,t,n;this.checkFlush(),this.rsiPoints.length>0&&this.rsiPoints.splice(-1,1);for(var i=this.rsiPoints.length>0?this.rsiPoints.length+this.settings.period:0;i<this.candles.length;i++){var r=0,a=0;if(e=null,i>0){var o=this.candles[i-1];(a=r=this.candles[i].exitValue-o.exitValue)<0&&(a=0),r<0?r*=-1:r=0}i<this.settings.period?(this.sumCandleUp+=r,this.sumCandleDown+=a):i===this.settings.period?(e=100-100/((t=this.sumCandleUp/this.settings.period)/(n=this.sumCandleDown/this.settings.period)+1),this.lastAvgUp=t,this.lastAvgDown=n):(e=100-100/((t=(this.lastAvgUp*(this.settings.period-1)+r)/this.settings.period)/(n=(this.lastAvgDown*(this.settings.period-1)+a)/this.settings.period)+1),i!==this.candles.length-1&&(this.lastAvgUp=t,this.lastAvgDown=n)),null!==e&&this.rsiPoints.push(new wy(e,this.candles[i].time))}this.filteredPoints=this.filterIndicatorPoints(this.rsiPoints,!1)}},{key:"draw",value:function(){this.clearAllDynamicGraphics(),this.drawBottomIndicatorBg(),this.drawBottomIndicatorBorder();var e=this.settings,t=e.overboughtLevel,n=e.oversoldLevel,i=e.lines,r=i.main,a=i.overbought,o=i.oversold;if(this.getShowValue(a)&&this.drawBottomLevel("ob",t,this.obColor,a.lineWidth,"",t.toString()),this.getShowValue(o)&&this.drawBottomLevel("os",n,this.osColor,o.lineWidth,"",n.toString()),this.getShowValue(r)){var s=r.color,c=r.lineWidth;this.drawBottomLine(this.filteredPoints,"rsi",c,s)}}},{key:"maxPeriod",get:function(){return this.settings.period}}])&&gO(t.prototype,n),i&&gO(t,i),a}(oA);function OO(e){return(OO="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function SO(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function CO(e,t,n){return(CO="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var i=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=PO(e)););return e}(e,t);if(i){var r=Object.getOwnPropertyDescriptor(i,t);return r.get?r.get.call(n):r.value}})(e,t,n||e)}function TO(e,t){return(TO=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function kO(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=PO(e);if(t){var r=PO(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return IO(this,n)}}function IO(e,t){return!t||"object"!==OO(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function PO(e){return(PO=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var NO=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&TO(e,t)}(a,e);var t,n,i,r=kO(a);function a(e,t,n){var i;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(i=r.call(this,e,t,n)).type=y.STOCHASTIC_OSCILLATOR,i.position=ft,i.valueYScaleType=pi,i.min=0,i.max=100,i.updateSettings(n.settings),i}return t=a,(n=[{key:"updateSettings",value:function(e){CO(PO(a.prototype),"updateSettings",this).call(this,e),this.obColor=new bv(e.lines.overbought.color,e.lines.overbought.opacity/100),this.osColor=new bv(e.lines.oversold.color,e.lines.oversold.opacity/100)}},{key:"roundValue",value:function(e){return e>=0&&e<=100?Ov(e,0):""}},{key:"calculate",value:function(){this.checkFlush(),this.removeLastCalculatedPoint(),this.calculateKPoints(),this.calculateDPoints()}},{key:"draw",value:function(){this.clearAllDynamicGraphics();var e=this.filterIndicatorPoints(this.kPoints,!1),t=this.filterIndicatorPoints(this.dPoints,!1);this.drawBottomIndicatorBg(),this.drawBottomIndicatorBorder();var n=this.settings,i=n.overboughtLevel,r=n.oversoldLevel,a=n.lines,o=a.dPeriod,s=a.kPeriod,c=a.overbought,l=a.oversold;if(this.getShowValue(s)){var u=s.color,h=s.lineWidth;this.drawBottomLine(e,"stochasticKPoints",h,u)}if(this.getShowValue(o)){var d=o.color,f=o.lineWidth;this.drawBottomLine(t,"stochasticDPoints",f,d)}if(this.getShowValue(c)){var p=c.lineWidth;this.drawBottomLevel("ob",i,this.obColor,p,"",i.toString())}if(this.getShowValue(l)){var m=l.lineWidth;this.drawBottomLevel("os",r,this.osColor,m,"",r.toString())}}},{key:"flush",value:function(){this.points=[],this.kPoints=[],this.dPoints=[],this.cachedPoints={}}},{key:"removeLastCalculatedPoint",value:function(){this.points.length>0&&this.points.splice(-1,1)}},{key:"calculateKPoints",value:function(){for(var e=this.settings.kPeriod+this.settings.dPeriod,t=this.points.length+e;t<this.candles.length;t++)try{for(var n=this.candles[t],i=n.minValue,r=n.maxValue,a=1;a<this.settings.kPeriod;a++){var o=this.candles[t-a];i=Math.min(o.minValue,i),r=Math.max(o.maxValue,r)}var s=r>i?(n.exitValue-i)/(r-i)*100:50;s=100-s,this.points.push(new wy(s,n.time))}catch(e){console.error(JSON.stringify({index:t,kPeriod:this.settings.kPeriod,candlesLength:this.candles.length,candles:this.candles}))}this.settings.mPeriod>1?this.kPoints=this.getMovingAveragePoints({type:this.convertToMovingAverageConstant(this.settings.ma),candles:this.points,cacheId:"k|".concat(this.points.length>0?this.points[0].time:"--"),period:this.settings.mPeriod}):this.kPoints=this.points}},{key:"calculateDPoints",value:function(){this.dPoints=this.getMovingAveragePoints({type:this.convertToMovingAverageConstant(this.settings.ma),candles:this.kPoints,cacheId:"d|".concat(this.kPoints.length>0?this.kPoints[0].time:"--"),period:this.settings.dPeriod})}},{key:"maxPeriod",get:function(){return Math.max(this.settings.kPeriod,this.settings.dPeriod,this.settings.mPeriod)}}])&&SO(t.prototype,n),i&&SO(t,i),a}(oA);function xO(e){return(xO="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function RO(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function DO(e,t){return(DO=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function MO(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=LO(e);if(t){var r=LO(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return BO(this,n)}}function BO(e,t){return!t||"object"!==xO(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function LO(e){return(LO=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var jO=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&DO(e,t)}(a,e);var t,n,i,r=MO(a);function a(e,t,n){var i;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(i=r.call(this,e,t,n)).type=y.ZIG_ZAG,i.updateSettings(n.settings),i}return t=a,(n=[{key:"flush",value:function(){this.zigZag=[],this.lows=[],this.highs=[],this.points=[]}},{key:"initMinMax",value:function(){this.position===dt?(this.maxValue=w.CHART.DBL_MIN,this.minValue=w.CHART.DBL_MAX):(this.minVal=w.CHART.DBL_MAX,this.maxVal=w.CHART.DBL_MIN)}},{key:"removeLastCalculatedPoint",value:function(){if(this.zigZag.length>0){var e=this.zigZag.slice().reverse().findIndex((function(e){return 0!==e}));-1!==e&&(this.zigZag=this.zigZag.slice(0,e),this.lows=this.lows.slice(0,e),this.highs=this.highs.slice(0,e))}}},{key:"calculate",value:function(){if(this.initMinMax(),this.checkFlush(),this.removeLastCalculatedPoint(),this.points=[],this.candles.length>this.settings.depth){this.fillData(this.lows,!0),this.fillData(this.highs,!1),this.calculateZigZag();for(var e=0;e<this.zigZag.length;e++)this.zigZag[e]&&this.points.push(new wy(this.zigZag[e],this.candles[e].time))}}},{key:"draw",value:function(){if(this.clearAllDynamicGraphics(),this.isShowing()){var e=this.settings.lines.main;if(this.getShowValue(e)){var t=e.color,n=e.lineWidth;this.drawLineWithParams({points:this.points,elementId:"zig-zag-".concat(this.index),color:t,lineWidth:n})}}}},{key:"getVal",value:function(e,t){return this.candles[e][this.isLineChart()?"exitValue":t?"minValue":"maxValue"]}},{key:"getExtremumOnPeriod",value:function(e,t){if(e<0)return 0;for(var n=e-this.settings.depth<0?e:this.settings.depth,i=e,r=this.getVal(e,t),a=e;a>e-n;a-=1){var o=this.getVal(a,t);(t&&o<r||!t&&o>r)&&(i=a,r=o)}return this.getVal(i,t)}},{key:"fillData",value:function(e,t){for(var n=0,i=.01*this.settings.deviation,r=this.settings.depth+e.length;r<this.candles.length;r++){var a=this.getExtremumOnPeriod(r,t);if(a!==n){n=a;var o=this.getVal(r,t);if(t&&o-a>a*i||!t&&a-o>a*i)e[r]=0;else{for(var s=1;s<=this.settings.backstep;s++){var c=e[r-s];0!==c&&(t&&c>=a||!t&&c<=a)&&(e[r-s]=0)}e[r]=o===a?a:0}}else a=0,e[r]=0}return e}},{key:"calculateZigZag",value:function(){for(var e=0,t=0,n=0,i=0,r=0,a=this.settings.depth+this.zigZag.length;a<this.candles.length;a++){var o=this.highs[a],s=this.lows[a];switch(e){case 0:0===r&&0===i&&(0!==o&&(i=this.candles[a].maxValue,t=a,e=-1,this.zigZag[a]=this.candles[a]),0!==s&&(r=this.candles[a].minValue,n=a,e=1,this.zigZag[a]=r));break;case 1:0!==s&&s<r&&0===o&&(this.zigZag[n]=0,n=a,r=s,this.zigZag[a]=r),0!==o&&0===s&&(i=o,t=a,this.zigZag[a]=i,e=-1);break;case-1:0!==o&&o>i&&0===s&&(this.zigZag[t]=0,t=a,i=o,this.zigZag[a]=i),0!==s&&0===o&&(r=s,n=a,this.zigZag[a]=r,e=1)}}}}])&&RO(t.prototype,n),i&&RO(t,i),a}(oA);function FO(e){return(FO="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function GO(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function VO(e,t){return(VO=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function HO(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=YO(e);if(t){var r=YO(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return UO(this,n)}}function UO(e,t){return!t||"object"!==FO(t)&&"function"!=typeof t?WO(e):t}function WO(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function YO(e){return(YO=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function QO(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var XO=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&VO(e,t)}(a,e);var t,n,i,r=HO(a);function a(e,t,n){var i;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),QO(WO(i=r.call(this,e,t,n)),"findMaxCallback",(function(e,t){return e<t})),QO(WO(i),"findMinCallback",(function(e,t){return e>t})),i.type=y.AROON,i.valueYScaleType=pi,i.position=ft,i.max=100,i.min=0,i.updateSettings(n.settings),i}return t=a,(n=[{key:"roundValue",value:function(e){return e>=0&&e<=100?Ov(e,0):""}},{key:"flush",value:function(){this.up=[],this.down=[]}},{key:"calculate",value:function(){this.checkFlush(),this.removeLastCalculatedPoint(),this.up.length!==this.down.length&&this.flush(),this.calculatePoints()}},{key:"removeLastCalculatedPoint",value:function(){this.up.length>0&&this.up.splice(-1,1),this.down.length>0&&this.down.splice(-1,1)}},{key:"calculatePoints",value:function(){for(var e=this.settings.period+this.up.length;e<this.candles.length;e++){var t=this.candles[e].time;this.up.push(new wy(this.getUpPoint(e),t)),this.down.push(new wy(this.getDownPoint(e),t))}}},{key:"getUpPoint",value:function(e){var t=e-this.findExtremumIndex(e,this.findMaxCallback);return this.getAroonValue(t)}},{key:"getDownPoint",value:function(e){var t=e-this.findExtremumIndex(e,this.findMinCallback);return this.getAroonValue(t)}},{key:"findExtremumIndex",value:function(e,t){for(var n=0,i=0,r=e-this.settings.period;r<=e;r++){var a=this.candles[r].exitValue;n&&!t(n,a)||(n=a,i=r)}return i}},{key:"getAroonValue",value:function(e){return(this.settings.period-e)/this.settings.period*100}},{key:"draw",value:function(){this.clearAllDynamicGraphics(),this.drawBottomIndicatorBg(),this.drawBottomIndicatorBorder(),this.drawBottomLevel("100",100,this.colors.indicatorBottomNullLineColor,1,"","100"),this.drawBottomLevel("70",70,this.colors.indicatorBottomNullLineColor,1,"","70"),this.drawBottomLevel("50",50,this.colors.indicatorBottomNullLineColor,1,"","50"),this.drawBottomLevel("30",30,this.colors.indicatorBottomNullLineColor,1,"","30"),this.drawBottomLevel("0",0,this.colors.indicatorBottomNullLineColor,1,"","0");var e=this.settings.lines,t=e.up,n=e.down;this.getShowValue(t)&&this.drawBottomLine(this.up,"up",t.lineWidth,t.color,!0),this.getShowValue(n)&&this.drawBottomLine(this.down,"down",n.lineWidth,n.color,!0)}},{key:"maxPeriod",get:function(){return this.settings.period}}])&&GO(t.prototype,n),i&&GO(t,i),a}(oA);function zO(e){return(zO="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function KO(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function JO(e,t){return(JO=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function qO(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=$O(e);if(t){var r=$O(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return ZO(this,n)}}function ZO(e,t){return!t||"object"!==zO(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function $O(e){return($O=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var eS=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&JO(e,t)}(a,e);var t,n,i,r=qO(a);function a(e,t,n){var i;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(i=r.call(this,e,t,n)).type=y.CCI,i.valueYScaleType=mi,i.position=ft,i.standardLevels=[-100,100],i.updateSettings(n.settings),i}return t=a,(n=[{key:"roundValue",value:function(e){return Ov(e,0)}},{key:"flush",value:function(){this.initMinMax(),this.filteredPoints=[],this.typicalPrice=[],this.cci=[],this.cachedPoints={}}},{key:"initMinMax",value:function(){this.position===dt?(this.maxValue=w.CHART.DBL_MIN,this.minValue=w.CHART.DBL_MAX):(this.minVal=w.CHART.DBL_MAX,this.maxVal=w.CHART.DBL_MIN)}},{key:"removeLastCalculatedPoint",value:function(){this.typicalPrice.length>0&&this.typicalPrice.splice(-1,1),this.cci.length>0&&this.cci.splice(-1,1)}},{key:"getTypicalPrice",value:function(e){return(e.maxValue+e.minValue+e.exitValue)/3}},{key:"calculate",value:function(){if(!(this.settings.period>=this.candles.length||this.candles.length<2)){this.checkFlush(),this.removeLastCalculatedPoint();for(var e=this.typicalPrice.length;e<this.candles.length;e++)this.typicalPrice.push(new wy(this.getTypicalPrice(this.candles[e]),this.candles[e].time));for(var t=this.sma({candles:this.typicalPrice,period:this.settings.period}),n=this.settings.period+this.cci.length;n<t.length;n++){for(var i=n+this.settings.period-1,r=t[n],a=r.time,o=r.value,s=this.typicalPrice[i].value,c=0,l=0;l<this.settings.period;l++)c+=Math.abs(this.typicalPrice[i-l].value-t[n-l].value);c/=this.settings.period,this.cci.push(new wy(0===c?0:(s-o)/(.015*c),a))}this.filteredPoints=this.filterIndicatorPoints(this.cci,!1),this.recalculateMinMax(this.filteredPoints),this.roundMinMax()}}},{key:"roundMinMax",value:function(){this.max=Math.max(100,100*Math.ceil(this.max/100)),this.min=Math.min(-100,100*Math.floor(this.min/100))}},{key:"getLabelLevelPercent",value:function(e){return 100*Math.abs((e-this.min)/(this.max-this.min))}},{key:"draw",value:function(){var e=this;this.clearAllDynamicGraphics();var t=this.colors.indicatorBottomNullLineColor;this.drawBottomIndicatorBg(),this.drawBottomIndicatorBorder(),this.drawBottomLevel("max",100,t,1,"",this.max,!0),this.drawBottomLevel("min",0,t,1,"",this.min);var n=this.settings.lines,i=n.background,r=n.main;if(this.getShowValue(i)){var a=i.color,o=i.opacity;this.levelBgColor=new bv(a,o/100),this.drawBottomLevelsBg(this.getLabelLevelPercent(-100),this.getLabelLevelPercent(100),this.levelBgColor)}if(this.getShowValue(r)){var s=r.color,c=r.lineWidth;this.drawBottomLine(this.filteredPoints,"period",c,s,!0)}this.standardLevels.forEach((function(n){if(e.max!==n&&e.min!==n){var i=e.getLabelLevelPercent(n);e.drawBottomLevel("level_".concat(n),i,t,1,"",n,n>0)}else e.clearIndicatorLevel(n)}))}},{key:"clearIndicatorLevel",value:function(e){this.clearDynamicGraphics(Sn,"indicatorLevel"+this.index+"_level_".concat(e)),this.clearDynamicGraphics(Gn,"indicatorLevelLabel"+this.index+"_level_".concat(e))}},{key:"maxPeriod",get:function(){return 2*this.settings.period}}])&&KO(t.prototype,n),i&&KO(t,i),a}(oA);function tS(e){return(tS="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function nS(e){return function(e){if(Array.isArray(e))return iS(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return iS(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return iS(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function iS(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function rS(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function aS(e,t){return(aS=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function oS(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=cS(e);if(t){var r=cS(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return sS(this,n)}}function sS(e,t){return!t||"object"!==tS(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function cS(e){return(cS=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var lS=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&aS(e,t)}(a,e);var t,n,i,r=oS(a);function a(e,t,n){var i;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(i=r.call(this,e,t,n)).type=y.ENVELOPE,i.updateSettings(n.settings),i}return t=a,(n=[{key:"flush",value:function(){this.initMinMax(),this.points={top:[],middle:[],bottom:[]},this.filteredPoints={top:[],middle:[],bottom:[]},this.cachedPoints={}}},{key:"calculate",value:function(){this.initMinMax(),this.checkFlush(),this.points.top.length&&(this.points.top.splice(-1,1),this.points.middle.splice(-1,1),this.points.bottom.splice(-1,1));for(var e=this.getMovingAveragePoints({type:this.convertToMovingAverageConstant(this.settings.ma),cacheId:"".concat(this.index,"-").concat(this.settings.period,"-").concat(this.settings.ma),source:this.settings.source,period:this.settings.period}),t=!1,n=this.settings.deviation/100,i=this.points.top.length;i<e.length;i++){var r=e[i],a=r.value,o=r.time;this.points.top.push(new wy(a+a*n,o)),this.points.middle.push(new wy(a,o)),this.points.bottom.push(new wy(a-a*n,o)),t=!0}t&&(this.filteredPoints={top:this.filterIndicatorPoints(this.points.top,!1),middle:this.filterIndicatorPoints(this.points.middle,!1),bottom:this.filterIndicatorPoints(this.points.bottom,!1)})}},{key:"initMinMax",value:function(){this.position===dt?(this.maxValue=w.CHART.DBL_MIN,this.minValue=w.CHART.DBL_MAX):(this.minVal=w.CHART.DBL_MAX,this.maxVal=w.CHART.DBL_MIN)}},{key:"draw",value:function(){var e=this;this.clearAllDynamicGraphics(),this.isShowing()&&(this.getShowValue(this.settings.lines.background)&&this.drawFill(),Object.keys(this.settings.lines).forEach((function(t){var n=e.settings.lines[t];e.getShowValue(n)&&e.isLine(n)&&e.drawLineWithParams({points:e.filteredPoints[t],elementId:"envelope-".concat(t,"-").concat(e.index),color:n.color,lineWidth:n.lineWidth})})))}},{key:"drawFill",value:function(){var e=nS(this.points.bottom).reverse(),t=[].concat(nS(e),nS(this.points.top)),n=this.settings.lines.background,i=n.color,r=n.opacity,a=this.getDynamicGraphics(On,"envelope-".concat(this.index));a.graphics.beginFill(this.prepareColor(i),r/100);for(var o=0;o<t.length;o++){var s=t[o],c=s.time,l=s.value;a.graphics[0===o?"moveTo":"lineTo"](this.getXFromTime(c+this.averageShift*this.pointsInElement),this.getYFromValue(l))}a.graphics.endFill()}},{key:"maxPeriod",get:function(){return this.settings.period}}])&&rS(t.prototype,n),i&&rS(t,i),a}(oA);function uS(e){return(uS="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function hS(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],i=!0,r=!1,a=void 0;try{for(var o,s=e[Symbol.iterator]();!(i=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);i=!0);}catch(e){r=!0,a=e}finally{try{i||null==s.return||s.return()}finally{if(r)throw a}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return dS(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return dS(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function dS(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function fS(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function pS(e,t,n){return(pS="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var i=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=vS(e)););return e}(e,t);if(i){var r=Object.getOwnPropertyDescriptor(i,t);return r.get?r.get.call(n):r.value}})(e,t,n||e)}function mS(e,t){return(mS=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function yS(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=vS(e);if(t){var r=vS(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return gS(this,n)}}function gS(e,t){return!t||"object"!==uS(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function vS(e){return(vS=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var bS=["tenkanSen","kijunSen","senkouSpanA","senkouSpanB","chikouSpan"],ES=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&mS(e,t)}(a,e);var t,n,i,r=yS(a);function a(e,t,n){var i;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(i=r.call(this,e,t,n)).type=y.ICHIMOKU_CLOUD,i.position=dt,i.updateSettings(n.settings),i}return t=a,(n=[{key:"updateSettings",value:function(e){pS(vS(a.prototype),"updateSettings",this).call(this,e),this.tenkanSenPeriod=e.tenkanSen,this.kijunSenPeriod=e.kijunSen,this.senkouSpanBPeriod=e.senkouSpanB}},{key:"initMinMax",value:function(){this.position===dt?(this.maxValue=w.CHART.DBL_MIN,this.minValue=w.CHART.DBL_MAX):(this.minVal=w.CHART.DBL_MAX,this.maxVal=w.CHART.DBL_MIN)}},{key:"flush",value:function(){this.initMinMax(),this.tenkanSen=[],this.kijunSen=[],this.senkouSpanA=[],this.senkouSpanB=[],this.chikouSpan=[],this.fillPoints=[],this.prevTenkanSenLength=0}},{key:"removeLastPoints",value:function(){var e=this;bS.forEach((function(t){e[t].length>0&&e[t].splice(-1,1)}))}},{key:"calculate",value:function(){this.checkFlush(),this.calculatePoints()}},{key:"calculateHighLowAvgValueForPeriod",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(!(this.candles.length<t))for(var i=n*dr(this.selectedPlotType,this.chartPeriod),r=t+e.length;r<this.candles.length;r++){for(var a=this.candles[r],o=this.getCandleValueBySource(a,"low"),s=this.getCandleValueBySource(a,"high"),c=1;c<t;c++){var l=this.candles[r-c],u=this.getCandleValueBySource(l,"low");u<o&&(o=u);var h=this.getCandleValueBySource(l,"high");h>s&&(s=h)}e.push(new wy((o+s)/2,a.time+i))}}},{key:"calculateChikouSpan",value:function(e){for(var t=this.kijunSenPeriod*dr(this.selectedPlotType,this.chartPeriod),n=e.length;n<this.candles.length;n++){var i=this.candles[n],r=this.getCandleValueBySource(i,"close");e.push(new wy(r,i.time-t))}}},{key:"calculateSenkouSpanA",value:function(e){if(0!==this.tenkanSen.length&&0!==this.kijunSen.length)for(var t=this.kijunSenPeriod*dr(this.selectedPlotType,this.chartPeriod),n=Math.max(this.tenkanSen.length,this.kijunSen.length),i=n-Math.min(this.tenkanSen.length,this.kijunSen.length),r=i+e.length;r<n;r++){var a=this.tenkanSen[this.tenkanSen.length===n?r:r-i],o=this.kijunSen[this.kijunSen.length===n?r:r-i];e.push(new wy((a.value+o.value)/2,a.time+t))}}},{key:"calculateFillPoints",value:function(){if(0!==this.senkouSpanALength&&0!==this.senkouSpanBLength)for(var e=this.fillPoints.length>0?this.fillPoints[this.fillPoints.length-1].index:0,t=this.senkouSpanA[e+this.senkouAOffset].value>this.senkouSpanB[e+this.senkouBOffset].value,n=e+1;n<this.minSenkouSpanLength;n++){var i=this.senkouSpanA[n+this.senkouAOffset],r=this.senkouSpanB[n+this.senkouBOffset],a=i.value>r.value;if(a!==t){var o=pr(i,this.senkouSpanA[n+this.senkouAOffset-1],r,this.senkouSpanB[n+this.senkouBOffset-1]);this.fillPoints.push({x:o.x,y:o.y,topLine:a?"senkouSpanA":"senkouSpanB",index:n}),t=a}}}},{key:"calculatePoints",value:function(){this.shouldRecalculate()&&(this.removeLastPoints(),this.calculateHighLowAvgValueForPeriod(this.tenkanSen,this.tenkanSenPeriod),this.calculateHighLowAvgValueForPeriod(this.kijunSen,this.kijunSenPeriod),this.calculateHighLowAvgValueForPeriod(this.senkouSpanB,this.senkouSpanBPeriod,this.kijunSenPeriod),this.calculateChikouSpan(this.chikouSpan),this.calculateSenkouSpanA(this.senkouSpanA),this.calculateFillPoints())}},{key:"shouldRecalculate",value:function(){return this.isVisible&&(this.isEndTimeChanged()||this.isChangedFromTo()||this.updated)}},{key:"shouldClearMainGraphLine",value:function(){var e=this.prevTenkanSenLength!==this.tenkanSen.length;return e&&(this.prevTenkanSenLength=this.tenkanSen.length),pS(vS(a.prototype),"shouldClearMainGraphLine",this).call(this)||e}},{key:"draw",value:function(){this.clearAllDynamicGraphics(),this.isShowing()&&(this.drawLines(),this.drawSenkouSpanFill())}},{key:"drawLines",value:function(){var e=this;bS.forEach((function(t){var n=e.settings.lines[t];e.getShowValue(n)&&e.isLine(n)&&e.drawLineWithParams({points:e.filterIndicatorPoints(e[t],!1),elementId:"ichimoku-".concat(t,"-").concat(e.index),color:e.settings.lines[t].color,lineWidth:e.settings.lines[t].lineWidth})}))}},{key:"drawSenkouSpanFill",value:function(){for(var e=this.fillPoints.length,t=this.getTimeFrom(),n=this.getTimeTo(),i=0;i<e;i++){var r=this.fillPoints[i].topLine,a="senkouSpanA"===r?this.senkouAOffset:this.senkouBOffset,o="senkouSpanB"===r?this.senkouAOffset:this.senkouBOffset,s=i===e-1,c="senkouSpanA"===r?"senkouSpanB":"senkouSpanA",l=s?this[c].length-1:this.fillPoints[i+1].index-1+o,u=this.fillPoints[i].index+o,h=this.fillPoints[i].index+a,d=s?this[r].length-1:this.fillPoints[i+1].index-1+a,f=[];s||f.push([this.fillPoints[i+1].x,this.fillPoints[i+1].y]);for(var p=l;p>=u;p--){var m=this[c][p],y=m.value,g=m.time;f.push([g,y])}f.push([this.fillPoints[i].x,this.fillPoints[i].y]);for(var v=h;v<=d;v++){var b=this[r][v],E=b.value,A=b.time;f.push([A,E])}for(var w=!1,_=0;_<f.length;_++){var O=hS(f[_],1)[0];if(t<=O&&O<=n){w=!0;break}}w&&this.drawFill(f,r,i)}}},{key:"drawFill",value:function(e,t,n){var i=this.settings.lines[t];if(this.getShowValue(i)){var r=this.getDynamicGraphics(On,"ic-fill-".concat(n,"-").concat(this.index));r.graphics.beginFill(this.prepareColor(this.settings.lines[t].color),this.settings.lines[t].opacity/100);for(var a=0;a<e.length;a++){var o=hS(e[a],2),s=o[0],c=o[1];r.graphics[0===a?"moveTo":"lineTo"](this.getXFromTime(s+this.averageShift*this.pointsInElement),this.getYFromValue(c))}r.graphics.endFill()}}},{key:"senkouSpanALength",get:function(){return this.senkouSpanA.length}},{key:"senkouSpanBLength",get:function(){return this.senkouSpanB.length}},{key:"minSenkouSpanLength",get:function(){return Math.min(this.senkouSpanALength,this.senkouSpanBLength)}},{key:"maxSenkouSpanLength",get:function(){return Math.max(this.senkouSpanALength,this.senkouSpanBLength)}},{key:"senkouAOffset",get:function(){return this.senkouSpanALength===this.maxSenkouSpanLength?this.maxSenkouSpanLength-this.minSenkouSpanLength:0}},{key:"senkouBOffset",get:function(){return this.senkouSpanBLength===this.maxSenkouSpanLength?this.maxSenkouSpanLength-this.minSenkouSpanLength:0}},{key:"maxPeriod",get:function(){return Math.max(this.tenkanSenPeriod,this.kijunSenPeriod+this.senkouSpanBPeriod)}}])&&fS(t.prototype,n),i&&fS(t,i),a}(oA);function AS(e){return(AS="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function wS(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function _S(e,t,n){return(_S="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var i=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=TS(e)););return e}(e,t);if(i){var r=Object.getOwnPropertyDescriptor(i,t);return r.get?r.get.call(n):r.value}})(e,t,n||e)}function OS(e,t){return(OS=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function SS(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=TS(e);if(t){var r=TS(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return CS(this,n)}}function CS(e,t){return!t||"object"!==AS(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function TS(e){return(TS=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var kS=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&OS(e,t)}(a,e);var t,n,i,r=SS(a);function a(e,t,n){var i;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(i=r.call(this,e,t,n)).type=y.DEMARKER,i.position=ft,i.valueYScaleType=mi,i.min=0,i.max=1,i.updateSettings(n.settings),i}return t=a,(n=[{key:"updateSettings",value:function(e){_S(TS(a.prototype),"updateSettings",this).call(this,e),this.obColor=new bv(e.lines.overbought.color,e.lines.overbought.opacity/100),this.osColor=new bv(e.lines.oversold.color,e.lines.oversold.opacity/100)}},{key:"roundValue",value:function(e){return e>=0&&e<=1?Ov(e,2):""}},{key:"calculate",value:function(){this.checkFlush(),this.calculatePoints()}},{key:"flush",value:function(){this.deMax=[],this.deMin=[],this.deMark=[],this.filteredPoints=[],this.prevFirstFiltered="",this.prevLastFiltered="",this.cachedPoints={}}},{key:"removeLastPoints",value:function(){this.deMax.length>0&&this.deMax.splice(-1,1),this.deMin.length>0&&this.deMin.splice(-1,1),this.deMark.length>0&&this.deMark.splice(-1,1)}},{key:"calculatePoints",value:function(){if(!(this.settings.period+1>this.candles.length)){this.removeLastPoints();for(var e=this.settings.period+1+this.deMax.length;e<this.candles.length;e++){var t=this.candles[e].time,n=this.getCandleValueBySource(this.candles[e],"high"),i=this.getCandleValueBySource(this.candles[e-1],"high");this.deMax.push(new wy(n>i?n-i:0,t));var r=this.getCandleValueBySource(this.candles[e],"low"),a=this.getCandleValueBySource(this.candles[e-1],"low");this.deMin.push(new wy(r<a?a-r:0,t))}var o=this.settings.period;this.smaDMax=this.sma({candles:this.deMax,cacheId:"demarker-max-".concat(o),period:o}),this.smaDMin=this.sma({candles:this.deMin,cacheId:"demarker-min-".concat(o),period:o});for(var s=this.deMark.length;s<this.smaDMax.length;s++){var c=this.smaDMax[s],l=c.time,u=c.value,h=this.smaDMin[s].value;this.deMark.push(new wy(u+h!==0?u/(u+h):0,l))}this.filteredPoints=this.filterIndicatorPoints(this.deMark,!1)}}},{key:"draw",value:function(){this.clearAllDynamicGraphics(),this.drawBottomIndicatorBg(),this.drawBottomIndicatorBorder();var e=this.settings.lines,t=e.overbought,n=e.oversold,i=e.main;if(this.getShowValue(t)&&t.level>0){var r=t.level,a=t.lineWidth;this.drawBottomLevel("overbought",r,this.obColor,a,"",r)}if(this.getShowValue(n)&&n.level>0){var o=n.level,s=n.lineWidth;this.drawBottomLevel("oversold",o,this.osColor,s,"",o)}if(this.getShowValue(i)){var c=i.color,l=i.lineWidth;this.settings.lines.main.figure===w.CHART.FIGURE.LINE?this.drawBottomLine(this.filteredPoints,"demarker",l,c,!0):this.settings.lines.main.figure===w.CHART.FIGURE.HISTOGRAM&&(this.drawBottomIndicatorHistogram(this.filteredPoints,c,c,.5,w.CHART.HISTOGRAM_COLOR.FROM_ZERO_LEVEL),this.drawBottomLevel("middle",50,this.colors.indicatorBottomNullLineColor,1,"",""))}}},{key:"maxPeriod",get:function(){return this.settings.period+1}}])&&wS(t.prototype,n),i&&wS(t,i),a}(oA);function IS(e){return(IS="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function PS(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function NS(e,t,n){return(NS="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var i=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=MS(e)););return e}(e,t);if(i){var r=Object.getOwnPropertyDescriptor(i,t);return r.get?r.get.call(n):r.value}})(e,t,n||e)}function xS(e,t){return(xS=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function RS(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=MS(e);if(t){var r=MS(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return DS(this,n)}}function DS(e,t){return!t||"object"!==IS(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function MS(e){return(MS=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var BS=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&xS(e,t)}(a,e);var t,n,i,r=RS(a);function a(e,t,n){var i;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(i=r.call(this,e,t,n)).type=y.WILLIAMS_R,i.position=ft,i.valueYScaleType=mi,i.max=10,i.min=-110,i.updateSettings(n.settings),i}return t=a,(n=[{key:"updateSettings",value:function(e){NS(MS(a.prototype),"updateSettings",this).call(this,e),this.obColor=new bv(e.lines.upperBand.color,e.lines.upperBand.opacity/100),this.osColor=new bv(e.lines.lowerBand.color,e.lines.lowerBand.opacity/100)}},{key:"roundValue",value:function(e){return Ov(e,0)}},{key:"flush",value:function(){this.points=[],this.filteredPoints=[]}},{key:"removeLastPoints",value:function(){this.points.length>0&&this.points.splice(-1,1)}},{key:"calculate",value:function(){this.checkFlush(),this.calculatePoints()}},{key:"calculatePoints",value:function(){if(!(this.settings.period>this.candles.length)){this.removeLastPoints();for(var e=this.settings.period+this.points.length;e<this.candles.length;e++){var t=this.candles[e],n=this.highest("high",e,this.settings.period),i=this.lowest("low",e,this.settings.period),r=this.getCandleValueBySource(t,"close"),a=n-i,o=0===a?0:(n-r)/a*-100;this.points.push(new wy(o,t.time))}this.filteredPoints=this.filterIndicatorPoints(this.points,!1)}}},{key:"getBandPercent",value:function(e){return 100-(this.max-e)/(this.max-this.min)*100}},{key:"draw",value:function(){this.clearAllDynamicGraphics(),this.drawBottomIndicatorBg(),this.drawBottomIndicatorBorder();var e=this.settings.lines,t=e.upperBand,n=e.lowerBand,i=e.main;if(this.getShowValue(t)){var r=t.level,a=t.lineWidth;this.drawBottomLevel("upperBand",this.getBandPercent(r),this.obColor,a,"",r)}if(this.getShowValue(n)){var o=n.level,s=n.lineWidth;this.drawBottomLevel("lowerBand",this.getBandPercent(o),this.osColor,s,"",o)}if(this.getShowValue(i)){var c=100-(this.max-(n.level+t.level)/2)/(this.max-this.min)*100;this.drawBottomLevel("middle",c,this.colors.indicatorBottomNullLineColor,1,"",-c)}var l=w.CHART.FIGURE,u=l.HISTOGRAM,h=l.LINE,d=this.settings.lines.main,f=d.color,p=d.figure,m=d.lineWidth;p===h?this.drawBottomLine(this.filteredPoints,"williams_r",m,f,!0):p===u&&this.drawBottomIndicatorHistogram(this.filteredPoints,f,f)}},{key:"maxPeriod",get:function(){return this.settings.period}}])&&PS(t.prototype,n),i&&PS(t,i),a}(oA);function LS(e){return(LS="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function jS(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function FS(e,t){return(FS=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function GS(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=HS(e);if(t){var r=HS(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return VS(this,n)}}function VS(e,t){return!t||"object"!==LS(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function HS(e){return(HS=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var US=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&FS(e,t)}(a,e);var t,n,i,r=GS(a);function a(e,t,n){var i;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(i=r.call(this,e,t,n)).type=y.BULLS_POWER,i.position=ft,i.valueYScaleType=mi,i.updateSettings(n.settings),i}return t=a,(n=[{key:"flush",value:function(){this.points=[],this.ema=[],this.filteredPoints=[]}},{key:"removeLastPoints",value:function(){this.points.length>0&&this.points.splice(-1,1),this.ema.length>0&&this.ema.splice(-1,1)}},{key:"calculate",value:function(){this.checkFlush(),this.calculatePoints(),this.filterPoints()}},{key:"calculatePoints",value:function(){if(!(this.settings.period>this.candles.length)){this.removeLastPoints(),this.ema=this.getEMA(this.ema,this.settings.period);for(var e=this.settings.period+this.points.length;e<this.candles.length;e++){var t=this.candles[e],n=this.ema[e-this.settings.period];this.points.push(new wy(this.calculateValue(t,n),t.time))}}}},{key:"calculateValue",value:function(e,t){return this.getCandleValueBySource(e,"high")-t.value}},{key:"filterPoints",value:function(){this.filteredPoints=this.filterIndicatorPoints(this.points,!1),this.recalculateMinMax(this.filteredPoints)}},{key:"draw",value:function(){this.clearAllDynamicGraphics(),this.drawBottomIndicatorBg(),this.drawBottomIndicatorBorder();var e=this.settings.lines.main,t=e.color,n=e.lineWidth,i=e.figure,r=this.colors.indicatorBottomNullLineColor;i===w.CHART.FIGURE.LINE?(this.drawBottomLine(this.filteredPoints,this.type,n,t,!0),this.drawBottomLevel("zero",this.zeroLevelPercent,r,1,"","0")):i===w.CHART.FIGURE.HISTOGRAM&&(this.drawBottomIndicatorHistogram(this.filteredPoints,t,t,this.zeroLevel),this.drawBottomLevel("histogram_zero",this.zeroLevelPercent,r,1,"","0"))}},{key:"maxPeriod",get:function(){return this.settings.period}},{key:"zeroLevel",get:function(){return Math.abs(this.min/(this.max-this.min))}},{key:"zeroLevelPercent",get:function(){return 100*this.zeroLevel}}])&&jS(t.prototype,n),i&&jS(t,i),a}(oA);function WS(e){return(WS="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function YS(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function QS(e,t){return(QS=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function XS(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=KS(e);if(t){var r=KS(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return zS(this,n)}}function zS(e,t){return!t||"object"!==WS(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function KS(e){return(KS=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var JS=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&QS(e,t)}(a,e);var t,n,i,r=XS(a);function a(e,t,n){var i;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(i=r.call(this,e,t,n)).type=y.BEARS_POWER,i}return t=a,(n=[{key:"calculateValue",value:function(e,t){return this.getCandleValueBySource(e,"low")-t.value}}])&&YS(t.prototype,n),i&&YS(t,i),a}(US);function qS(e){return(qS="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ZS(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function $S(e,t){return($S=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function eC(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=nC(e);if(t){var r=nC(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return tC(this,n)}}function tC(e,t){return!t||"object"!==qS(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function nC(e){return(nC=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var iC=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&$S(e,t)}(a,e);var t,n,i,r=eC(a);function a(e,t,n){var i;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(i=r.call(this,e,t,n)).type=y.MOMENTUM,i.position=ft,i.valueYScaleType=mi,i.updateSettings(n.settings),i}return t=a,(n=[{key:"roundValue",value:function(e){return Ov(e,2)}},{key:"flush",value:function(){this.points=[],this.filteredPoints=[]}},{key:"removeLastPoints",value:function(){this.points.length>0&&this.points.splice(-1,1)}},{key:"calculate",value:function(){this.checkFlush(),this.calculatePoints(),this.filterPoints()}},{key:"calculatePoints",value:function(){if(!(this.settings.period>this.candles.length)){this.removeLastPoints();for(var e=this.settings.period+this.points.length;e<this.candles.length;e++){var t=this.candles[e],n=this.candles[e-this.settings.period],i=this.getCandleValueBySource(t,this.settings.source),r=this.getCandleValueBySource(n,this.settings.source);this.points.push(new wy(100*i/r,t.time))}}}},{key:"filterPoints",value:function(){this.filteredPoints=this.filterIndicatorPoints(this.points,!1),this.recalculateMinMax(this.filteredPoints)}},{key:"draw",value:function(){if(this.clearAllDynamicGraphics(),this.drawBottomIndicatorBg(),this.drawBottomIndicatorBorder(),this.getShowValue(this.settings.lines.main)){var e=this.settings.lines.main,t=e.color,n=e.lineWidth;this.drawBottomLine(this.filteredPoints,this.type,n,t,!0)}var i=this.colors.indicatorBottomNullLineColor;this.drawBottomLevel("100",100-this.zeroLevelPercent,i,1,"","100"),this.drawBottomLevel("max",100,i,1,"",DE(this.max)),this.drawBottomLevel("min",0,i,1,"",DE(this.min))}},{key:"maxPeriod",get:function(){return this.settings.period}},{key:"zeroLevelPercent",get:function(){return 100*Math.abs((this.max-100)/(this.max-this.min))}}])&&ZS(t.prototype,n),i&&ZS(t,i),a}(oA);function rC(e){return(rC="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function aC(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function oC(e,t){return(oC=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function sC(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=lC(e);if(t){var r=lC(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return cC(this,n)}}function cC(e,t){return!t||"object"!==rC(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function lC(e){return(lC=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var uC=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&oC(e,t)}(a,e);var t,n,i,r=sC(a);function a(e,t,n){var i;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(i=r.call(this,e,t,n)).type=y.VORTEX,i.position=ft,i.valueYScaleType=mi,i.updateSettings(n.settings),i}return t=a,(n=[{key:"roundValue",value:function(e){return DE(e,2)}},{key:"flush",value:function(){this.vmPlus=[],this.vmMinus=[],this.tr=[],this.viPlus=[],this.viMinus=[]}},{key:"calculate",value:function(){this.checkFlush(),this.calculatePoints()}},{key:"removeLastPoints",value:function(){this.vmPlus.length>0&&this.vmPlus.splice(-1,1),this.vmMinus.length>0&&this.vmMinus.splice(-1,1),this.tr.length>0&&this.tr.splice(-1,1),this.viPlus.length>0&&this.viPlus.splice(-1,1),this.viMinus.length>0&&this.viMinus.splice(-1,1)}},{key:"calculatePoints",value:function(){if(!(this.settings.period>this.candles.length)){this.removeLastPoints();for(var e=1+this.vmPlus.length;e<this.candles.length;e++){var t=this.candles[e],n=this.candles[e-1],i=this.getCandleValueBySource(t,"high"),r=this.getCandleValueBySource(t,"low"),a=this.getCandleValueBySource(n,"high"),o=this.getCandleValueBySource(n,"low"),s=this.getCandleValueBySource(n,"close");this.vmPlus.push(new wy(Math.abs(i-o),t.time)),this.vmMinus.push(new wy(Math.abs(r-a),t.time));var c=Math.max(i-r,Math.abs(i-s),Math.abs(r-s));if(this.tr.push(new wy(c,t.time)),e>=this.settings.period){var l=this.sumLast(this.vmPlus,this.settings.period),u=this.sumLast(this.vmMinus,this.settings.period),h=this.sumLast(this.tr,this.settings.period);this.viPlus.push(new wy(0===h?0:l/h,t.time)),this.viMinus.push(new wy(0===h?0:u/h,t.time))}}}}},{key:"sumLast",value:function(e,t){for(var n=0,i=e.length-1,r=i-t+1,a=i;a>=r;a--)n+=e[a].value;return n}},{key:"draw",value:function(){this.clearAllDynamicGraphics();var e=this.filterPoints(this.viPlus),t=this.filterPoints(this.viMinus);this.recalculateMinMax(e,t),this.drawBottomIndicatorBg(),this.drawBottomIndicatorBorder();var n=this.settings.lines,i=n.viPlus,r=n.viMinus;if(this.getShowValue(i)){var a=i.color,o=i.lineWidth;this.drawBottomLine(e,"vi_plus",o,a,!0)}if(this.getShowValue(r)){var s=r.color,c=r.lineWidth;this.drawBottomLine(t,"vi_minus",c,s,!0)}var l=this.colors.indicatorBottomNullLineColor;e.length>0&&t.length>0&&(this.drawBottomLevel("max",100,l,1,"",this.roundValue(this.max)),this.drawBottomLevel("min",0,l,1,"",this.roundValue(this.min)));var u=(1-this.min)/(this.max-this.min)*100;u>0&&u<100&&this.drawBottomLevel("one",u,l,1,"",1)}},{key:"maxPeriod",get:function(){return this.settings.period}}])&&aC(t.prototype,n),i&&aC(t,i),a}(oA);function hC(e){return(hC="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function dC(e){return function(e){if(Array.isArray(e))return fC(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return fC(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return fC(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function fC(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function pC(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function mC(e,t){return(mC=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function yC(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=vC(e);if(t){var r=vC(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return gC(this,n)}}function gC(e,t){return!t||"object"!==hC(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function vC(e){return(vC=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var bC=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&mC(e,t)}(a,e);var t,n,i,r=yC(a);function a(e,t,n){var i;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(i=r.call(this,e,t,n)).type=y.KELTNER_CHANNEL,i.position=dt,i.updateSettings(n.settings),i}return t=a,(n=[{key:"flush",value:function(){this.ema=[],this.tr=[],this.atr=[],this.upperBand=[],this.lowerBand=[],this.filteredPoints={top:[],middle:[],bottom:[]}}},{key:"calculate",value:function(){this.checkFlush(),this.calculatePoints()}},{key:"removeLastPoints",value:function(){this.ema.length>0&&this.ema.splice(-1,1),this.tr.length>0&&this.tr.splice(-1,1),this.atr.length>0&&this.atr.splice(-1,1),this.upperBand.length>0&&this.upperBand.splice(-1,1),this.lowerBand.length>0&&this.lowerBand.splice(-1,1)}},{key:"calculatePoints",value:function(){if(!(this.settings.emaPeriod>this.candles.length||this.settings.atrPeriod>this.candles.length)){this.removeLastPoints();for(var e=2/(this.settings.emaPeriod+1),t=2/(this.settings.atrPeriod+1),n=this.ema.length+this.settings.emaPeriod;n<this.candles.length;n++){var i=this.candles[n],r=this.candles[n-1],a=this.getCandleValueBySource(i,"close");this.ema.length>0&&(a=e*a+(1-e)*this.ema[this.ema.length-1].value);var o=this.getCandleValueBySource(i,"high"),s=this.getCandleValueBySource(i,"low"),c=this.getCandleValueBySource(r,"close"),l=Math.max(o-s,Math.abs(o-c),Math.abs(s-c));if(this.ema.push(new wy(a,i.time)),this.tr.push(new wy(l,i.time)),this.tr.length>=this.settings.atrPeriod){var u=l;this.atr.length>0&&(u=t*u+(1-t)*this.atr[this.atr.length-1].value),this.atr.push(new wy(u,i.time)),this.upperBand.push(new wy(a+this.settings.multiplier*u,i.time)),this.lowerBand.push(new wy(a-this.settings.multiplier*u,i.time))}}this.filteredPoints={top:this.filterIndicatorPoints(this.upperBand,!1),middle:this.filterIndicatorPoints(this.ema,!1),bottom:this.filterIndicatorPoints(this.lowerBand,!1)}}}},{key:"draw",value:function(){var e=this;if(this.clearAllDynamicGraphics(),this.isShowing()&&(Object.keys(this.settings.lines).forEach((function(t){var n=e.settings.lines[t];e.getShowValue(n)&&e.isLine(n)&&e.drawLineWithParams({points:e.filteredPoints[t],elementId:"keltner-".concat(t,"-").concat(e.index),color:n.color,lineWidth:n.lineWidth})})),this.getShowValue(this.settings.lines.background))){var t=[].concat(dC(this.filteredPoints.top),dC(this.filteredPoints.bottom.slice().reverse()));this.drawFill(t)}}},{key:"drawFill",value:function(e){var t=this.getDynamicGraphics(On,"keltner-fill-".concat(this.index)),n=this.settings.lines.background,i=n.color,r=n.opacity;t.graphics.beginFill(this.prepareColor(i),r/100);for(var a=0;a<e.length;a++){var o=e[a],s=o.time,c=o.value;t.graphics[0===a?"moveTo":"lineTo"](this.getXFromTime(s+this.averageShift*this.pointsInElement),this.getYFromValue(c))}t.graphics.endFill()}},{key:"maxPeriod",get:function(){return Math.max(this.settings.emaPeriod,this.settings.atrPeriod)}}])&&pC(t.prototype,n),i&&pC(t,i),a}(oA);function EC(e){return(EC="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function AC(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function wC(e,t){return(wC=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function _C(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=SC(e);if(t){var r=SC(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return OC(this,n)}}function OC(e,t){return!t||"object"!==EC(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function SC(e){return(SC=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var CC=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&wC(e,t)}(a,e);var t,n,i,r=_C(a);function a(e,t,n){var i;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(i=r.call(this,e,t,n)).type=y.VOLUME_OSCILLATOR,i.position=ft,i.valueYScaleType=mi,i.updateSettings(n.settings),i}return t=a,(n=[{key:"updateColors",value:function(){var e=this.settings.opacity;this.upColor=new bv(this.candleUpHex,e/100),this.downColor=new bv(this.candleDownHex,e/100)}},{key:"recalculateMinMax",value:function(){var e=this;this.resetMinMax();for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];n.forEach((function(t){t.forEach((function(t){return e.minMaxPush(t.tick)}))})),this.min=0,this.minMaxBalance()}},{key:"filterIndicatorPoints",value:function(e,t){var n=this.pointsManager.candleWidth/this.secondWidth,i=this.getTimeFrom()-n,r=this.getTimeTo()+n,a=[];if(e&&e.length>0)for(var o=0;o<e.length;o++){var s=e[o];s.time<i||s.time>r||(a.push(s),t&&(s.tick>this.maxVal&&(this.maxVal=s.tick),s.tick<this.minVal&&(this.minVal=s.tick)))}return a}},{key:"roundValue",value:function(e){return Ov(e,0)}},{key:"draw",value:function(){this.clearAllDynamicGraphics(),this.updateColors(),this.recalculateMinMax(this.filterIndicatorPoints(this.candles)),this.drawBottomIndicatorBorder(),this.drawBottomIndicatorHistogram(this.candles,this.upColor,this.downColor)}},{key:"drawBottomIndicatorHistogram",value:function(e,t,n){arguments.length>3&&void 0!==arguments[3]||w.CHART.HISTOGRAM_COLOR.POSITIVE_NEGATIVE;var i=this.getDynamicGraphicsSelector(Sn,"indicatorHisto"+this.index,!0);if(i.isNew)for(var r=this.averageShift*this.pointsInElement,a=this.isLineChart()?1:this.pointsManager.candleWidth,o=this.pointsManager.candleWidth/this.secondWidth,s=this.getTimeFrom()-o,c=this.getTimeTo()+o,l=0,u=0;u<e.length;u++){var h=e[u],d=h.time,f=h.tick,p=this.getXFromTime(d+r),m=this.getYFromValueIndicator(f,!0),y=d>=s&&d<=c,g=this.getYFromValueIndicator(this.min,!0);if(y){var v=f>l?t:n;i.graphics.beginFill(this.prepareColor(v),this.prepareAlpha(v)),i.graphics.drawRect(p-a/2,m,a,Math.max(1,g-m)),i.graphics.endFill(),l=f}}}}])&&AC(t.prototype,n),i&&AC(t,i),a}(oA);function TC(e){return(TC="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function kC(e){return function(e){if(Array.isArray(e))return IC(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return IC(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return IC(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function IC(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function PC(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function NC(e,t){return(NC=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function xC(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=DC(e);if(t){var r=DC(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return RC(this,n)}}function RC(e,t){return!t||"object"!==TC(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function DC(e){return(DC=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var MC=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&NC(e,t)}(a,e);var t,n,i,r=xC(a);function a(e,t,n){var i;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(i=r.call(this,e,t,n)).type=y.DONCHIAN_CHANNEL,i.updateSettings(n.settings),i}return t=a,(n=[{key:"flush",value:function(){this.initMinMax(),this.points={top:[],middle:[],bottom:[]},this.filteredPoints={top:[],middle:[],bottom:[]}}},{key:"initMinMax",value:function(){this.position===dt?(this.maxValue=w.CHART.DBL_MIN,this.minValue=w.CHART.DBL_MAX):(this.minVal=w.CHART.DBL_MAX,this.maxVal=w.CHART.DBL_MIN)}},{key:"calculate",value:function(){this.initMinMax(),this.checkFlush(),this.points.top.length&&(this.points.top.splice(-1,1),this.points.middle.splice(-1,1),this.points.bottom.splice(-1,1));for(var e=!1,t=this.maxPeriod+this.points.top.length;t<this.candles.length;t++){for(var n=this.candles[t],i=this.getCandleValueBySource(n,"low"),r=this.getCandleValueBySource(n,"high"),a=0;a<this.maxPeriod;a++){var o=t-a;if(o>=0){var s=this.candles[o],c=this.getCandleValueBySource(s,"low");c<i&&(i=c);var l=this.getCandleValueBySource(s,"high");l>r&&(r=l)}}this.points.top.push(new wy(r,this.candles[t].time)),this.points.middle.push(new wy((i+r)/2,this.candles[t].time)),this.points.bottom.push(new wy(i,this.candles[t].time)),e=!0}e&&(this.filteredPoints={top:this.filterIndicatorPoints(this.points.top,!0),middle:this.filterIndicatorPoints(this.points.middle,!0),bottom:this.filterIndicatorPoints(this.points.bottom,!0)})}},{key:"draw",value:function(){var e=this;this.clearAllDynamicGraphics(),this.isShowing()&&(this.getShowValue(this.settings.lines.background)&&this.drawFill(),Object.keys(this.settings.lines).forEach((function(t){var n=e.settings.lines[t];e.getShowValue(n)&&e.isLine(n)&&e.drawLineWithParams({points:e.filteredPoints[t],elementId:"donchian-channel-".concat(t,"-").concat(e.index),color:n.color,alpha:n.opacity/100,lineWidth:n.lineWidth})})))}},{key:"drawFill",value:function(){var e=kC(this.filteredPoints.bottom).reverse(),t=[].concat(kC(e),kC(this.filteredPoints.top)),n=this.settings.lines.background,i=n.color,r=n.opacity,a=this.getDynamicGraphics(On,"donchian-channel-".concat(this.index));a.graphics.beginFill(this.prepareColor(i),r/100);for(var o=0;o<t.length;o++){var s=t[o],c=s.time,l=s.value;a.graphics[0===o?"moveTo":"lineTo"](this.getXFromTime(c+this.averageShift*this.pointsInElement),this.getYFromValue(l))}a.graphics.endFill()}},{key:"maxPeriod",get:function(){return this.settings.period}}])&&PC(t.prototype,n),i&&PC(t,i),a}(oA);function BC(e){return(BC="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function LC(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function jC(e,t){return(jC=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function FC(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=VC(e);if(t){var r=VC(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return GC(this,n)}}function GC(e,t){return!t||"object"!==BC(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function VC(e){return(VC=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var HC=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&jC(e,t)}(a,e);var t,n,i,r=FC(a);function a(e,t,n){var i;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(i=r.call(this,e,t,n)).type=y.SUPERTREND,i.position=dt,i.updateSettings(n.settings),i}return t=a,(n=[{key:"flush",value:function(){this.ema=[],this.tr=[],this.atr=[],this.supertrend=[],this.filteredPoints={supertrend:[]}}},{key:"calculate",value:function(){this.checkFlush(),this.calculatePoints()}},{key:"removeLastPoints",value:function(){this.ema.length>0&&this.ema.splice(-1,1),this.tr.length>0&&this.tr.splice(-1,1),this.atr.length>0&&this.atr.splice(-1,1),this.supertrend.length>0&&this.supertrend.splice(-1,1)}},{key:"calculatePoints",value:function(){if(!(this.settings.period>this.candles.length)){this.removeLastPoints();for(var e=2/(this.settings.period+1),t=2/(this.settings.period+1),n={upperBandBasic:0,lowerBandBasic:0,upperBand:0,lowerBand:0,supertrend:0},i=this.ema.length+this.settings.period;i<this.candles.length;i++){var r=this.candles[i],a=this.candles[i-1],o=this.getCandleValueBySource(r,"close");this.ema.length>0&&(o=e*o+(1-e)*this.ema[this.ema.length-1].value);var s=this.getCandleValueBySource(r,"high"),c=this.getCandleValueBySource(r,"low"),l=this.getCandleValueBySource(r,"close"),u=this.getCandleValueBySource(a,"close"),h=Math.max(s-c,Math.abs(s-u),Math.abs(c-u));if(this.ema.push(new wy(o,r.time)),this.tr.push(new wy(h,r.time)),this.tr.length>=this.settings.period){var d=h;this.atr.length>0&&(d=t*d+(1-t)*this.atr[this.atr.length-1].value);var f=(s+c)/2+this.settings.multiplier*d,p=(s+c)/2-this.settings.multiplier*d,m=0,y=0,g=0;n={upperBandBasic:f,lowerBandBasic:p,upperBand:m=f<n.upperBand||u>n.upperBand?f:n.upperBand,lowerBand:y=p>n.lowerBand||u<n.lowerBand?p:n.lowerBand,supertrend:g=n.supertrend===n.upperBand&&l<=m?m:n.supertrend===n.upperBand&&l>=m||n.supertrend===n.lowerBand&&l>=y?y:n.supertrend===n.lowerBand&&l<=y?m:0},this.atr.push(new wy(d,r.time)),this.supertrend.push(new wy(g,r.time,l))}}this.filteredPoints={supertrend:this.filterIndicatorPoints(this.supertrend,!1)}}}},{key:"draw",value:function(){this.clearAllDynamicGraphics(),this.isShowing()&&this.drawLineWithParams({points:this.filteredPoints.supertrend,elementId:"supertrend-".concat("supertrend","-").concat(this.index),upperColor:this.settings.lines.upper.color,lowerColor:this.settings.lines.lower.color,upperLineWidth:this.settings.lines.upper.lineWidth,lowerLineWidth:this.settings.lines.lower.lineWidth})}},{key:"drawLineWithParams",value:function(e){var t=e.points,n=e.elementId,i=e.upperColor,r=e.lowerColor,a=e.upperLineWidth,o=e.lowerLineWidth,s=e.alpha,c=void 0===s?1:s,l=e.shift,u=void 0===l?null:l;if(t&&0!==t.length){this.shouldClearMainGraphLine()&&this.clearDynamicGraphics(On,n);for(var h=this.getDynamicGraphics(On,n),d=null!=u?u:this.averageShift,f=0;f<t.length;f++){var p=t[f].minValue>=t[f].value,m=p?i:r,y=p?a:o;h.graphics.lineStyle({width:y,color:this.prepareColor(m),alpha:c,join:dg.i.ROUND,cap:dg.h.ROUND}),h.graphics[0===f?"moveTo":"lineTo"](this.getXFromTime(t[f].time+d*this.pointsInElement),this.getYFromValue(t[f].value))}}}},{key:"maxPeriod",get:function(){return this.settings.period}}])&&LC(t.prototype,n),i&&LC(t,i),a}(oA);function UC(e){return(UC="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function WC(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function YC(e,t){return(YC=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function QC(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=zC(e);if(t){var r=zC(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return XC(this,n)}}function XC(e,t){return!t||"object"!==UC(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function zC(e){return(zC=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var KC=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&YC(e,t)}(a,e);var t,n,i,r=QC(a);function a(e,t,n){var i;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(i=r.call(this,e,t,n)).type=y.ATR,i.position=ft,i.valueYScaleType=mi,i.updateSettings(n.settings),i}return t=a,(n=[{key:"flush",value:function(){this.trPoints=[]}},{key:"calculate",value:function(){this.checkFlush();var e=this.settings.period;if(!(this.settings.period+1>this.candles.length)){this.trPoints.length>0&&this.trPoints.splice(-1,1);for(var t=e+1+this.trPoints.length;t<this.candles.length;t++){var n=this.candles[t],i=this.candles[t-1],r=Math.max(n.maxValue-n.minValue,n.maxValue-i.exitValue,i.exitValue-n.minValue);this.trPoints.push(new wy(r,n.time))}this.filteredPoints=this.sma({candles:this.trPoints,period:e}),this.recalculateMinMax(this.filteredPoints)}}},{key:"draw",value:function(){this.clearAllDynamicGraphics(),this.drawBottomIndicatorBg(),this.drawBottomIndicatorBorder();var e=this.settings.lines.main;if(this.getShowValue(e)){var t=e.color,n=e.lineWidth;this.drawBottomLine(this.filteredPoints,"atr",n,t,!0)}}},{key:"maxPeriod",get:function(){return this.settings.period}}])&&WC(t.prototype,n),i&&WC(t,i),a}(oA);function JC(e){return(JC="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function qC(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function ZC(e,t){return(ZC=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function $C(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=tT(e);if(t){var r=tT(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return eT(this,n)}}function eT(e,t){return!t||"object"!==JC(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function tT(e){return(tT=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var nT=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ZC(e,t)}(a,e);var t,n,i,r=$C(a);function a(e,t,n){var i;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(i=r.call(this,e,t,n)).type=y.SCHAFF_TREND_CYCLE,i.position=ft,i.valueYScaleType=mi,i.updateSettings(n.settings),i}return t=a,(n=[{key:"flush",value:function(){this.ST=[],this.ST2=[],this.MACD=[],this.MACDPoint=[],this.emasShort=[],this.emasLong=[],this.filteredPoints=[]}},{key:"calculateMACD",value:function(){var e=this.settings,t=e.fastLength,n=e.slowLength;this.emasShort=this.getEMA(this.emasShort,t),this.emasLong=this.getEMA(this.emasLong,n);for(var i=Math.max(this.emasShort.length,this.emasLong.length),r=1;r<this.candles.length;r++){var a=this.emasLong.length===i?this.emasLong[r]:this.emasLong[r-1],o=this.emasShort.length===i?this.emasShort[r]:this.emasShort[r-1];a&&o&&(this.MACD.push(o.value-a.value),this.MACDPoint.push(new wy(o.value-a.value,a.time)))}}},{key:"calculateSTC",value:function(e){var t=this.settings,n=t.length,i=t.factorUpper,r=t.factorLower;if(!(e<n+1)){for(var a=0,o=0,s=e;s>e-n;s--)s===e?(a=this.MACD[s],o=this.MACD[s]):(a>this.MACD[s]&&(a=this.MACD[s]),o<this.MACD[s]&&(o=this.MACD[s]));this.ST[e]=o-a!=0?(this.MACD[e]-a)/(o-a)*100:this.ST[e-1],isNaN(this.ST[e-1])||(this.ST[e]=i*(this.ST[e]-this.ST[e-1])+this.ST[e-1]);for(var c=e;c>e-n;c--)c===e?(a=this.ST[c],o=this.ST[c]):(a>this.ST[c]&&(a=this.ST[c]),o<this.ST[c]&&(o=this.ST[c]));this.ST2[e]=o-a!=0?(this.ST[e]-a)/(o-a)*100:this.ST2[e-1],isNaN(this.ST2[e-1])||(this.ST2[e]=r*(this.ST2[e]-this.ST2[e-1])+this.ST2[e-1])}}},{key:"calculate",value:function(){this.checkFlush(),this.ST=[],this.ST2=[],this.filteredPoints=[],this.MACD=[],this.MACDPoint=[],this.calculateMACD();for(var e=0;e<this.MACDPoint.length;e++)this.calculateSTC(e),"undefined"===this.ST2[e]||isNaN(this.ST2[e])||this.filteredPoints.push(new wy(this.ST2[e],this.MACDPoint[e].time))}},{key:"drawBottomLine",value:function(e,t,n,i,r,a){var o=arguments.length>6&&void 0!==arguments[6]&&arguments[6];if(e&&e.length){for(var s=this.getDynamicGraphics(Sn,"bottomIndicatorLine"+this.index+"-"+t,!0),c=0,l=0;l<e.length;l++){var u=e[l],h=this.getXFromTimeIndicator(u.time+this.averageShift*this.pointsInElement),d=this.getYFromValueIndicator(u.value,o);s.graphics.lineStyle(u.value<c?n:i,this.prepareColor(u.value<c?r:a),1),0===l?s.graphics.moveTo(h,d):s.graphics.lineTo(h,d),c=u.value}s=null}}},{key:"draw",value:function(){this.clearAllDynamicGraphics(),this.drawBottomIndicatorBg(),this.drawBottomIndicatorBorder();var e=this.settings.lines,t=e.upper,n=e.lower;this.getShowValue(t)&&this.getShowValue(n)&&(this.recalculateMinMax(this.filteredPoints),this.drawBottomLine(this.filteredPoints,"stc2",t.lineWidth,n.lineWidth,t.color,n.color,!1),this.drawBottomLevel("zeroUpper",100*this.settings.factorUpper,this.colors.indicatorBottomMACDNullLineColor,1,"",this.settings.factorUpper.toString()),this.drawBottomLevel("zeroLower",100*this.settings.factorLower,this.colors.indicatorBottomMACDNullLineColor,1,"",this.settings.factorLower.toString()))}},{key:"maxPeriod",get:function(){return this.settings.period}}])&&qC(t.prototype,n),i&&qC(t,i),a}(oA);function iT(e){return(iT="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function rT(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function aT(e,t){return(aT=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function oT(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=cT(e);if(t){var r=cT(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return sT(this,n)}}function sT(e,t){return!t||"object"!==iT(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function cT(e){return(cT=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var lT,uT=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&aT(e,t)}(a,e);var t,n,i,r=oT(a);function a(e,t,n){var i;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(i=r.call(this,e,t,n)).type=y.WEIS_WAVE_VOLUME_OSCILLATOR,i.position=ft,i.valueYScaleType=mi,i.updateSettings(n.settings),i}return t=a,(n=[{key:"updateColors",value:function(){var e=this.settings.opacity;this.upColor=new bv(this.candleUpHex,e/100),this.downColor=new bv(this.candleDownHex,e/100)}},{key:"recalculateMinMax",value:function(){var e=this;this.resetMinMax();for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];n.forEach((function(t){t.forEach((function(t){return e.minMaxPush(t.value)}))})),this.min=0,this.minMaxBalance()}},{key:"flush",value:function(){this.trPoints=[],this.wwvPoints=[],this.wwvColor=[]}},{key:"calculate",value:function(){var e=this.settings.length;if(!(e+1>this.candles.length)){this.trPoints=[],this.wwvPoints=[],this.wwvColor=[];for(var t=0,n=0,i=0,r=0,a=e+1+this.wwvPoints.length;a<this.candles.length;a++){var o=this.candles[a],s=this.candles[a-1],c=o.exitValue,l=s.exitValue,u=n;i=0!=(n=c>l?1:c<l?-1:0)&&n!==u?n:i;var h=this.isRising(a,e)||this.isFalling(a,e),d=r;t=(r=i!==d&&h?i:d)===d?t+1:1;var f=1===r,p=1!==r;this.wwvPoints.push(new wy(t,o.time)),f?this.wwvColor.push(1):p&&this.wwvColor.push(-1)}}}},{key:"isFalling",value:function(e,t){return this.candles[e].exitValue<this.candles[Math.max(0,e-t)].exitValue}},{key:"isRising",value:function(e,t){return this.candles[e].exitValue>this.candles[Math.max(0,e-t)].exitValue}},{key:"roundValue",value:function(e){return Ov(e,0)}},{key:"draw",value:function(){this.clearAllDynamicGraphics(),this.updateColors(),this.calculate(),this.recalculateMinMax(this.wwvPoints),this.drawBottomIndicatorBorder(),this.drawBottomIndicatorHistogram(this.wwvPoints,this.upColor,this.downColor)}},{key:"drawBottomIndicatorHistogram",value:function(e,t,n){arguments.length>3&&void 0!==arguments[3]||w.CHART.HISTOGRAM_COLOR.POSITIVE_NEGATIVE;var i=this.getDynamicGraphicsSelector(Sn,"indicatorHisto"+this.index,!0);if(i.isNew)for(var r=this.averageShift*this.pointsInElement,a=this.isLineChart()?1:this.pointsManager.candleWidth,o=this.pointsManager.candleWidth/this.secondWidth,s=this.getTimeFrom()-o,c=this.getTimeTo()+o,l=0;l<e.length;l++){var u=e[l],h=u.time,d=u.value,f=this.getXFromTime(h+r),p=this.getYFromValueIndicator(d,!0),m=h>=s&&h<=c,y=this.getYFromValueIndicator(this.min,!0);if(m){var g=this.wwvColor[l]>0?t:n;i.graphics.beginFill(this.prepareColor(g),this.prepareAlpha(g)),i.graphics.drawRect(f-a/2,p,a,Math.max(1,y-p)),i.graphics.endFill()}}}}])&&rT(t.prototype,n),i&&rT(t,i),a}(oA);function hT(e,t,n){return(hT=dT()?Reflect.construct:function(e,t,n){var i=[null];i.push.apply(i,t);var r=new(Function.bind.apply(e,i));return n&&fT(r,n.prototype),r}).apply(null,arguments)}function dT(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function fT(e,t){return(fT=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function pT(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var mT=(pT(lT={},y.ADX,s_),pT(lT,y.ALLIGATOR,p_),pT(lT,y.AROON,XO),pT(lT,y.AWESOME_OSCILLATOR,w_),pT(lT,y.VOLUME_OSCILLATOR,CC),pT(lT,y.WEIS_WAVE_VOLUME_OSCILLATOR,uT),pT(lT,y.BOLLINGER_BANDS,N_),pT(lT,y.FRACTAL,G_),pT(lT,y.MACD,z_),pT(lT,y.MOVING_AVERAGE,tO),pT(lT,y.PARABOLIC_SAR,cO),pT(lT,y.RATE_OF_CHANGE,mO),pT(lT,y.RSI,_O),pT(lT,y.STOCHASTIC_OSCILLATOR,NO),pT(lT,y.ZIG_ZAG,jO),pT(lT,y.CCI,eS),pT(lT,y.ENVELOPE,lS),pT(lT,y.ICHIMOKU_CLOUD,ES),pT(lT,y.DEMARKER,kS),pT(lT,y.WILLIAMS_R,BS),pT(lT,y.BULLS_POWER,US),pT(lT,y.BEARS_POWER,JS),pT(lT,y.MOMENTUM,iC),pT(lT,y.VORTEX,uC),pT(lT,y.KELTNER_CHANNEL,bC),pT(lT,y.DONCHIAN_CHANNEL,MC),pT(lT,y.SUPERTREND,HC),pT(lT,y.ATR,KC),pT(lT,y.SCHAFF_TREND_CYCLE,nT),lT);function yT(e){return(yT="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function gT(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function vT(e,t){return(vT=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function bT(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=AT(e);if(t){var r=AT(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return ET(this,n)}}function ET(e,t){return!t||"object"!==yT(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function AT(e){return(AT=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var wT="light",_T="dark",OT="black",ST=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&vT(e,t)}(a,e);var t,n,i,r=bT(a);function a(e,t){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(n=r.call(this,e,t)).expirationLineString=h("End of trade"),n.pointInGates=!1,n.expirationToX=0,n.position=dt,n.gateTextKeys=[],n.lastOptionsCount=null,n.moveAnimator=new gv(.3),n.moveAnimator.setEnabled(!1),n.endingSpriteKey="ending-icon-",n.isEndingTradeSpritesCreated=!1,n}return t=a,(n=[{key:"drawExpirationLine",value:function(e){var t=this.colors.expirationLineTextColor,n=this.colors.expirationLineColor,i=Math.floor(this.getXFromTime(this.moveAnimator.getValue()))+.5,r=this.worldHeight-w.CHART.TIME_STEP_MARGIN_BOTTOM;this.gateTextKeys.push("fastoption-text");var a=this.core.getText(wn,"fastoption-text",e,w.CHART.S_GRID,t.getHEXNUM());a.alpha=t.getAlpha(),a.x=i+10,a.y=this.getTopMargin();var o=this.core.getGraphicsNew(Wt);return o.lineStyle(1,n.getHEXNUM(),n.getAlpha()),o.moveTo(i,0),o.lineTo(i,r-w.CHART.TIME_STEP_H),i}},{key:"drawExpirationLines",value:function(){this.expirationToX=this.drawExpirationLine(this.expirationLineString)}},{key:"isChangedOptionsCount",value:function(){return this.lastOptionsCount!==this.options.length}},{key:"draw",value:function(){this.isHideTradingUI?this.clearAll():(this.moveAnimator.enabled||(this.moveAnimator.fromValue=this.expirationTime,this.moveAnimator.setToValue(this.expirationTime),this.moveAnimator.setEnabled(!0)),this.moveAnimator.setTime(this.ts),this.isChangedExpirationTime()&&(this.moveAnimator.fromValue=this.moveAnimator.getValue(),this.moveAnimator.setToValue(this.expirationTime)),(this.isChangedFromTo()||this.isSizeChanged()||this.isChangedOptionsCount()||this.isThemeChanged()||this.isChangedExpirationTime()||this.isCurrentTimeChanged()||this.forceCleared||this.moveAnimator.enabled)&&(this.isEndingTradeSpritesCreated||(this.createEndingTradeSprites(),this.updateEndingTradeSprites()),this.isThemeChanged()&&this.updateEndingTradeSprites(),this.lastOptionsCount=this.options.length,this.clearAll(),this.drawEndingTradeIcon(Math.floor(this.getXFromTime(this.moveAnimator.getValue()))+.5),this.drawExpirationLines()))}},{key:"getEndingTradeSpriteKey",value:function(e){return this.endingSpriteKey+"_"+e}},{key:"getEndingTradeSpriteSrc",value:function(e){switch(e){case wT:return"/trade-room/images/arrow-left.svg";case _T:return"/trade-room/images/arrow-left-dark.svg";case OT:return"/trade-room/images/arrow-left-black.svg"}return null}},{key:"getEndingTradeSpriteTypeByTheme",value:function(e){switch(e){case Av.LIGHT:return wT;case Av.DARK:return _T;case Av.BLACK:return OT}return wT}},{key:"getEndingTradeSprite",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return this.core.getSprite(Fn,this.getEndingTradeSpriteKey(e),t?this.getEndingTradeSpriteSrc(e):null)}},{key:"createEndingTradeSprites",value:function(){var e=this.getEndingTradeSprite(wT,!0).sprite,t=this.getEndingTradeSprite(_T,!0).sprite,n=this.getEndingTradeSprite(OT,!0).sprite;e.visible=!1,t.visible=!1,n.visible=!1,this.isEndingTradeSpritesCreated=!0}},{key:"updateEndingTradeSprites",value:function(){var e=this.getEndingTradeSprite(wT).sprite,t=this.getEndingTradeSprite(_T).sprite,n=this.getEndingTradeSprite(OT).sprite;e.visible=this.theme===Av.LIGHT,t.visible=this.theme===Av.DARK,n.visible=this.theme===Av.BLACK}},{key:"drawEndingTradeIcon",value:function(e){var t=this.getEndingTradeSprite(this.getEndingTradeSpriteTypeByTheme(this.theme));t&&t.sprite&&t.sprite.setTransform(e+10,this.getTopMargin()-10)}},{key:"destroyEndingTradeIcon",value:function(){this.isEndingTradeSpritesCreated&&(this.core.clearSprite(Fn,this.getEndingTradeSpriteKey(wT)),this.core.clearSprite(Fn,this.getEndingTradeSpriteKey(_T)),this.core.clearSprite(Fn,this.getEndingTradeSpriteKey(OT)),this.isEndingTradeSpritesCreated=!1)}},{key:"destroyDeadlineTexts",value:function(){for(var e=0;e<this.gateTextKeys.length;e++)this.core.clearText(wn,this.gateTextKeys[e]);this.gateTextKeys=[]}},{key:"clearAll",value:function(){this.core.clearGraphicsNew(Wt),this.destroyDeadlineTexts()}},{key:"destroy",value:function(){this.destroyEndingTradeIcon(),this.clearAll()}},{key:"getTopMargin",value:function(){return this.isMobile?w.CHART.CHART_TOP_MARGIN_M:w.CHART.CHART_TOP_MARGIN}}])&&gT(t.prototype,n),i&&gT(t,i),a}(Cv);function CT(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function TT(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var kT=function(){function e(t){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),TT(this,"onCallBtnClick",(function(){return n.hoverCallBtn=!1})),TT(this,"onPutBtnClick",(function(){return n.hoverPutBtn=!1})),TT(this,"onCallBtnMouseEnter",(function(){return n.hoverCallBtn=!0})),TT(this,"onCallBtnMouseLeave",(function(){return n.hoverCallBtn=!1})),TT(this,"onPutBtnMouseEnter",(function(){return n.hoverPutBtn=!0})),TT(this,"onPutBtnMouseLeave",(function(){return n.hoverPutBtn=!1})),this.chartId=t,this.hoverCallBtn=!1,this.hoverPutBtn=!1}var t,n,i;return t=e,(n=[{key:"install",value:function(){this.putBtn=document.querySelector(".section-deal .put-btn"),this.callBtn=document.querySelector(".section-deal .call-btn"),this.callBtn&&(this.callBtn.addEventListener("click",this.onCallBtnClick),this.callBtn.addEventListener("mouseenter",this.onCallBtnMouseEnter),this.callBtn.addEventListener("mouseleave",this.onCallBtnMouseLeave)),this.putBtn&&(this.putBtn.addEventListener("click",this.onPutBtnClick),this.putBtn.addEventListener("mouseenter",this.onPutBtnMouseEnter),this.putBtn.addEventListener("mouseleave",this.onPutBtnMouseLeave))}},{key:"uninstall",value:function(){this.callBtn&&(this.callBtn.removeEventListener("click",this.onCallBtnClick),this.callBtn.removeEventListener("mouseenter",this.onCallBtnMouseEnter),this.callBtn.removeEventListener("mouseleave",this.onCallBtnMouseLeave)),this.putBtn&&(this.putBtn.removeEventListener("click",this.onPutBtnClick),this.putBtn.removeEventListener("mouseenter",this.onPutBtnMouseEnter),this.putBtn.removeEventListener("mouseleave",this.onPutBtnMouseLeave))}},{key:"refresh",value:function(){this.uninstall(),this.install()}}])&&CT(t.prototype,n),i&&CT(t,i),e}();function IT(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function PT(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var NT=function(){function e(t,n){var i=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),PT(this,"onCallBtnClick",(function(){return i.hoverDoubleBtn=!1})),PT(this,"onPutBtnClick",(function(){return i.hoverRolloverBtn=!1})),PT(this,"onCallBtnMouseEnter",(function(e){i.hoverDealId=e.target.getAttribute("id"),i.hoverDoubleBtn=!0})),PT(this,"onCallBtnMouseLeave",(function(){return i.hoverDoubleBtn=!1})),PT(this,"onPutBtnMouseEnter",(function(e){var t=e.target.getAttribute("id"),n=i.dealsSettings.openedById[t];if(n){var r=i.quotesSettings.quoteBySymbol[n.asset];by(n.command)&&r.price>n.openPrice||!by(n.command)&&r.price<n.openPrice||(i.hoverDealId=t,i.hoverRolloverBtn=!0)}})),PT(this,"onPutBtnMouseLeave",(function(){return i.hoverRolloverBtn=!1})),this.chartId=t,this.store=n,this.hoverDealId=-1,this.hoverDoubleBtn=!1,this.hoverRolloverBtn=!1,this.doubleBtnList=[],this.rolloverBtnList=[]}var t,n,i;return t=e,(n=[{key:"install",value:function(){var e=this,t=document.querySelectorAll(".trades-list-item .double-btn"),n=document.querySelectorAll(".trades-list-item .rollover-btn");t.forEach((function(t){e.doubleBtnList.includes(t)||(t.addEventListener("click",e.onCallBtnClick),t.addEventListener("mouseenter",e.onCallBtnMouseEnter),t.addEventListener("mouseleave",e.onCallBtnMouseLeave),e.doubleBtnList.push(t))})),n.forEach((function(t){e.rolloverBtnList.includes(t)||(t.addEventListener("click",e.onPutBtnClick),t.addEventListener("mouseenter",e.onPutBtnMouseEnter),t.addEventListener("mouseleave",e.onPutBtnMouseLeave),e.rolloverBtnList.push(t))}))}},{key:"uninstall",value:function(){var e=this;this.doubleBtnList.forEach((function(t){t.removeEventListener("click",e.onCallBtnClick),t.removeEventListener("mouseenter",e.onCallBtnMouseEnter),t.removeEventListener("mouseleave",e.onCallBtnMouseLeave)})),this.rolloverBtnList.forEach((function(t){t.removeEventListener("click",e.onPutBtnClick),t.removeEventListener("mouseenter",e.onPutBtnMouseEnter),t.removeEventListener("mouseleave",e.onPutBtnMouseLeave)})),this.doubleBtnList=[],this.rolloverBtnList=[]}},{key:"refresh",value:function(){this.uninstall(),this.install()}},{key:"quotesSettings",get:function(){return this.store.getState().quotes}},{key:"dealsSettings",get:function(){return this.store.getState().deals}}])&&IT(t.prototype,n),i&&IT(t,i),e}();function xT(e){return(xT="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function RT(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function DT(e,t){return(DT=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function MT(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=LT(e);if(t){var r=LT(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return BT(this,n)}}function BT(e,t){return!t||"object"!==xT(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function LT(e){return(LT=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var jT=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&DT(e,t)}(a,e);var t,n,i,r=MT(a);function a(e,t,n){var i;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(i=r.call(this,e,t,n)).type=zE.TrendAngle,i.elementType=bt,i.key="trend-angle-".concat(i.index),i.keyText="trend-angle-text-".concat(i.index),i}return t=a,(n=[{key:"calculateInitialPositions",value:function(){var e=Math.floor(60*Math.random()+10),t=e-30;0===this.points[0].time&&this.points[0].setTime(this.getTimeFromX(this.shift+this.width/100*30)),0===this.points[0].price&&this.points[0].setPrice(this.minVal+(this.maxVal-this.minVal)/100*e),0===this.points[1].time&&this.points[1].setTime(this.getTimeFromX(this.shift+(this.width-this.width/100*30))),0===this.points[1].price&&this.points[1].setPrice(this.minVal+(this.maxVal-this.minVal)/100*t)}},{key:"calculate",value:function(){this.canBeInitialized()&&(this.calculateInitialPositions(),this.initialize())}},{key:"isDrawingInsideScreen",value:function(){var e=lr(this.getXFromTime(this.points[0].time),this.getYFromValue(this.points[0].price)),t=lr(this.getXFromTime(this.points[1].time),this.getYFromValue(this.points[1].price));return this.isLineVisible(e,t)}},{key:"draw",value:function(){if(this.isInitiated&&this.shouldRedraw()&&(this.updatePrevPoints(),this.clearAllDynamicGraphics(),this.isDrawingInsideScreen()&&this.isShowing())){for(var e=this.settings.lines.main,t=e.color,n=e.lineWidth,i=e.opacity,r=this.points[0],a=this.points[1],o=r.x-a.x,s=r.y-a.y,c=parseInt((180*Math.atan2(s,o)/Math.PI+360)%360),l=[],u=r.y>a.y,h=0;u?h<c:h>c-360;u?h+=6:h-=6)l.push(this.getArcPoint(a.x,a.y,h,50));for(var d=6;d<50;d+=6)l.push({x:a.x+50-d,y:a.y});var f=this.getDynamicGraphics(Tn,this.key);f.graphics.visible=!0,f.graphics.lineStyle(n,this.prepareColor(t),i/100),f.graphics.moveTo(r.x,r.y),f.graphics.lineTo(a.x,a.y),f.graphics.beginFill(this.prepareColor(t),i/100),l.forEach((function(e){return f.graphics.drawCircle(e.x,e.y,1)}));var p=this.getTextGraphics(Tn,this.keyText,"".concat(u?c:360-c,"°"),w.CHART.S_TREND_ANGLE,null,"right");p.visible=!0,p.x=a.x+50+6,p.y=a.y-p.height/2-2,this.isMobile||this.makeInterectable(f.graphics,this.drawingPoints)}}},{key:"getArcPoint",value:function(e,t,n,i){return{x:e+i*Math.cos(n*Math.PI/180),y:t+i*Math.sin(n*Math.PI/180)}}},{key:"drawingPoints",get:function(){return this.isShowing()?[this.points[0],this.points[1]]:[]}}])&&RT(t.prototype,n),i&&RT(t,i),a}(AA);function FT(e){return(FT="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function GT(e){return function(e){if(Array.isArray(e))return VT(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return VT(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return VT(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function VT(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function HT(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function UT(e,t){return(UT=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function WT(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=QT(e);if(t){var r=QT(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return YT(this,n)}}function YT(e,t){return!t||"object"!==FT(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function QT(e){return(QT=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var XT=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&UT(e,t)}(a,e);var t,n,i,r=WT(a);function a(e,t,n){var i;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(i=r.call(this,e,t,n)).type=zE.DisjointChannel,i.elementType=bt,i.key="disjoint-channel-".concat(i.index),i.previousPrices=[],i.moveStates=[],i}return t=a,(n=[{key:"calculateInitialPositions",value:function(){var e=this;0===this.points[0].time&&this.points[0].setTime(this.getTimeFromX(this.shift+this.width/100*30)),0===this.points[0].price&&this.points[0].setPrice(this.minVal+(this.maxVal-this.minVal)/100*70),0===this.points[1].time&&this.points[1].setTime(this.getTimeFromX(this.shift+(this.width-this.width/100*30))),0===this.points[1].price&&this.points[1].setPrice(this.minVal+(this.maxVal-this.minVal)/100*80),0===this.points[2].time&&this.points[2].setTime(this.points[0].time),0===this.points[2].price&&this.points[2].setPrice(this.minVal+(this.maxVal-this.minVal)/100*30),0===this.points[3].time&&this.points[3].setTime(this.points[1].time),0===this.points[3].price&&this.points[3].setPrice(this.minVal+(this.maxVal-this.minVal)/100*20),this.points.forEach((function(t,n){t.isAllowShiftBounding=!1,e.previousPrices[n]=t.price,e.moveStates[n]=!1}))}},{key:"calculate",value:function(){var e=this;if(this.canBeInitialized())return this.calculateInitialPositions(),void this.initialize();this.points[0].isDragging?(this.points[2].time=this.points[0].time,this.points[2].price-=this.points[0].price-this.previousPrices[0],this.moveStates[2]=!0):this.points[2].isDragging&&(this.points[0].time=this.points[2].time,this.points[0].price-=this.points[2].price-this.previousPrices[2],this.moveStates[0]=!0),this.points[1].isDragging?(this.points[3].time=this.points[1].time,this.points[3].price-=this.points[1].price-this.previousPrices[1],this.moveStates[3]=!0):this.points[3].isDragging&&(this.points[1].time=this.points[3].time,this.points[1].price-=this.points[3].price-this.previousPrices[3],this.moveStates[1]=!0);for(var t=0;t<this.points.length;t++){var n=[2,3,0,1][t];!this.points[t].isDragging&&this.moveStates[n]&&(this.points[n].saveDrawingPoint(),this.moveStates[n]=!1)}this.points.forEach((function(t,n){return e.previousPrices[n]=t.price}))}},{key:"isDrawingInsideScreen",value:function(){if(this.isPointVisible(this.points[0])||this.isPointVisible(this.points[1])||this.isPointVisible(this.points[2])||this.isPointVisible(this.points[3]))return!0;for(var e=this.points[0],t=this.points[1],n=this.points[2],i=this.points[3],r={time:e.time,value:e.price},a={time:t.time,value:t.price},o={time:i.time,value:i.price},s={time:n.time,value:n.price},c=[[r,a],[a,o],[o,s],[s,r]],l={time:this.getTimeFrom(),value:this.getValueTo()},u={time:this.getTimeTo(),value:this.getValueTo()},h={time:this.getTimeTo(),value:this.getValueFrom()},d={time:this.getTimeFrom(),value:this.getValueFrom()},f=[[l,u],[u,h],[h,d],[d,l]],p=0;p<c.length;p++)for(var m=0;m<f.length;m++){var y=pr.apply(void 0,GT(c[p]).concat(GT(f[m])));if(!0===y.onLine1&&!0===y.onLine2)return!0}return!1}},{key:"draw",value:function(){this.shouldRedraw()&&(this.clearAllDynamicGraphics(),this.updatePrevPoints(),this.isDrawingInsideScreen()&&this.isShowing()&&(this.drawLines(),this.drawBgFill()))}},{key:"drawLines",value:function(){var e=this.settings.lines.main,t=e.color,n=e.lineWidth,i=e.opacity,r=this.getDynamicGraphics(Tn,"disjoint-channel-lines-".concat(this.index));if(r.graphics.visible=!0,r.graphics.lineStyle(n,this.prepareColor(t),i/100),this.settings.lines.main.lineStyle===sh)r.graphics.moveTo(this.points[0].x,this.points[0].y),r.graphics.lineTo(this.points[1].x,this.points[1].y),r.graphics.moveTo(this.points[2].x,this.points[2].y),r.graphics.lineTo(this.points[3].x,this.points[3].y);else if(this.settings.lines.main.lineStyle===ch||this.settings.lines.main.lineStyle===lh){var a=this.settings.lines.main.lineStyle===ch?8:3;r.graphics.dashedLine(lr(this.points[0].x,this.points[0].y),lr(this.points[1].x,this.points[1].y),5,a),r.graphics.dashedLine(lr(this.points[2].x,this.points[2].y),lr(this.points[3].x,this.points[3].y),5,a)}}},{key:"drawBgFill",value:function(){var e=this.settings.lines.bg.opacity,t=this.settings.lines.main.color,n=this.getDynamicGraphics(Tn,"disjoint-channel-bg-".concat(this.index));n.graphics.beginFill(this.prepareColor(t),e/100);var i=fr(this.points[0],this.points[1],this.points[2],this.points[3]);if(i){var r=new dg.o(this.points[0].x,this.points[0].y,i.x,i.y,this.points[2].x,this.points[2].y),a=new dg.o(this.points[1].x,this.points[1].y,this.points[3].x,this.points[3].y,i.x,i.y);n.graphics.drawPolygon(r),n.graphics.drawPolygon(a),this.isMobile||this.makeInterectable(n.graphics,new lA([r,a]))}else n.graphics.drawPolygon(this.points[0].x,this.points[0].y,this.points[1].x,this.points[1].y,this.points[3].x,this.points[3].y,this.points[2].x,this.points[2].y),n.graphics.endFill(),this.isMobile||this.makeInterectable(n.graphics,new dg.o([this.points[0].x,this.points[0].y,this.points[1].x,this.points[1].y,this.points[3].x,this.points[3].y,this.points[2].x,this.points[2].y]))}},{key:"drawingPoints",get:function(){return this.isShowing?[this.points[0],this.points[1],this.points[2],this.points[3]]:[]}}])&&HT(t.prototype,n),i&&HT(t,i),a}(AA);function zT(e){return(zT="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function KT(e){return function(e){if(Array.isArray(e))return JT(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return JT(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return JT(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function JT(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function qT(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function ZT(e,t){return(ZT=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function $T(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=tk(e);if(t){var r=tk(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return ek(this,n)}}function ek(e,t){return!t||"object"!==zT(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function tk(e){return(tk=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var nk=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ZT(e,t)}(a,e);var t,n,i,r=$T(a);function a(e,t,n){var i;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(i=r.call(this,e,t,n)).type=zE.Triangle,i.elementType=bt,i.key="triangle-".concat(i.index),i}return t=a,(n=[{key:"calculateInitialPositions",value:function(){0===this.points[0].time&&this.points[0].setTime(this.getTimeFromX(this.shift+this.width/100*30)),0===this.points[0].price&&this.points[0].setPrice(this.minVal+(this.maxVal-this.minVal)/100*30),0===this.points[1].time&&this.points[1].setTime(this.getTimeFromX(this.shift+(this.width-this.width/100*30))),0===this.points[1].price&&this.points[1].setPrice(this.minVal+(this.maxVal-this.minVal)/100*30),0===this.points[2].time&&this.points[2].setTime(this.points[0].time+(this.points[1].time-this.points[0].time)/2),0===this.points[2].price&&this.points[2].setPrice(this.minVal+(this.maxVal-this.minVal)/100*70),this.points.forEach((function(e){return e.isAllowShiftBounding=!1}))}},{key:"calculate",value:function(){this.canBeInitialized()&&(this.calculateInitialPositions(),this.initialize())}},{key:"clearGraphics",value:function(){this.clearDynamicGraphics(Tn,this.key)}},{key:"draw",value:function(){if(this.isDrawingInsideScreen()&&this.isShowing()){if(this.isShowingChange()||this.isPointsCoordinatesChange()||this.updated){this.clearGraphics(),this.updatePrevPoints();var e=[[this.points[0].x,this.points[0].y],[this.points[1].x,this.points[1].y],[this.points[2].x,this.points[2].y],[this.points[0].x,this.points[0].y]],t=this.settings.lines.main,n=t.color,i=t.lineWidth,r=t.opacity,a=this.settings.lines.bg.opacity,o=this.getDynamicGraphics(Tn,this.key);if(o.graphics.visible=!0,o.graphics.beginFill(this.prepareColor(n),a/100),e.forEach((function(e,t){var n;(n=o.graphics)[0===t?"moveTo":"lineTo"].apply(n,KT(e))})),o.graphics.endFill(),o.graphics.lineStyle(i,this.prepareColor(n),r/100),this.settings.lines.main.lineStyle===sh)e.forEach((function(e,t){var n;(n=o.graphics)[0===t?"moveTo":"lineTo"].apply(n,KT(e))}));else if(this.settings.lines.main.lineStyle===ch||this.settings.lines.main.lineStyle===lh){var s=this.settings.lines.main.lineStyle===ch?8:3;o.graphics.dashedLine(lr(this.points[0].x,this.points[0].y),lr(this.points[1].x,this.points[1].y),5,s),o.graphics.dashedLine(lr(this.points[1].x,this.points[1].y),lr(this.points[2].x,this.points[2].y),5,s),o.graphics.dashedLine(lr(this.points[2].x,this.points[2].y),lr(this.points[0].x,this.points[0].y),5,s)}o.graphics.endFill(),this.isMobile||this.makeInterectable(o.graphics,o.graphics.geometry.graphicsData[0].shape)}}else this.clearGraphics()}},{key:"drawingPoints",get:function(){return this.isShowing?[this.points[0],this.points[1],this.points[2]]:[]}}])&&qT(t.prototype,n),i&&qT(t,i),a}(AA);function ik(e){return(ik="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function rk(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function ak(e,t){return(ak=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ok(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=ck(e);if(t){var r=ck(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return sk(this,n)}}function sk(e,t){return!t||"object"!==ik(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function ck(e){return(ck=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var lk=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ak(e,t)}(a,e);var t,n,i,r=ok(a);function a(e,t,n){var i;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(i=r.call(this,e,t,n)).type=zE.TrendLine,i.elementType=bt,i.key="trend-line-".concat(i.index),i}return t=a,(n=[{key:"calculateInitialPositions",value:function(){var e=Math.floor(60*Math.random()+10),t=e+30;0===this.points[0].time&&this.points[0].setTime(this.getTimeFromX(this.shift+this.width/100*20)),0===this.points[0].price&&this.points[0].setPrice(this.minVal+(this.maxVal-this.minVal)/100*e),0===this.points[1].time&&this.points[1].setTime(this.getTimeFromX(this.shift+(this.width-this.width/100*20))),0===this.points[1].price&&this.points[1].setPrice(this.minVal+(this.maxVal-this.minVal)/100*t)}},{key:"calculate",value:function(){this.canBeInitialized()&&(this.calculateInitialPositions(),this.initialize())}},{key:"isDrawingInsideScreen",value:function(){var e=lr(this.getXFromTime(this.points[0].time),this.getYFromValue(this.points[0].price)),t=lr(this.getXFromTime(this.points[1].time),this.getYFromValue(this.points[1].price));return this.isLineVisible(e,t)}},{key:"clearGraphics",value:function(){this.clearAllDynamicGraphics()}},{key:"draw",value:function(){if(this.isDrawingInsideScreen()&&this.isShowing()){if(this.isShowingChange()||this.isSizeChanged()||this.isPointsCoordinatesChange()||this.updated){this.clearGraphics(),this.points[0].isDragging||this.updatePrevPoints();var e=this.settings.lines.main,t=e.color,n=e.lineWidth,i=e.opacity,r=this.getDynamicGraphics(Tn,this.key);r.graphics.visible=!0,r.graphics.lineStyle(n,this.prepareColor(t),i/100);var a=Math.atan2(this.points[1].y-this.points[0].y,this.points[1].x-this.points[0].x),o=100*this.width,s=100*this.width,c=lr(this.points[0].x-Math.cos(a)*o,this.points[0].y-Math.sin(a)*o),l=lr(this.points[1].x+Math.cos(a)*s,this.points[1].y+Math.sin(a)*s);if(this.settings.lines.main.lineStyle===sh)r.graphics.moveTo(c.x,c.y),r.graphics.lineTo(l.x,l.y);else if(this.settings.lines.main.lineStyle===ch||this.settings.lines.main.lineStyle===lh){var u=this.settings.lines.main.lineStyle===ch?8:3;r.graphics.dashedLine(c,l,5,u)}this.isMobile||this.makeInterectable(r.graphics,[c,l])}}else this.clearGraphics()}},{key:"drawingPoints",get:function(){return this.isShowing?[this.points[0],this.points[1]]:[]}}])&&rk(t.prototype,n),i&&rk(t,i),a}(AA);function uk(e){return(uk="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function hk(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function dk(e,t){return(dk=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function fk(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=mk(e);if(t){var r=mk(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return pk(this,n)}}function pk(e,t){return!t||"object"!==uk(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function mk(e){return(mk=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var yk=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&dk(e,t)}(a,e);var t,n,i,r=fk(a);function a(e,t,n){var i;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(i=r.call(this,e,t,n)).type=zE.DateRange,i.elementType=bt,i.key="date-range-".concat(i.index),i}return t=a,(n=[{key:"calculateInitialPositions",value:function(){0===this.points[0].time&&this.points[0].setTime(this.getTimeFromX(this.shift+this.width/100*30)),0===this.points[0].price&&this.points[0].setPrice(this.minVal+(this.maxVal-this.minVal)/100*60),0===this.points[1].time&&this.points[1].setTime(this.getTimeFromX(this.shift+(this.width-this.width/100*30))),0===this.points[1].price&&this.points[1].setPrice(this.minVal+(this.maxVal-this.minVal)/100*30),this.points.forEach((function(e){return e.isAllowShiftBounding=!1}))}},{key:"calculate",value:function(){if(this.canBeInitialized())return this.calculateInitialPositions(),void this.initialize()}},{key:"isDrawingInsideScreen",value:function(){var e=lr(this.getXFromTime(this.points[0].time),this.getYFromValue(this.points[0].price)),t=lr(this.getXFromTime(this.points[1].time),this.getYFromValue(this.points[1].price));return this.isLineVisible(e,t)}},{key:"draw",value:function(){this.shouldRedraw()&&(this.clearAllDynamicGraphics(),this.updatePrevPoints(),this.isDrawingInsideScreen()&&this.isShowing()&&(this.drawLines(),this.drawBgFill(),this.drawText()))}},{key:"drawLines",value:function(){var e=this.settings.lines.main,t=e.color,n=e.lineWidth,i=e.opacity,r=this.getDynamicGraphics(Tn,"date-range-lines-".concat(this.index));if(r.graphics.interactive=!1,r.graphics.lineStyle(n,this.prepareColor(t),i/100),this.settings.lines.main.lineStyle===sh)r.graphics.moveTo(this.points[0].x,this.points[0].y),r.graphics.lineTo(this.points[0].x,this.points[1].y),r.graphics.moveTo(this.points[1].x,this.points[1].y),r.graphics.lineTo(this.points[1].x,this.points[0].y);else if(this.settings.lines.main.lineStyle===ch||this.settings.lines.main.lineStyle===lh){var a=this.settings.lines.main.lineStyle===ch?8:3;r.graphics.dashedLine(lr(this.points[0].x,this.points[0].y),lr(this.points[0].x,this.points[1].y),5,a),r.graphics.dashedLine(lr(this.points[1].x,this.points[1].y),lr(this.points[1].x,this.points[0].y),5,a)}var o={x:this.points[0].x,y:this.points[0].y+(this.points[1].y-this.points[0].y)/2},s={x:this.points[1].x,y:this.points[0].y+(this.points[1].y-this.points[0].y)/2},c=Math.abs(s.x-o.x),l=45*Math.PI/180,u=o.x<s.x?1:-1,h={x:s.x-10*Math.cos(l)*u,y:s.y-10*Math.sin(l)},d={x:s.x-10*Math.cos(l)*u,y:s.y+10*Math.sin(l)};r.graphics.lineStyle(1,this.prepareColor(t),i/100),r.graphics.moveTo(o.x,o.y),r.graphics.lineTo(s.x,s.y),c>=10&&(r.graphics.moveTo(s.x,s.y),r.graphics.lineTo(h.x,h.y),r.graphics.moveTo(s.x,s.y),r.graphics.lineTo(d.x,d.y))}},{key:"drawBgFill",value:function(){var e=this.settings.lines.bg.opacity,t=this.settings.lines.main.color,n=this.getDynamicGraphics(Tn,"date-range-bg-".concat(this.index));n.graphics.beginFill(this.prepareColor(t),e/100),n.graphics.drawPolygon(this.points[0].x,this.points[0].y,this.points[1].x,this.points[0].y,this.points[1].x,this.points[1].y,this.points[0].x,this.points[1].y),n.graphics.endFill(),this.isMobile||this.makeInterectable(n.graphics,new dg.o(this.points[0].x,this.points[0].y,this.points[1].x,this.points[0].y,this.points[1].x,this.points[1].y,this.points[0].x,this.points[1].y))}},{key:"drawText",value:function(){var e=this.settings.lines.main.color,t=this.points[0],n=this.points[1],i=t.y>n.y,r=n.x-t.x,a=i?-20:20,o={x:t.x+r/2,y:n.y},s=this.getDynamicGraphics(Tn,"date-range-rectangle-".concat(this.id)),c=Math.round(Math.abs(r/this.pointsManager.candleWidth))+" bars, "+Xe(Qe.a.duration(1e3*Math.abs(n.time-t.time)).asSeconds()),l=this.getTextGraphics(Tn,"date-range-label-".concat(this.index),c,w.CHART.S_DATE_RANGE_BARS,null,"center");l.anchor.set(.5,.5),l.style.align="center",l.setTransform(o.x,o.y+a);var u=l.width+8,h=l.height+8,d=s.width!==u;(s.isNew||d)&&(s.graphics.clear(),s.graphics.beginFill(this.prepareColor(e),.9),s.graphics.drawRoundedRect(-u/2,-h/2,u,h,4),s.graphics.endFill()),s.graphics.setTransform(l.x,l.y)}},{key:"drawingPoints",get:function(){return this.isShowing?[this.points[0],this.points[1]]:[]}}])&&hk(t.prototype,n),i&&hk(t,i),a}(AA);function gk(e){return(gk="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function vk(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function bk(e,t){return(bk=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ek(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=wk(e);if(t){var r=wk(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return Ak(this,n)}}function Ak(e,t){return!t||"object"!==gk(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function wk(e){return(wk=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var _k=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&bk(e,t)}(a,e);var t,n,i,r=Ek(a);function a(e,t,n){var i;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(i=r.call(this,e,t,n)).type=zE.PriceRange,i.elementType=bt,i.key="price-range-".concat(i.index),i}return t=a,(n=[{key:"calculateInitialPositions",value:function(){0===this.points[0].time&&this.points[0].setTime(this.getTimeFromX(this.shift+this.width/100*30)),0===this.points[0].price&&this.points[0].setPrice(this.minVal+(this.maxVal-this.minVal)/100*60),0===this.points[1].time&&this.points[1].setTime(this.getTimeFromX(this.shift+(this.width-this.width/100*30))),0===this.points[1].price&&this.points[1].setPrice(this.minVal+(this.maxVal-this.minVal)/100*30),this.points.forEach((function(e){return e.isAllowShiftBounding=!1}))}},{key:"calculate",value:function(){if(this.canBeInitialized())return this.calculateInitialPositions(),void this.initialize()}},{key:"isDrawingInsideScreen",value:function(){var e=lr(this.getXFromTime(this.points[0].time),this.getYFromValue(this.points[0].price)),t=lr(this.getXFromTime(this.points[1].time),this.getYFromValue(this.points[1].price));return this.isLineVisible(e,t)}},{key:"draw",value:function(){this.shouldRedraw()&&(this.clearAllDynamicGraphics(),this.updatePrevPoints(),this.isDrawingInsideScreen()&&this.isShowing()&&(this.drawLines(),this.drawBgFill(),this.drawText()))}},{key:"drawLines",value:function(){var e=this.settings.lines.main,t=e.color,n=e.lineWidth,i=e.opacity,r=this.getDynamicGraphics(Tn,"price-range-lines-".concat(this.index));if(r.graphics.interactive=!1,r.graphics.lineStyle(n,this.prepareColor(t),i/100),this.settings.lines.main.lineStyle===sh)r.graphics.moveTo(this.points[0].x,this.points[0].y),r.graphics.lineTo(this.points[0].x,this.points[1].y),r.graphics.moveTo(this.points[1].x,this.points[1].y),r.graphics.lineTo(this.points[1].x,this.points[0].y);else if(this.settings.lines.main.lineStyle===ch||this.settings.lines.main.lineStyle===lh){var a=this.settings.lines.main.lineStyle===ch?8:3;r.graphics.dashedLine(lr(this.points[0].x,this.points[0].y),lr(this.points[0].x,this.points[1].y),5,a),r.graphics.dashedLine(lr(this.points[1].x,this.points[1].y),lr(this.points[1].x,this.points[0].y),5,a)}var o={x:this.points[0].x+(this.points[1].x-this.points[0].x)/2,y:this.points[0].y},s={x:this.points[0].x+(this.points[1].x-this.points[0].x)/2,y:this.points[1].y},c=Math.abs(s.y-o.y),l=45*Math.PI/180,u=o.y<s.y?1:-1,h={x:s.x+10*Math.cos(l),y:s.y-10*Math.sin(l)*u},d={x:s.x-10*Math.cos(l),y:s.y-10*Math.sin(l)*u};r.graphics.lineStyle(1,this.prepareColor(t),i/100),r.graphics.moveTo(o.x,o.y),r.graphics.lineTo(s.x,s.y),c>=10&&(r.graphics.moveTo(s.x,s.y),r.graphics.lineTo(h.x,h.y),r.graphics.moveTo(s.x,s.y),r.graphics.lineTo(d.x,d.y))}},{key:"drawBgFill",value:function(){var e=this.settings.lines.bg.opacity,t=this.settings.lines.main.color,n=this.getDynamicGraphics(Tn,"price-range-bg-".concat(this.index));n.graphics.beginFill(this.prepareColor(t),e/100),n.graphics.drawPolygon(this.points[0].x,this.points[0].y,this.points[1].x,this.points[0].y,this.points[1].x,this.points[1].y,this.points[0].x,this.points[1].y),n.graphics.endFill(),this.isMobile||this.makeInterectable(n.graphics,new dg.o(this.points[0].x,this.points[0].y,this.points[1].x,this.points[0].y,this.points[1].x,this.points[1].y,this.points[0].x,this.points[1].y))}},{key:"drawText",value:function(){var e=this.settings.lines.main.color,t=this.points[0],n=this.points[1],i=t.y>n.y,r=n.x-t.x,a=i?-20:20,o={x:t.x+r/2,y:n.y},s=this.getDynamicGraphics(Tn,"price-range-rectangle-".concat(this.id)),c=this.getValueFromY(t.y),l=this.getValueFromY(n.y),u=(l-c).toFixed(4)+" ("+((l-c)/c*1e3).toFixed(2)+"%) ",h=this.getTextGraphics(Tn,"price-range-label-".concat(this.index),u,w.CHART.S_DATE_RANGE_BARS,null,"center");h.anchor.set(.5,.5),h.style.align="center",h.setTransform(o.x,o.y+a);var d=h.width+8,f=h.height+8,p=s.width!==d;(s.isNew||p)&&(s.graphics.clear(),s.graphics.beginFill(this.prepareColor(e),.9),s.graphics.drawRoundedRect(-d/2,-f/2,d,f,4),s.graphics.endFill()),s.graphics.setTransform(h.x,h.y)}},{key:"drawingPoints",get:function(){return this.isShowing()?[this.points[0],this.points[1]]:[]}}])&&vk(t.prototype,n),i&&vk(t,i),a}(AA);function Ok(e){return(Ok="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Sk(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function Ck(e,t){return(Ck=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Tk(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=Ik(e);if(t){var r=Ik(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return kk(this,n)}}function kk(e,t){return!t||"object"!==Ok(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Ik(e){return(Ik=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Pk=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ck(e,t)}(a,e);var t,n,i,r=Tk(a);function a(e,t,n){var i;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(i=r.call(this,e,t,n)).type=zE.DatePriceRange,i.elementType=bt,i.key="date-price-range-".concat(i.index),i.keyBg="date-price-range-bg-".concat(i.index),i.keyText="date-price-range-rectangle-".concat(i.id),i.keyTextBg="date-price-range-rectangle-".concat(i.id),i}return t=a,(n=[{key:"calculateInitialPositions",value:function(){0===this.points[0].time&&this.points[0].setTime(this.getTimeFromX(this.shift+this.width/100*30)),0===this.points[0].price&&this.points[0].setPrice(this.minVal+(this.maxVal-this.minVal)/100*60),0===this.points[1].time&&this.points[1].setTime(this.getTimeFromX(this.shift+(this.width-this.width/100*30))),0===this.points[1].price&&this.points[1].setPrice(this.minVal+(this.maxVal-this.minVal)/100*30),this.points.forEach((function(e){return e.isAllowShiftBounding=!1}))}},{key:"calculate",value:function(){if(this.canBeInitialized())return this.calculateInitialPositions(),void this.initialize()}},{key:"isDrawingInsideScreen",value:function(){var e=lr(this.getXFromTime(this.points[0].time),this.getYFromValue(this.points[0].price)),t=lr(this.getXFromTime(this.points[1].time),this.getYFromValue(this.points[1].price));return this.isLineVisible(e,t)}},{key:"draw",value:function(){this.shouldRedraw()&&(this.clearAllDynamicGraphics(),this.updatePrevPoints(),this.isDrawingInsideScreen()&&this.isShowing()&&(this.drawLines(),this.drawBgFill(),this.drawText()))}},{key:"drawLines",value:function(){var e=this.settings.lines.main,t=e.color,n=e.lineWidth,i=e.opacity,r=this.getDynamicGraphics(Tn,this.key);if(r.graphics.interactive=!1,r.graphics.lineStyle(n,this.prepareColor(t),i/100),this.settings.lines.main.lineStyle===sh)r.graphics.moveTo(this.points[0].x,this.points[0].y),r.graphics.lineTo(this.points[0].x,this.points[1].y),r.graphics.moveTo(this.points[1].x,this.points[1].y),r.graphics.lineTo(this.points[1].x,this.points[0].y);else if(this.settings.lines.main.lineStyle===ch||this.settings.lines.main.lineStyle===lh){var a=this.settings.lines.main.lineStyle===ch?8:3;r.graphics.dashedLine(lr(this.points[0].x,this.points[0].y),lr(this.points[0].x,this.points[1].y),5,a),r.graphics.dashedLine(lr(this.points[1].x,this.points[1].y),lr(this.points[1].x,this.points[0].y),5,a)}var o={x:this.points[0].x+(this.points[1].x-this.points[0].x)/2,y:this.points[0].y},s={x:this.points[0].x+(this.points[1].x-this.points[0].x)/2,y:this.points[1].y},c=Math.abs(s.y-o.y),l=45*Math.PI/180,u=o.y<s.y?1:-1,h={x:s.x+10*Math.cos(l),y:s.y-10*Math.sin(l)*u},d={x:s.x-10*Math.cos(l),y:s.y-10*Math.sin(l)*u};r.graphics.lineStyle(1,this.prepareColor(t),i/100),r.graphics.moveTo(o.x,o.y),r.graphics.lineTo(s.x,s.y),c>=10&&(r.graphics.moveTo(s.x,s.y),r.graphics.lineTo(h.x,h.y),r.graphics.moveTo(s.x,s.y),r.graphics.lineTo(d.x,d.y));var f={x:this.points[0].x,y:this.points[0].y+(this.points[1].y-this.points[0].y)/2},p={x:this.points[1].x,y:this.points[0].y+(this.points[1].y-this.points[0].y)/2},m=Math.abs(p.x-f.x),y=45*Math.PI/180,g=f.x<p.x?1:-1,v={x:p.x-10*Math.cos(y)*g,y:p.y-10*Math.sin(y)},b={x:p.x-10*Math.cos(y)*g,y:p.y+10*Math.sin(y)};r.graphics.moveTo(f.x,f.y),r.graphics.lineTo(p.x,p.y),m>=10&&(r.graphics.moveTo(p.x,p.y),r.graphics.lineTo(v.x,v.y),r.graphics.moveTo(p.x,p.y),r.graphics.lineTo(b.x,b.y))}},{key:"drawBgFill",value:function(){var e=this.settings.lines.bg.opacity,t=this.settings.lines.main.color,n=this.getDynamicGraphics(Tn,this.keyBg);n.graphics.beginFill(this.prepareColor(t),e/100),n.graphics.drawPolygon(this.points[0].x,this.points[0].y,this.points[1].x,this.points[0].y,this.points[1].x,this.points[1].y,this.points[0].x,this.points[1].y),n.graphics.endFill(),this.isMobile||this.makeInterectable(n.graphics,new dg.o(this.points[0].x,this.points[0].y,this.points[1].x,this.points[0].y,this.points[1].x,this.points[1].y,this.points[0].x,this.points[1].y))}},{key:"drawText",value:function(){var e=this.settings.lines.main.color,t=this.points[0],n=this.points[1],i=t.y>n.y,r=n.x-t.x,a=i?-20:20,o={x:t.x+r/2,y:n.y},s=this.getDynamicGraphics(Tn,this.keyTextBg),c=this.getValueFromY(t.y),l=this.getValueFromY(n.y),u=(l-c).toFixed(4)+" ("+((l-c)/c*1e3).toFixed(2)+"%)\n"+Math.round(Math.abs(r/this.pointsManager.candleWidth))+" bars, "+Xe(Qe.a.duration(1e3*Math.abs(n.time-t.time)).asSeconds()),h=this.getTextGraphics(Tn,this.keyText,u,w.CHART.S_DATE_RANGE_BARS,null,"center");h.anchor.set(.5,.5),h.style.align="center",h.setTransform(o.x,o.y+h.height/4*(i?-1:1)+a);var d=h.width+8,f=h.height+8,p=s.width!==d;(s.isNew||p)&&(s.graphics.clear(),s.graphics.beginFill(this.prepareColor(e),.9),s.graphics.drawRoundedRect(-d/2,-f/2,d,f,4),s.graphics.endFill()),s.graphics.setTransform(h.x,h.y)}},{key:"drawingPoints",get:function(){return this.isShowing?[this.points[0],this.points[1]]:[]}}])&&Sk(t.prototype,n),i&&Sk(t,i),a}(AA);function Nk(e){return(Nk="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function xk(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function Rk(e,t){return(Rk=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Dk(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=Bk(e);if(t){var r=Bk(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return Mk(this,n)}}function Mk(e,t){return!t||"object"!==Nk(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Bk(e){return(Bk=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Lk=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Rk(e,t)}(a,e);var t,n,i,r=Dk(a);function a(e,t,n){var i;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(i=r.call(this,e,t)).drawingsManager=n,i.previousDrawing=null,i.previousTopPrice=0,i.previousBottomPrice=0,i.previousLeftTime=0,i.previousRightTime=0,i}return t=a,(n=[{key:"clearTexts",value:function(){this.core.clearText(Xn,"drawing-values-label-price-top"),this.core.clearText(Xn,"drawing-values-label-price-bottom"),this.core.clearText(Xn,"drawing-values-label-time-left"),this.core.clearText(Xn,"drawing-values-label-time-right")}},{key:"clearBadges",value:function(){this.core.clearGraphicsNew(mn)}},{key:"drawBadge",value:function(e,t,n,i){var r=this.core.getText(Xn,e,i,w.CHART.S_DRAWING_VALUE,this.colors.drawingValueTextColor.getHEXNUM()),a=r.width+2*w.CHART.CURSOR_VALUE_BG_H_MARGIN,o=r.height+2*w.CHART.CURSOR_VALUE_BG_V_MARGIN,s=this.core.getGraphicsNew(mn);return t=null===t?this.width-r.width-2.5*w.CHART.CURSOR_VALUE_BG_H_MARGIN:t-a/2,n=null===n?this.worldHeight-r.height/2-4:n,r.setTransform(t+w.CHART.CURSOR_VALUE_BG_H_MARGIN,n-r.height/2),s.lineStyle(0),s.beginFill(this.colors.drawingValueBadgeColor.getHEXNUM(),this.colors.drawingValueBadgeColor.getAlpha()),s.drawRoundedRect(t,n-o/2,a,o,4),s.endFill(),{x:t,y:n,width:a,height:o}}},{key:"createBackground",value:function(){return this.core.getGraphicsNew(mn)}},{key:"drawBackground",value:function(e,t,n,i,r){return e.lineStyle(0),e.beginFill(this.colors.drawingValueAreaColor.getHEXNUM(),this.colors.drawingValueAreaColor.getAlpha()),e.drawRoundedRect(t,n,i,r,4),e.endFill(),e}},{key:"draw",value:function(){var e=this.drawingsManager.getSelectedDrawings()[0];if(e){var t=e.drawingPoints;if(t&&t.length>0){var n=t.reduce((function(e,t){return e.y<t.y?e:t})),i=t.reduce((function(e,t){return e.y<t.y?t:e})),r=t.reduce((function(e,t){return e.x<t.x?e:t})),a=t.reduce((function(e,t){return e.x<t.x?t:e})),o=this.getValueFromY(n.y),s=this.getValueFromY(i.y),c=this.getTimeFromX(r.x+this.shift),l=this.getTimeFromX(a.x+this.shift);if(this.previousDrawing===e&&o===this.previousTopPrice&&s===this.previousBottomPrice&&c===this.previousLeftTime&&l===this.previousRightTime&&!(this.isThemeChanged()||this.isSizeChanged()||this.isChangedMinMax()||this.isTimezoneChanged()))return;this.destroy();var u=this.createBackground(),h=this.createBackground(),d=this.drawBadge("drawing-values-label-price-top",null,n.y,this.formatStringPrice(o)),f=this.drawBadge("drawing-values-label-price-bottom",null,i.y,this.formatStringPrice(s)),p=this.drawBadge("drawing-values-label-time-left",r.x,null,$m(this.pointsInElement,c+this.timeZone)),m=this.drawBadge("drawing-values-label-time-right",a.x,null,$m(this.pointsInElement,l+this.timeZone));this.drawBackground(u,d.x,d.y-d.height/2,d.width,f.y-d.y+f.height),this.drawBackground(h,p.x,p.y-p.height/2,m.x-p.x+m.width,p.height),this.previousDrawing=e,this.previousTopPrice=o,this.previousBottomPrice=s,this.previousLeftTime=c,this.previousRightTime=l}}else this.previousDrawing=null,this.previousTopPrice=0,this.previousBottomPrice=0,this.destroy()}},{key:"destroy",value:function(){this.clearTexts(),this.clearBadges()}}])&&xk(t.prototype,n),i&&xk(t,i),a}(Cv);function jk(e){return(jk="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Fk(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function Gk(e,t){return(Gk=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Vk(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=Uk(e);if(t){var r=Uk(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return Hk(this,n)}}function Hk(e,t){return!t||"object"!==jk(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Uk(e){return(Uk=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Wk=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Gk(e,t)}(a,e);var t,n,i,r=Vk(a);function a(e,t){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(n=r.call(this,e,t)).initColors(),n}return t=a,(n=[{key:"initColors",value:function(){this.setupGradient()}},{key:"needToDraw",value:function(){return!0}},{key:"setPointLineStyle",value:function(e){e.lineStyle(2),e.alpha=.8,e.tint=this.colors.plotLineColor.getHEXNUM()}},{key:"updateGradient",value:function(){var e=this.core.getGraphicsNew(Jt);e.coordTop=this.areaTopPoint,e.coordBottom=this.yShift+this.height}},{key:"setupGradient",value:function(){var e=this.core.getGraphicsNew(Jt);e.alpha=1,e.colorTop=this.colors.plotFastLineGradientTopColor.getHEXNUM(),e.alphaTop=this.colors.plotFastLineGradientTopColor.getAlpha(),e.colorBottom=this.colors.plotFastLineGradientBottomColor.getHEXNUM(),e.alphaBottom=this.colors.plotFastLineGradientBottomColor.getAlpha(),e.masterPlot=this.core.getGraphicsNew(Kt),this.updateGradient()}},{key:"draw",value:function(){this.isThemeChanged()&&this.initColors();var e=this.filterPoints(this.pointsManager.reducedPoints);if(0!==e.length){var t=null;e.length>0&&(e[e.length-1].time===this.pointsManager.endPoint.time&&e.pop(),this.pointsManager.endPoint.time<=this.toTime&&(t=this.pointsManager.getAnimatingPoint(),e.push(t)));for(var n=[],i=0;i<e.length;i++){var r=this.getXFromTime(e[i].time);if(i+1<e.length){var a=this.getXFromTime(e[i+1].time);if(r<0&&a<0)continue}n.push({time:e[i].time,x:r,y:this.getYFromValue(e[i].value)})}this.areaTopPoint=this.getYFromValue(this.maxVal),n.length>0&&n[n.length-1].y<this.areaTopPoint&&(this.areaTopPoint=n[n.length-1].y),this.clearHistory(),this.drawHistory(n)}else this.clear()}},{key:"drawHistory",value:function(e){e.length<3&&(e.length<2||this.penultHistoryPoint===e[0].time)||(this.drawPoints(e,this.core.getGraphicsNew(Kt)),this.updateGradient())}},{key:"clear",value:function(){this.clearGradient(),this.clearHistory()}},{key:"destroy",value:function(){this.clear()}},{key:"clearGradient",value:function(){this.core.clearGraphicsNew(Jt)}},{key:"clearHistory",value:function(){this.core.getGraphicsNew(Kt).clear(),this.core.clearGraphicsNew(Kt)}}])&&Fk(t.prototype,n),i&&Fk(t,i),a}(Lv);function Yk(e){return(Yk="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Qk(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function Xk(e,t,n){return(Xk="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var i=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=qk(e)););return e}(e,t);if(i){var r=Object.getOwnPropertyDescriptor(i,t);return r.get?r.get.call(n):r.value}})(e,t,n||e)}function zk(e,t){return(zk=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Kk(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=qk(e);if(t){var r=qk(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return Jk(this,n)}}function Jk(e,t){return!t||"object"!==Yk(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function qk(e){return(qk=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Zk=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&zk(e,t)}(a,e);var t,n,i,r=Kk(a);function a(e,t,n){var i;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(i=r.call(this,e,t,n)).type=zE.Pitchfork,i.elementType=bt,i.key="pitchfork-".concat(i.index),i}return t=a,(n=[{key:"calculateInitialPositions",value:function(){var e=Math.floor(20*Math.random()+10);0===this.points[0].time&&this.points[0].setTime(this.getTimeFromX(this.shift+this.width/100*50)),0===this.points[0].price&&this.points[0].setPrice(this.minVal+(this.maxVal-this.minVal)/100*80),0===this.points[1].time&&this.points[1].setTime(this.getTimeFromX(this.shift+(this.width-this.width/100*30))),0===this.points[1].price&&this.points[1].setPrice(this.minVal+(this.maxVal-this.minVal)/100*e),0===this.points[2].time&&this.points[2].setTime(this.points[0].time-(this.points[1].time-this.points[0].time)),0===this.points[2].price&&this.points[2].setPrice(this.points[0].price+(this.points[1].price-this.points[0].price))}},{key:"calculate",value:function(){this.canBeInitialized()&&(this.calculateInitialPositions(),this.initialize())}},{key:"isDrawingInsideScreen",value:function(){var e=lr(this.getXFromTime(this.points[0].time),this.getYFromValue(this.points[0].price)),t=lr(this.getXFromTime(this.points[1].time),this.getYFromValue(this.points[1].price)),n=lr(this.getXFromTime(this.points[2].time),this.getYFromValue(this.points[2].price));return this.isLineVisible(e,t,n)}},{key:"shouldRedraw",value:function(){return Xk(qk(a.prototype),"shouldRedraw",this).call(this)||this.points[0].isDragging||this.points[1].isDragging||this.points[2].isDragging}},{key:"draw",value:function(){this.isInitiated&&this.shouldRedraw()&&(this.clearAllDynamicGraphics(),this.updatePrevPoints(),this.isDrawingInsideScreen()&&this.isShowing()&&this.drawLine())}},{key:"drawLine",value:function(){var e=this.settings.lines.main,t=e.color,n=e.lineWidth,i=e.opacity,r=this.settings.lines.bg.opacity,a=lr(this.points[1].x+(this.points[2].x-this.points[1].x)/2,this.points[1].y+(this.points[2].y-this.points[1].y)/2),o=Math.atan2(a.y-this.points[0].y,a.x-this.points[0].x),s=lr(this.points[2].x-(this.points[2].x-a.x)/2,this.points[2].y-(this.points[2].y-a.y)/2),c=lr(this.points[1].x-(this.points[1].x-a.x)/2,this.points[1].y-(this.points[1].y-a.y)/2),l=this.getDynamicGraphics(Tn,this.key);if(l.graphics.visible=!0,l.graphics.beginFill(this.prepareColor(t),r/100),l.graphics.moveTo(a.x,a.y),l.graphics.lineTo(this.points[2].x,this.points[2].y),l.graphics.lineTo(this.points[2].x+3e3*Math.cos(o),this.points[2].y+3e3*Math.sin(o)),l.graphics.lineTo(this.points[1].x+3e3*Math.cos(o),this.points[1].y+3e3*Math.sin(o)),l.graphics.lineTo(this.points[1].x,this.points[1].y),l.graphics.lineTo(a.x,a.y),l.graphics.endFill(),l.graphics.lineStyle(n,this.prepareColor(t),i/100),this.settings.lines.main.lineStyle===sh)l.graphics.moveTo(this.points[1].x,this.points[1].y),l.graphics.lineTo(this.points[2].x,this.points[2].y),l.graphics.moveTo(this.points[0].x,this.points[0].y),l.graphics.lineTo(a.x+3e3*Math.cos(o),a.y+3e3*Math.sin(o)),l.graphics.moveTo(this.points[2].x,this.points[2].y),l.graphics.lineTo(this.points[2].x+3e3*Math.cos(o),this.points[2].y+3e3*Math.sin(o)),l.graphics.moveTo(this.points[1].x,this.points[1].y),l.graphics.lineTo(this.points[1].x+3e3*Math.cos(o),this.points[1].y+3e3*Math.sin(o)),l.graphics.moveTo(s.x,s.y),l.graphics.lineTo(s.x+3e3*Math.cos(o),s.y+3e3*Math.sin(o)),l.graphics.moveTo(c.x,c.y),l.graphics.lineTo(c.x+3e3*Math.cos(o),c.y+3e3*Math.sin(o));else if(this.settings.lines.main.lineStyle===ch||this.settings.lines.main.lineStyle===lh){var u=this.settings.lines.main.lineStyle===ch?8:3;l.graphics.dashedLine(lr(this.points[1].x,this.points[1].y),lr(this.points[2].x,this.points[2].y),5,u),l.graphics.dashedLine(lr(this.points[0].x,this.points[0].y),lr(a.x+3e3*Math.cos(o),a.y+3e3*Math.sin(o)),5,u),l.graphics.dashedLine(lr(this.points[2].x,this.points[2].y),lr(this.points[2].x+3e3*Math.cos(o),this.points[2].y+3e3*Math.sin(o)),5,u),l.graphics.dashedLine(lr(this.points[1].x,this.points[1].y),lr(this.points[1].x+3e3*Math.cos(o),this.points[1].y+3e3*Math.sin(o)),5,u),l.graphics.dashedLine(lr(s.x,s.y),lr(s.x+3e3*Math.cos(o),s.y+3e3*Math.sin(o)),5,u),l.graphics.dashedLine(lr(c.x,c.y),lr(c.x+3e3*Math.cos(o),c.y+3e3*Math.sin(o)),5,u)}if(!this.isMobile){var h=this.calculateSidePoint();this.makeInterectable(l.graphics,[this.points[0],h])}}},{key:"calculateSidePoint",value:function(){var e,t,n=lr(this.points[1].x+(this.points[2].x-this.points[1].x)/2,this.points[1].y+(this.points[2].y-this.points[1].y)/2),i=this.points[0],r=i.x,a=i.y,o=n.x,s=n.y,c=(a-s)/(r-o),l=a-r*c,u=0,h=0,d=this.width,f=this.worldHeight,p={x:(h+10-l)/c,y:h+10};return(t=p.x)>=u&&t<=d&&(e=p.y)>=h&&e<=f?a>s?p:{x:(f-10-l)/c,y:f-10}:r>o?{x:u+10,y:c*(u+10)+l}:{x:d-10,y:c*(d-10)+l}}},{key:"drawingPoints",get:function(){return this.isShowing()?[this.points[0],this.points[1],this.points[2]]:[]}}])&&Qk(t.prototype,n),i&&Qk(t,i),a}(AA);function $k(e){return($k="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function eI(e){return function(e){if(Array.isArray(e))return tI(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return tI(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return tI(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function tI(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function nI(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function iI(e,t){return(iI=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function rI(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=oI(e);if(t){var r=oI(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return aI(this,n)}}function aI(e,t){return!t||"object"!==$k(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function oI(e){return(oI=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var sI=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&iI(e,t)}(a,e);var t,n,i,r=rI(a);function a(e,t,n){var i;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(i=r.call(this,e,t,n)).type=zE.DisjointChannel,i.elementType=bt,i.key="disjoint-channel-".concat(i.index),i.previousPrices=[],i}return t=a,(n=[{key:"calculateInitialPositions",value:function(){var e=this;0===this.points[0].time&&this.points[0].setTime(this.getTimeFromX(this.shift+this.width/100*30)),0===this.points[0].price&&this.points[0].setPrice(this.minVal+(this.maxVal-this.minVal)/100*70),0===this.points[1].time&&this.points[1].setTime(this.getTimeFromX(this.shift+(this.width-this.width/100*30))),0===this.points[1].price&&this.points[1].setPrice(this.minVal+(this.maxVal-this.minVal)/100*80),0===this.points[2].time&&this.points[2].setTime(this.points[0].time),0===this.points[2].price&&this.points[2].setPrice(this.minVal+(this.maxVal-this.minVal)/100*30),0===this.points[3].time&&this.points[3].setTime(this.points[1].time),0===this.points[3].price&&this.points[3].setPrice(this.points[2].price),this.points.forEach((function(t,n){t.isAllowShiftBounding=!1,e.previousPrices[n]=t.price}))}},{key:"calculate",value:function(){var e=this;if(this.canBeInitialized())return this.calculateInitialPositions(),void this.initialize();this.points[0].isDragging?this.points[2].time=this.points[0].time:this.points[2].isDragging&&(this.points[0].time=this.points[2].time,this.points[3].price+=this.points[2].price-this.previousPrices[2]),this.points[1].isDragging?this.points[3].time=this.points[1].time:this.points[3].isDragging&&(this.points[1].time=this.points[3].time,this.points[2].price+=this.points[3].price-this.previousPrices[3]);for(var t=0;t<this.points.length;t++)this.points[t].saveDrawingPoint();this.points.forEach((function(t,n){return e.previousPrices[n]=t.price}))}},{key:"isDrawingInsideScreen",value:function(){if(this.isPointVisible(this.points[0])||this.isPointVisible(this.points[1])||this.isPointVisible(this.points[2])||this.isPointVisible(this.points[3]))return!0;for(var e=this.points[0],t=this.points[1],n=this.points[2],i=this.points[3],r={time:e.time,value:e.price},a={time:t.time,value:t.price},o={time:i.time,value:i.price},s={time:n.time,value:n.price},c=[[r,a],[a,o],[o,s],[s,r]],l={time:this.getTimeFrom(),value:this.getValueTo()},u={time:this.getTimeTo(),value:this.getValueTo()},h={time:this.getTimeTo(),value:this.getValueFrom()},d={time:this.getTimeFrom(),value:this.getValueFrom()},f=[[l,u],[u,h],[h,d],[d,l]],p=0;p<c.length;p++)for(var m=0;m<f.length;m++){var y=pr.apply(void 0,eI(c[p]).concat(eI(f[m])));if(!0===y.onLine1&&!0===y.onLine2)return!0}return!1}},{key:"draw",value:function(){this.shouldRedraw()&&(this.clearAllDynamicGraphics(),this.updatePrevPoints(),this.isDrawingInsideScreen()&&this.isShowing()&&(this.drawLines(),this.drawBgFill()))}},{key:"drawLines",value:function(){var e=this.settings.lines.main,t=e.color,n=e.lineWidth,i=e.opacity,r=this.getDynamicGraphics(Tn,"disjoint-channel-lines-".concat(this.index));if(r.graphics.visible=!0,r.graphics.lineStyle(n,this.prepareColor(t),i/100),this.settings.lines.main.lineStyle===sh)r.graphics.moveTo(this.points[0].x,this.points[0].y),r.graphics.lineTo(this.points[1].x,this.points[1].y),r.graphics.moveTo(this.points[2].x,this.points[2].y),r.graphics.lineTo(this.points[3].x,this.points[3].y);else if(this.settings.lines.main.lineStyle===ch||this.settings.lines.main.lineStyle===lh){var a=this.settings.lines.main.lineStyle===ch?8:3;r.graphics.dashedLine(lr(this.points[0].x,this.points[0].y),lr(this.points[1].x,this.points[1].y),5,a),r.graphics.dashedLine(lr(this.points[2].x,this.points[2].y),lr(this.points[3].x,this.points[3].y),5,a)}}},{key:"drawBgFill",value:function(){var e=this.settings.lines.bg.opacity,t=this.settings.lines.main.color,n=this.getDynamicGraphics(Tn,"disjoint-channel-bg-".concat(this.index));n.graphics.beginFill(this.prepareColor(t),e/100);var i=fr(this.points[0],this.points[1],this.points[2],this.points[3]);if(i){var r=new dg.o(this.points[0].x,this.points[0].y,i.x,i.y,this.points[2].x,this.points[2].y),a=new dg.o(this.points[1].x,this.points[1].y,this.points[3].x,this.points[3].y,i.x,i.y);n.graphics.drawPolygon(r),n.graphics.drawPolygon(a),this.isMobile||this.makeInterectable(n.graphics,new lA([r,a]))}else n.graphics.drawPolygon(this.points[0].x,this.points[0].y,this.points[1].x,this.points[1].y,this.points[3].x,this.points[3].y,this.points[2].x,this.points[2].y),n.graphics.endFill(),this.isMobile||this.makeInterectable(n.graphics,new dg.o([this.points[0].x,this.points[0].y,this.points[1].x,this.points[1].y,this.points[3].x,this.points[3].y,this.points[2].x,this.points[2].y]))}},{key:"drawingPoints",get:function(){return this.isShowing?[this.points[0],this.points[1],this.points[2],this.points[3]]:[]}}])&&nI(t.prototype,n),i&&nI(t,i),a}(AA);function cI(e){return(cI="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function lI(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function uI(e,t){return(uI=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function hI(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=fI(e);if(t){var r=fI(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return dI(this,n)}}function dI(e,t){return!t||"object"!==cI(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function fI(e){return(fI=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var pI=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&uI(e,t)}(a,e);var t,n,i,r=hI(a);function a(e,t,n){var i;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(i=r.call(this,e,t,n)).type=zE.ArcLine,i.elementType=bt,i.key="arc-line-".concat(i.index),i}return t=a,(n=[{key:"calculateInitialPositions",value:function(){0===this.points[0].time&&this.points[0].setTime(this.getTimeFromX(this.shift+this.width/100*30)),0===this.points[0].price&&this.points[0].setPrice(this.minVal+(this.maxVal-this.minVal)/100*30),0===this.points[1].time&&this.points[1].setTime(this.getTimeFromX(this.shift+(this.width-this.width/100*30))),0===this.points[1].price&&this.points[1].setPrice(this.minVal+(this.maxVal-this.minVal)/100*30),0===this.points[2].time&&this.points[2].setTime(this.points[0].time+(this.points[1].time-this.points[0].time)/2),0===this.points[2].price&&this.points[2].setPrice(this.minVal+(this.maxVal-this.minVal)/100*70)}},{key:"calculate",value:function(){this.canBeInitialized()&&(this.calculateInitialPositions(),this.initialize())}},{key:"draw",value:function(){this.isInitiated&&this.shouldRedraw()&&(this.clearAllDynamicGraphics(),this.updatePrevPoints(),this.isDrawingInsideScreen()&&this.isShowing()&&this.drawLine())}},{key:"drawLine",value:function(){var e=this.settings.lines.main,t=e.color,n=e.lineWidth,i=e.opacity,r=this.settings.lines.bg.opacity,a=this.getDynamicGraphics(Tn,this.key);a.graphics.visible=!0,a.graphics.lineStyle(n,this.prepareColor(t),i/100),a.graphics.beginFill(this.prepareColor(t),r/100);var o=this.points[0],s=this.points[1],c=this.points[2],l=lr(o.x+(s.x-o.x)/2,o.y+(s.y-o.y)/2),u=lr(l.x-c.x,l.y-c.y),h=o,d=lr(l.x-2*u.x,l.y-2*u.y),f=s;this.settings.lines.main.lineStyle===sh?(a.graphics.moveTo(h.x,h.y),a.graphics.quadraticCurveTo(d.x,d.y,f.x,f.y)):this.settings.lines.main.lineStyle!==ch&&this.settings.lines.main.lineStyle!==lh||(a.graphics.moveTo(h.x,h.y),a.graphics.quadraticCurveTo(d.x,d.y,f.x,f.y)),a.graphics.endFill(),this.isMobile||this.makeInterectable(a.graphics,this.drawingPoints)}},{key:"drawingPoints",get:function(){return this.isShowing?[this.points[0],this.points[1],this.points[2]]:[]}}])&&lI(t.prototype,n),i&&lI(t,i),a}(AA);function mI(e){return(mI="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function yI(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function gI(e,t){return(gI=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function vI(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=EI(e);if(t){var r=EI(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return bI(this,n)}}function bI(e,t){return!t||"object"!==mI(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function EI(e){return(EI=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var AI=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&gI(e,t)}(a,e);var t,n,i,r=vI(a);function a(e,t,n){var i;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(i=r.call(this,e,t,n)).type=zE.CurveLine,i.elementType=bt,i.key="curve-line-".concat(i.index),i}return t=a,(n=[{key:"calculateInitialPositions",value:function(){0===this.points[0].time&&this.points[0].setTime(this.getTimeFromX(this.shift+this.width/100*30)),0===this.points[0].price&&this.points[0].setPrice(this.minVal+(this.maxVal-this.minVal)/100*30),0===this.points[1].time&&this.points[1].setTime(this.getTimeFromX(this.shift+(this.width-this.width/100*30))),0===this.points[1].price&&this.points[1].setPrice(this.minVal+(this.maxVal-this.minVal)/100*30),0===this.points[2].time&&this.points[2].setTime(this.points[0].time+(this.points[1].time-this.points[0].time)/2),0===this.points[2].price&&this.points[2].setPrice(this.minVal+(this.maxVal-this.minVal)/100*70)}},{key:"calculate",value:function(){this.canBeInitialized()&&(this.calculateInitialPositions(),this.initialize())}},{key:"draw",value:function(){this.isInitiated&&this.shouldRedraw()&&(this.clearAllDynamicGraphics(),this.updatePrevPoints(),this.isDrawingInsideScreen()&&this.isShowing()&&this.drawLine())}},{key:"drawLine",value:function(){var e=this.settings.lines.main,t=e.color,n=e.lineWidth,i=e.opacity,r=this.getDynamicGraphics(Tn,this.key);r.graphics.visible=!0,r.graphics.lineStyle(n,this.prepareColor(t),i/100);var a=this.points[0],o=this.points[1],s=this.points[2],c=lr(a.x+(o.x-a.x)/2,a.y+(o.y-a.y)/2),l=lr(c.x-s.x,c.y-s.y),u=a,h=lr(c.x-2*l.x,c.y-2*l.y),d=o;this.settings.lines.main.lineStyle===sh?(r.graphics.moveTo(u.x,u.y),r.graphics.quadraticCurveTo(h.x,h.y,d.x,d.y)):this.settings.lines.main.lineStyle!==ch&&this.settings.lines.main.lineStyle!==lh||(r.graphics.moveTo(u.x,u.y),r.graphics.quadraticCurveTo(h.x,h.y,d.x,d.y)),this.isMobile||this.makeInterectable(r.graphics,this.drawingPoints)}},{key:"drawingPoints",get:function(){return this.isShowing?[this.points[0],this.points[1],this.points[2]]:[]}}])&&yI(t.prototype,n),i&&yI(t,i),a}(AA);function wI(e){return(wI="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _I(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function OI(e,t,n){return(OI="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var i=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=kI(e)););return e}(e,t);if(i){var r=Object.getOwnPropertyDescriptor(i,t);return r.get?r.get.call(n):r.value}})(e,t,n||e)}function SI(e,t){return(SI=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function CI(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=kI(e);if(t){var r=kI(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return TI(this,n)}}function TI(e,t){return!t||"object"!==wI(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function kI(e){return(kI=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var II=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&SI(e,t)}(a,e);var t,n,i,r=CI(a);function a(e,t,n){var i;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(i=r.call(this,e,t,n)).type=zE.Pitchfan,i.elementType=bt,i.key="pitchfan-".concat(i.index),i}return t=a,(n=[{key:"calculateInitialPositions",value:function(){var e=Math.floor(20*Math.random()+10);0===this.points[0].time&&this.points[0].setTime(this.getTimeFromX(this.shift+this.width/100*50)),0===this.points[0].price&&this.points[0].setPrice(this.minVal+(this.maxVal-this.minVal)/100*80),0===this.points[1].time&&this.points[1].setTime(this.getTimeFromX(this.shift+(this.width-this.width/100*30))),0===this.points[1].price&&this.points[1].setPrice(this.minVal+(this.maxVal-this.minVal)/100*e),0===this.points[2].time&&this.points[2].setTime(this.points[0].time-(this.points[1].time-this.points[0].time)),0===this.points[2].price&&this.points[2].setPrice(this.points[0].price+(this.points[1].price-this.points[0].price))}},{key:"calculate",value:function(){this.canBeInitialized()&&(this.calculateInitialPositions(),this.initialize())}},{key:"isDrawingInsideScreen",value:function(){var e=lr(this.getXFromTime(this.points[0].time),this.getYFromValue(this.points[0].price)),t=lr(this.getXFromTime(this.points[1].time),this.getYFromValue(this.points[1].price)),n=lr(this.getXFromTime(this.points[2].time),this.getYFromValue(this.points[2].price));return this.isLineVisible(e,t,n)}},{key:"shouldRedraw",value:function(){return OI(kI(a.prototype),"shouldRedraw",this).call(this)||this.points[0].isDragging||this.points[1].isDragging||this.points[2].isDragging}},{key:"draw",value:function(){this.isInitiated&&this.shouldRedraw()&&(this.updatePrevPoints(),this.isDrawingInsideScreen()&&this.isShowing()&&this.drawLine())}},{key:"drawLine",value:function(){this.clearDynamicGraphics(Tn,this.key);var e=this.settings.lines.main,t=e.color,n=e.lineWidth,i=e.opacity,r=this.settings.lines.bg.opacity,a=0,o=this.getDynamicGraphics(Tn,this.key);o.graphics.visible=!0,o.graphics.beginFill(this.prepareColor(t),r/100),o.graphics.moveTo(this.points[0].x,this.points[0].y),a=Math.atan2(this.points[2].y-this.points[0].y,this.points[2].x-this.points[0].x),o.graphics.lineTo(this.points[0].x+3e3*Math.cos(a),this.points[0].y+3e3*Math.sin(a)),a=Math.atan2(this.points[1].y-this.points[0].y,this.points[1].x-this.points[0].x),o.graphics.lineTo(this.points[0].x+3e3*Math.cos(a),this.points[0].y+3e3*Math.sin(a)),o.graphics.lineTo(this.points[0].x,this.points[0].y),o.graphics.endFill(),o.graphics.lineStyle(n,this.prepareColor(t),i/100);var s=lr(this.points[1].x+(this.points[2].x-this.points[1].x)/2,this.points[1].y+(this.points[2].y-this.points[1].y)/2),c=Math.atan2(s.y-this.points[0].y,s.x-this.points[0].x),l=lr(this.points[2].x-(this.points[2].x-s.x)/2,this.points[2].y-(this.points[2].y-s.y)/2),u=lr(this.points[1].x-(this.points[1].x-s.x)/2,this.points[1].y-(this.points[1].y-s.y)/2);if(this.settings.lines.main.lineStyle===sh)o.graphics.moveTo(this.points[1].x,this.points[1].y),o.graphics.lineTo(this.points[2].x,this.points[2].y),o.graphics.moveTo(this.points[0].x,this.points[0].y),o.graphics.lineTo(s.x+3e3*Math.cos(c),s.y+3e3*Math.sin(c)),a=Math.atan2(this.points[2].y-this.points[0].y,this.points[2].x-this.points[0].x),o.graphics.moveTo(this.points[0].x,this.points[0].y),o.graphics.lineTo(this.points[0].x+3e3*Math.cos(a),this.points[0].y+3e3*Math.sin(a)),a=Math.atan2(this.points[1].y-this.points[0].y,this.points[1].x-this.points[0].x),o.graphics.moveTo(this.points[0].x,this.points[0].y),o.graphics.lineTo(this.points[0].x+3e3*Math.cos(a),this.points[0].y+3e3*Math.sin(a)),a=Math.atan2(l.y-this.points[0].y,l.x-this.points[0].x),o.graphics.moveTo(this.points[0].x,this.points[0].y),o.graphics.lineTo(l.x+3e3*Math.cos(a),l.y+3e3*Math.sin(a)),a=Math.atan2(u.y-this.points[0].y,u.x-this.points[0].x),o.graphics.moveTo(this.points[0].x,this.points[0].y),o.graphics.lineTo(u.x+3e3*Math.cos(a),u.y+3e3*Math.sin(a));else if(this.settings.lines.main.lineStyle===ch||this.settings.lines.main.lineStyle===lh){var h=this.settings.lines.main.lineStyle===ch?8:3;o.graphics.dashedLine(lr(this.points[1].x,this.points[1].y),lr(this.points[2].x,this.points[2].y),5,h),o.graphics.dashedLine(lr(this.points[0].x,this.points[0].y),lr(s.x+3e3*Math.cos(c),s.y+3e3*Math.sin(c)),5,h),a=Math.atan2(this.points[2].y-this.points[0].y,this.points[2].x-this.points[0].x),o.graphics.dashedLine(lr(this.points[0].x,this.points[0].y),lr(this.points[0].x+3e3*Math.cos(a),this.points[0].y+3e3*Math.sin(a)),5,h),a=Math.atan2(this.points[1].y-this.points[0].y,this.points[1].x-this.points[0].x),o.graphics.dashedLine(lr(this.points[0].x,this.points[0].y),lr(this.points[0].x+3e3*Math.cos(a),this.points[0].y+3e3*Math.sin(a)),5,h),a=Math.atan2(l.y-this.points[0].y,l.x-this.points[0].x),o.graphics.dashedLine(lr(this.points[0].x,this.points[0].y),lr(l.x+3e3*Math.cos(a),l.y+3e3*Math.sin(a)),5,h),a=Math.atan2(u.y-this.points[0].y,u.x-this.points[0].x),o.graphics.dashedLine(lr(this.points[0].x,this.points[0].y),lr(u.x+3e3*Math.cos(a),u.y+3e3*Math.sin(a)),5,h)}if(!this.isMobile){var d=this.calculateSidePoint();this.makeInterectable(o.graphics,[this.points[0],d])}}},{key:"calculateSidePoint",value:function(){var e,t,n=lr(this.points[1].x+(this.points[2].x-this.points[1].x)/2,this.points[1].y+(this.points[2].y-this.points[1].y)/2),i=this.points[0],r=i.x,a=i.y,o=n.x,s=n.y,c=(a-s)/(r-o),l=a-r*c,u=0,h=0,d=this.width,f=this.worldHeight,p={x:(h+10-l)/c,y:h+10};return(t=p.x)>=u&&t<=d&&(e=p.y)>=h&&e<=f?a>s?p:{x:(f-10-l)/c,y:f-10}:r>o?{x:u+10,y:c*(u+10)+l}:{x:d-10,y:c*(d-10)+l}}},{key:"drawingPoints",get:function(){return this.isShowing()?[this.points[0],this.points[1],this.points[2]]:[]}}])&&_I(t.prototype,n),i&&_I(t,i),a}(AA);function PI(e){return(PI="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function NI(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function xI(e,t){return(xI=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function RI(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=MI(e);if(t){var r=MI(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return DI(this,n)}}function DI(e,t){return!t||"object"!==PI(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function MI(e){return(MI=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var BI=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&xI(e,t)}(a,e);var t,n,i,r=RI(a);function a(e,t,n){var i;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(i=r.call(this,e,t,n)).elementType=bt,i.type=zE.CyclicLines,i.key="cyclic-lines-".concat(i.index),i}return t=a,(n=[{key:"calculateInitialPositions",value:function(){0===this.points[0].time&&this.points[0].setTime(this.getTimeFromX(this.shift+this.width/2)),0===this.points[0].price&&this.points[0].setPrice(this.minVal+(this.maxVal-this.minVal)/2),0===this.points[1].time&&this.points[1].setTime(this.getTimeFromX(this.shift+this.width/2+this.width/100*30)),0===this.points[1].price&&this.points[1].setPrice(this.points[0].price)}},{key:"calculate",value:function(){this.canBeInitialized()&&(this.calculateInitialPositions(),this.initialize())}},{key:"clearGraphics",value:function(){this.clearAllDynamicGraphics()}},{key:"draw",value:function(){if(this.isDrawingInsideScreen()&&this.isShowing()){if(this.isShowingChange()||this.isSizeChanged()||this.isPointsCoordinatesChange()||this.updated){this.clearGraphics(),this.points[0].isDragging||this.updatePrevPoints();var e=this.settings.lines.main,t=e.color,n=e.lineWidth,i=e.opacity,r=this.getDynamicGraphics(Tn,this.key+NaN);r.graphics.lineStyle(n,this.prepareColor(t),i/100);for(var a=[this.points[0].x,this.points[1].x],o=this.points[1].x-this.points[0].x,s=Math.ceil(this.width/o),c=0;c<s;c++)a.push(this.points[1].x+o*c);for(var l=[],u=0;u<a.length;u++){var h=a[u];if(this.settings.lines.main.lineStyle===sh)r.graphics.moveTo(h,this.yShift),r.graphics.lineTo(h,this.yShift+this.height);else if(this.settings.lines.main.lineStyle===ch||this.settings.lines.main.lineStyle===lh){var d=this.settings.lines.main.lineStyle===ch?8:3;r.graphics.dashedLine(lr(h,this.yShift),lr(h,this.yShift+this.height),5,d)}l.push(lr(h,this.yShift),lr(h,this.yShift+this.height))}this.isMobile||this.makeInterectable(r.graphics,l)}}else this.clearGraphics()}},{key:"drawingPoints",get:function(){return this.isShowing?[this.points[0],this.points[1]]:[]}}])&&NI(t.prototype,n),i&&NI(t,i),a}(AA);function LI(e){return(LI="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function jI(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function FI(e,t){return(FI=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function GI(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=HI(e);if(t){var r=HI(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return VI(this,n)}}function VI(e,t){return!t||"object"!==LI(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function HI(e){return(HI=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var UI=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&FI(e,t)}(a,e);var t,n,i,r=GI(a);function a(e,t){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(n=r.call(this,e,t)).destroyed=!0,n.key="minmax-value-element",n.isMinOver=!1,n.isMaxOver=!1,n}return t=a,(n=[{key:"mouseMove",value:function(e,t){if(!this.interactiveGraphics)return!1;var n=this.core,i=n.renderer,r=n.stage,a=i.plugins.interaction.hitTest(new dg.n(e,t),r),o=this.interactiveGraphics.find((function(e){return e===a}));o?"min"===o.name?(this.isMinOver=!0,this.isMaxOver=!1):"max"===o.name&&(this.isMaxOver=!0,this.isMinOver=!1):(this.isMinOver=!1,this.isMaxOver=!1)}},{key:"draw",value:function(){if(this.pointsManager.points.length){this.clear();var e=this.filterPoints(this.pointsManager.candles),t=this.filterPoints(this.pointsManager.reducedPoints),n=Array.from(this.isLineChart()?t:e);if(n.length){var i=n.reduce((function(e,t){return t.minValue<e.minValue?t:e})),r=n.reduce((function(e,t){return t.maxValue>e.maxValue?t:e})),a=this.isMinOver?this.colors.minMaxValueElementOverRectangleColor:this.colors.minMaxValueElementRectangleColor,o=this.isMaxOver?this.colors.minMaxValueElementOverRectangleColor:this.colors.minMaxValueElementRectangleColor,s=this.isMinOver?this.colors.minMaxValueElementOverTextColor:this.colors.minMaxValueElementTextColor,c=this.isMaxOver?this.colors.minMaxValueElementOverTextColor:this.colors.minMaxValueElementTextColor,l=this.core.getText(Qn,this.key+"-min",this.formatStringPrice(i.minValue),w.CHART.S_MINMAX_VALUE,s.getHEXNUM()),u=this.core.getText(Qn,this.key+"-max",this.formatStringPrice(r.maxValue),w.CHART.S_MINMAX_VALUE,c.getHEXNUM());l.alpha=s.getAlpha(),u.alpha=c.getAlpha();var h=lr(this.getXFromTime(i.time)-l.width/2,this.getYFromValue(i.minValue)+l.height/2),d=lr(this.getXFromTime(r.time)-u.width/2,this.getYFromValue(r.maxValue)-1.5*u.height),f=l.width+20,p=u.width+20,m=lr(h.x-(f-l.width)/2,h.y-(22-l.height)/2),y=lr(d.x-(p-u.width)/2,d.y-(22-u.height)/2),g=Math.sqrt(12.5),v=this.core.getGraphics(fn);v.name="min",v.beginFill(a.getHEXNUM(),a.getAlpha()),v.drawPolygon([0,g,g,0,f,0,f,22-g,f-g,22,g,22,0,22-g,0,g]),v.endFill();var b=this.core.getGraphics(pn);b.name="max",b.beginFill(o.getHEXNUM(),o.getAlpha()),b.drawPolygon([0,g,g,0,p-g,0,p,g,p,22,g,22,0,22-g,0,g]),b.endFill(),l.setTransform(h.x-f/2,h.y),u.setTransform(d.x-p/2,d.y),v.setTransform(m.x-f/2,m.y),b.setTransform(y.x-p/2,y.y),b.interactive=!0,b.buttonMode=!0,v.interactive=!0,v.buttonMode=!0,this.interactiveGraphics=[v,b],this.destroyed=!1}}else this.destroyed||this.destroy()}},{key:"destroyTexts",value:function(){this.core.clearText(Qn,this.key+"-min"),this.core.clearText(Qn,this.key+"-max")}},{key:"destroy",value:function(){this.destroyed=!0,this.isMinOver=!1,this.isMaxOver=!1,this.clear()}},{key:"clear",value:function(){this.core.clearGraphics(fn),this.core.clearGraphics(pn),this.destroyTexts()}},{key:"getTopMargin",value:function(){return this.isMobile?w.CHART.CHART_TOP_MARGIN_M:w.CHART.CHART_TOP_MARGIN}}])&&jI(t.prototype,n),i&&jI(t,i),a}(Cv);function WI(e){return(WI="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function YI(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function QI(e,t){return(QI=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function XI(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=KI(e);if(t){var r=KI(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return zI(this,n)}}function zI(e,t){return!t||"object"!==WI(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function KI(e){return(KI=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var JI=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&QI(e,t)}(a,e);var t,n,i,r=XI(a);function a(e,t,n){var i;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(i=r.call(this,e,t,n)).type=zE.GannBox,i.elementType=bt,i.key="gann-box-".concat(i.index),i}return t=a,(n=[{key:"calculateInitialPositions",value:function(){0===this.points[0].time&&this.points[0].setTime(this.getTimeFromX(this.shift+this.width/100*30)),0===this.points[0].price&&this.points[0].setPrice(this.minVal+(this.maxVal-this.minVal)/100*60),0===this.points[1].time&&this.points[1].setTime(this.getTimeFromX(this.shift+(this.width-this.width/100*30))),0===this.points[1].price&&this.points[1].setPrice(this.minVal+(this.maxVal-this.minVal)/100*30),this.points.forEach((function(e){return e.isAllowShiftBounding=!1}))}},{key:"calculate",value:function(){if(this.canBeInitialized())return this.calculateInitialPositions(),void this.initialize()}},{key:"isDrawingInsideScreen",value:function(){var e=lr(this.getXFromTime(this.points[0].time),this.getYFromValue(this.points[0].price)),t=lr(this.getXFromTime(this.points[1].time),this.getYFromValue(this.points[1].price));return this.isLineVisible(e,t)}},{key:"draw",value:function(){this.shouldRedraw()&&(this.clearAllDynamicGraphics(),this.updatePrevPoints(),this.isDrawingInsideScreen()&&this.isShowing()&&(this.drawLines(),this.drawBgFill()))}},{key:"drawLine",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"x",n=this.settings.lines.main,i=n.color,r=n.lineWidth,a=n.opacity,o=this.getDynamicGraphics(Tn,this.key+"-lines");o.graphics.interactive=!1,o.graphics.lineStyle(r,this.prepareColor(i),a/100);var s=this.points[0].x,c=this.points[0].y,l=this.points[1].x-this.points[0].x,u=this.points[1].y-this.points[0].y,h="x"===t?lr(s+l*e,c):lr(s,c+u*e),d="x"===t?lr(h.x,c+u):lr(s+l,h.y);if(this.settings.lines.main.lineStyle===sh)o.graphics.moveTo(h.x,h.y),o.graphics.lineTo(d.x,d.y);else if(this.settings.lines.main.lineStyle===ch||this.settings.lines.main.lineStyle===lh){var f=5,p=this.settings.lines.main.lineStyle===ch?8:3;o.graphics.dashedLine(h,d,f,p)}var m=20;this.drawText(h.x+("x"===t?0:-m),h.y+("x"===t?-m:0),t,e),this.drawText(d.x+("x"===t?0:m),d.y+("x"===t?m:0),t,e)}},{key:"drawLines",value:function(){var e=this;[0,.25,.382,.5,.618,.75,1].forEach((function(t){e.drawLine(t,"x"),e.drawLine(t,"y")}))}},{key:"drawBgFill",value:function(){var e=this.settings.lines.bg.opacity,t=this.settings.lines.main.color,n=this.getDynamicGraphics(Tn,this.key+"-bg");n.graphics.beginFill(this.prepareColor(t),e/100),n.graphics.drawPolygon(this.points[0].x,this.points[0].y,this.points[1].x,this.points[0].y,this.points[1].x,this.points[1].y,this.points[0].x,this.points[1].y),n.graphics.endFill(),this.isMobile||this.makeInterectable(n.graphics,new dg.o(this.points[0].x,this.points[0].y,this.points[1].x,this.points[0].y,this.points[1].x,this.points[1].y,this.points[0].x,this.points[1].y))}},{key:"drawText",value:function(e,t,n,i){var r=this.settings.lines.main.color,a=i.toString(),o=this.getTextGraphics(Tn,this.key+"-text-"+e+"-"+t,a,w.CHART.S_DATE_RANGE_BARS,r,"center");o.anchor.set(.5,.5),o.style.align="center",o.visible=!0,o.setTransform(e,t)}},{key:"drawingPoints",get:function(){return this.isShowing?[this.points[0],this.points[1]]:[]}}])&&YI(t.prototype,n),i&&YI(t,i),a}(AA);function qI(e){return(qI="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ZI(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function $I(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function eP(e,t){return(eP=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function tP(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=iP(e);if(t){var r=iP(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return nP(this,n)}}function nP(e,t){return!t||"object"!==qI(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function iP(e){return(iP=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var rP=-1,aP=0,oP=1,sP=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&eP(e,t)}(a,e);var t,n,i,r=tP(a);function a(e,t,n,i,o,s,c,l,u){var h,d=arguments.length>9&&void 0!==arguments[9]&&arguments[9];return ZI(this,a),(h=r.call(this,e,t)).drawingsManager=n,h.notificationId=i,h.assetId=o,h.price=s,h.creationCursorPrice=h.pointsManager.currentValue,h.id=s.toString(),h.isMobile=d,h.selected=!1,h.draggable=!1,h.destroyed=!1,h.onOverNotification=c,h.onOutNotification=l,h.onClickButtonNotification=u,h.buttonGraph=null,h.bodyGraph=null,h}return t=a,(n=[{key:"getString",value:function(){return this.text}},{key:"drawRect",value:function(e,t,n,i,r,a,o,s,c,l){var u=this.core.getDynamicGraphics(a,o);return u.graphics.beginFill(r.getHEXNUM(),r.getAlpha()),u.graphics.drawRoundedRect(e,t,n,i,3),u.graphics.endFill(),(s||c||l)&&(u.graphics.interactive=!0,u.graphics.interactiveChildren=!1,u.graphics.buttonMode=!0),u.graphics}},{key:"drawIcon",value:function(e,t,n,i){var r=this.core.getSprite(Wn,"notification-element-icon-".concat(this.id),n);return r.sprite||(r.sprite=new dg.s),r.sprite.interactive=!1,r.sprite.anchor.set(.5),r.sprite.tint=16777215,r.sprite.setTransform(e,t),r.sprite.scale.set(.35),r.sprite}},{key:"draw",value:function(){if(!this.destroyed){this.width;var e,t=this.getYFromValue(this.price),n=this.colors.ringElementActiveColor;if(this.clearAll(),this.pointerInElement?(e="".concat(this.pointerInElementValueY),this.pointerInElementValueY.length&&(e+=this.pointerInElementValueSymbol)):e=this.formatStringPrice(this.getValueFromY(t)),e.length){var i=this.theme===Av.DARK,r=this.theme===Av.BLACK,a=i||r?"light":"dark",o=dg.v.measureText(e,new dg.w(w.CHART.S_CURSOR)),s=o.width+2*w.CHART.CURSOR_VALUE_BG_H_MARGIN,c=o.height+2*w.CHART.CURSOR_VALUE_BG_V_MARGIN,l=this.width-s-w.CHART.CURSOR_VALUE_BG_H_MARGIN,u={width:24,height:c},h=this.colors.ringElementActiveTextColor;this.buttonGraph=this.drawRect(l-u.width-1,t-c/2,u.width,u.height,n,Wn,"notification-element-button-".concat(this.id),null,this.onOutNotification,this.onClickButtonNotification),this.bodyGraph=this.drawRect(l,t-c/2,s,c,n,Un,"notification-element-rect-".concat(this.id),null,this.onOutNotification,null),this.bodyGraph.lineStyle(1,this.colors.crosshairLineColor.getHEXNUM(),this.colors.crosshairLineColor.getAlpha()),this.bodyGraph.moveTo(0,t),this.bodyGraph.lineTo(l-u.width,t),this.interactiveGraphics=[this.buttonGraph,this.bodyGraph],this.drawIcon(l-u.width-1+u.width/2,t-c/2+u.height/2,this.selected?"/trade-room/images/ring_cross_".concat(a,".svg"):"/trade-room/images/ring_".concat(a,".svg"),h.getHEXNUM());var d=this.core.getText(Un,"notification-element-text-".concat(this.id),e,w.CHART.S_NOTIFICATION,h.getHEXNUM());d.interactive=!1,d.x=l+w.CHART.CURSOR_VALUE_BG_H_MARGIN,d.y=t-d.height/2,this.destroyed=!1}else this.destroy()}}},{key:"setDraggable",value:function(e){this.draggable=e}},{key:"isClickedOnElement",value:function(e,t){if(!this.interactiveGraphics)return!1;var n=this.core,i=n.renderer,r=n.stage,a=i.plugins.interaction.hitTest(new dg.n(e,t),r);return!!a&&(Array.isArray(this.interactiveGraphics)?a===this.bodyGraph?oP:a===this.buttonGraph?aP:rP:a===this.interactiveGraphics)}},{key:"isOverOnElement",value:function(e,t){return this.isClickedOnElement(e,t)}},{key:"clearAll",value:function(){this.core.clearDynamicGraphicsNew("notification-element-rect-".concat(this.id)),this.core.clearDynamicGraphicsNew("notification-element-button-".concat(this.id)),this.core.clearSprite(Wn,"notification-element-icon-".concat(this.id)),this.core.clearText(Qn,"notification-element-text-".concat(this.id))}},{key:"destroy",value:function(){this.destroyed=!0,this.core.destroyDynamicGraphicsNew(Un,"notification-element-rect-".concat(this.id)),this.core.destroyDynamicGraphicsNew(Wn,"notification-element-button-".concat(this.id)),this.core.clearSprite(Wn,"notification-element-icon-".concat(this.id)),this.core.clearText(Qn,"notification-element-text-".concat(this.id))}}])&&$I(t.prototype,n),i&&$I(t,i),a}(Cv);function cP(e){return function(e){if(Array.isArray(e))return lP(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return lP(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return lP(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function lP(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function uP(e,t,n){return(uP=hP()?Reflect.construct:function(e,t,n){var i=[null];i.push.apply(i,t);var r=new(Function.bind.apply(e,i));return n&&dP(r,n.prototype),r}).apply(null,arguments)}function hP(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function dP(e,t){return(dP=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function fP(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function pP(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var mP={NEW_REGION_REQUEST:1,ZOOM_CHANGED:2,SCROLL_TO_END_CHANGED:3,VERTICAL_SCROLL_CHANGED:4},yP=function(){function e(t,n){var i=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),pP(this,"setPointer",(function(e,t){i.pointerX=e,i.pointerY=t})),pP(this,"hasLoadingRegions",(function(){return i.regions.some((function(e){return!e.loaded}))})),pP(this,"getPointsInElement",(function(){return dr(i.type,i.ElementWidth)})),pP(this,"getPointsInElementForIndicators",(function(){return Math.max(5,i.getPointsInElement())})),e.instance=this,this.store=n,this.chartId=t,this.scrollToEndDisplayed=!1,this.socket=Li.instance,this.pointsManager=new jy,this.callPutButtonsManager=new kT(this.chartId),this.doubleRolloverButtonsManager=new NT(this.chartId,n),this.initialPoints=[],this.pointVisible=!1,this.width=0,this.height=0,this.ts=0,this.deadlineTime=0,this.expirationTime=0,this.minValue=0,this.maxValue=0,this.type=yi.Bars,this.regions=[],this.indicators=[],this.elements=[],this.tick=w.CHART.FLT_MAX,this.gridElement=null,this.gatesElement=null,this.timeToEndElement=null,this.currentElement=null,this.pointElement=null,this.valueLineElement=null,this.cursorElement=null,this.drawingValuesElement=null,this.touchX=w.CHART.FLT_MAX,this.touchY=w.CHART.FLT_MAX,this.startX=w.CHART.FLT_MAX,this.startY=w.CHART.FLT_MAX,this.prevPinch=w.CHART.FLT_MAX,this.pointerX=0,this.pointerY=0,this.pinchTime=0,this.acceleration=0,this.accelerationStartTime=0,this.handling=!1,this.zoomFactor=0,this.currentZoom=0,this.ElementWidth=Zn,this.topElementsNumber=0,this.bottomElementsHeight=0,this.topMargin=0,this.bottomMargin=0,this.currentDelta=0,this.currentDeltaCount=0,this.isMobile=this.globalSettings.isMobile,this.showCursorPointer=!this.isMobile,this.context=new hg(t),this.core=new pv(this.context.getCanvas(),this.context.isIE,this.globalSettings.isPerfomanceMode),this.optionsPopups=[],this.options=[],this.optionsSocial=[],this.optionsClosed=[],this.optionsPending=[],this.defaultDuration=.15,this.minValueAnimator=new gv(this.defaultDuration,wt),this.maxValueAnimator=new gv(this.defaultDuration,wt),this.shiftAnimator=new gv(.5,_t),this.secondWidthAnimator=new gv(.5,_t),this.minProfitableSocialOption=35,this.touchStartTs=0,this.touchMoveSide=0,this.currentDigit=this.chartSettings.currentAsset.obj.digits,this.currency=this.globalSettings.currency,this.destroyed=!1,this.forceCleared=!1,this.assetId=this.chartSettings.currentAsset.obj.id,this.assetSymbol=this.chartSettings.currentAsset.obj.symbol,this.notificationElements=[],this.subscribeToInputEvents(),this.callPutButtonsManager.install(),this.doubleRolloverButtonsManager.install(),this.initializePlotEventsListeners(),this.initializeSocketEvents(),this.drawingsManager=new Yw(this),this.setMainElements(),this.setPlotType(yi.Area),this.setElementWidth(Zn),this.theme=this.globalSettings.theme,this.isMinMaxCalculated=!1,this.linePlotCandleWidth=null,this.extraBottomMargin=0,this.currentServerTime=this.currentTime,this.lastCurrentServerTime=this.currentTime,this.currentOptions=null,this.plotVerticalScroll=new HA(this)}var t,n,i;return t=e,(n=[{key:"subscribeToInputEvents",value:function(){var e=this;this.context.addEventListener(eg,(function(t,n,i){return e.zoom(n,i,t)})),this.context.addEventListener(og,(function(t,n,i,r){return e.pinchZoom(t,n,i,r)})),this.context.addEventListener(sg,(function(){return e.pinchZoomEnd()})),this.context.addEventListener(tg,(function(t,n){return e.touchMoved(t,n)})),this.context.addEventListener(rg,(function(t,n){return e.touchEnded(t,n)})),this.context.addEventListeners(this.isMobile?[ng]:[cg,ng],(function(t,n){!e.drawingsManager.isMovingDrawing()&&e.touchStared(t,n)})),this.context.addEventListeners(this.isMobile?[ig]:[lg,ig],(function(t,n){!e.drawingsManager.isMovingDrawing()&&e.checkInteractives(t,n)})),this.context.addEventListener(ag,(function(t,n){e.setPointer(t,n),e.mouseMove(t,n)})),this.context.addEventListener(cg,(function(){return e.onMouseDown()}))}},{key:"unsubscribeFromInputEvents",value:function(){this.context.removeAllListeners()}},{key:"addPlotEventListener",value:function(e,t){var n=ke();return this.plotEventListeners[e].set(n,t),n}},{key:"removeAllPlotEventListeners",value:function(){this.initializePlotEventsListeners()}},{key:"initializePlotEventsListeners",value:function(){var e={};Object.keys(mP).forEach((function(t){e[mP[t]]=new Map})),this.plotEventListeners=e}},{key:"initializeSocketEvents",value:function(){var e=this;this.socket.addEventListener("".concat(_).concat(ge),(function(t){Array.isArray(t)&&(e.removeAllNotificationElements(),t.forEach((function(t){e.assetSymbol===t.asset&&e.createNotificationElement({id:parseFloat(t.id),price:parseFloat(t.price),asset:t.asset},!1)})))})),this.socket.addEventListener(ye,(function(t){e.removeNotificationElementById(parseFloat(t.id))}))}},{key:"checkInteractives",value:function(e,t){var n=this;if(this.isMobile)for(var i=function(i){var r=n.options[i],a=n.getOptionsPopup(r.id);if(r.isClickedOnElement(e,t,n.isMobile)){if(!a&&gr(n.currentServerTime,n.timeZone,n.currentOptions.find((function(e){return e.id===r.id}))))return n.destroyAllOptionsPopup(),n.setSelectedOption(r),n.optionsPopups.push(n.createOptionsPopup(r)),"break"}else(!a||a&&!a.isClickedOnElement(e,t))&&(n.setSelectedOption(null),n.destroyOptionsPopup(a))},r=0;r<this.options.length&&"break"!==i(r);r++);for(var a=function(i){var r=n.optionsPopups[i];if(r.isClickedOnElement(e,t))return gr(n.currentServerTime,n.timeZone,n.currentOptions.find((function(e){return e.id===r.id})))>0&&Bu.dispatch(Hu(r.id)),n.setSelectedOption(null),n.destroyOptionsPopup(r),"break"},o=0;o<this.optionsPopups.length&&"break"!==a(o);o++);for(var s=0;s<this.optionsClosed.length;s++){var c=this.optionsClosed[s];c.checkIsCloseClick(e,t,this.isMobile)&&(c.destroy(),this.optionsClosed.splice(s,1))}var l=!1;this.notificationElements.forEach((function(n){if(n.selected)switch(n.isClickedOnElement(e,t)){case aP:n.onClickButtonNotification&&(n.onClickButtonNotification(n),l=!0)}})),!l&&this.cursorElement&&this.cursorElement.isClickedOnElement(e,t)&&this.cursorElement.onCreateNotification()}},{key:"handleScrollToEndClick",value:function(){this.scrollToExpTime(!0,!1)}},{key:"mouseMove",value:function(e,t){var n=this;if(!this.handling&&!this.isMobile){for(var i=function(i){var r=n.options[i],a=n.getOptionsPopup(r.id);r.isClickedOnElement(e,t,n.isMobile)?!a&&gr(n.currentServerTime,n.timeZone,n.currentOptions.find((function(e){return e.id===r.id})))&&(n.destroyAllOptionsPopup(),n.setSelectedOption(r),n.optionsPopups.push(n.createOptionsPopup(r))):a&&!a.isOverOnElement(e,t)&&(n.setSelectedOption(null),n.destroyOptionsPopup(a))},r=0;r<this.options.length;r++)i(r);this.minMaxValueElement.mouseMove(e,t)}this.indicators.filter((function(e){return!e.isDrawing})).forEach((function(i){return i.checkTouchMovedOnHitArea(e,t,n.isMobile,n.isBottomIndicatorsAllowScroll())})),this.notificationElements.forEach((function(i){i.draggable?i.price=DE(i.getValueFromY(n.pointerY),n.currentDigit):i.isOverOnElement(e,t)===aP?i.onOverNotification&&i.onOverNotification(i):i.onOutNotification&&i.onOutNotification(i)}))}},{key:"touchMoved",value:function(e,t){var n=this;if(!this.drawingsManager.isMovingDrawing()){this.stopMoves();for(var i=0;i<this.notificationElements.length;i++)if(this.notificationElements[i].draggable)return;var r=this.drawingsManager.checkPointHit(e,t);this.handling||!this.plotVerticalScroll.isHandling&&r||!this.plotVerticalScroll.canHandle(e,t)?(this.touchX===w.CHART.FLT_MAX&&(this.handling=!0,this.touchX=e,this.touchY=t,this.startX=e,this.startY=t,this.touchStartTs=this.ts),this.drawingsManager.isPointSelected()?(this.touchX=e,this.touchY=t,this.drawingsManager.moveSelectedPoint(this.touchX,this.touchY,!0)):(this.shiftAnimator.setToValue(this.shift+this.touchX-e),this.touchMoveSide=this.touchX>e?1:-1,this.touchX=e,this.touchY=t,this.checkShift()),this.indicators.filter((function(e){return!e.isDrawing})).forEach((function(i){return i.checkTouchMovedOnHitArea(e,t,n.isMobile,n.isBottomIndicatorsAllowScroll())}))):this.plotVerticalScroll.handle(e,t,this.minValue,this.maxValue)}}},{key:"onMouseDown",value:function(){this.drawingsManager.isMovingDrawing()||this.isMobile||this.stopMoves()}},{key:"touchStared",value:function(e,t){var n=this;this.drawingsManager.isMovingDrawing()||(this.indicators.filter((function(e){return!e.isDrawing})).forEach((function(i){return i.checkTouchStartedOnHitArea(e,t,n.isMobile)})),this.notificationElements.forEach((function(n){n.isClickedOnElement(e,t)===oP&&n.setDraggable(!0)})))}},{key:"touchEnded",value:function(e,t){var n=this;if(!this.drawingsManager.isMovingDrawing()){if(!this.drawingsManager.isPointSelected()){this.accelerationStartTime=this.ts;var i=this.ts-this.touchStartTs,r=Math.abs(e-this.startX),a=Math.abs(t-this.startY);if(i>0&&i<.4&&r>a&&r>50){var o=r/i/i;this.acceleration=this.touchMoveSide*Math.min(50,o/700)}else this.acceleration=0}this.touchStartTs=0,this.touchX=w.CHART.FLT_MAX,this.touchY=w.CHART.FLT_MAX,this.startX=w.CHART.FLT_MAX,this.startY=w.CHART.FLT_MAX,this.handling=!1,this.plotVerticalScroll.stopHandling(),this.indicators.filter((function(e){return!e.isDrawing})).forEach((function(i){return i.checkTouchEndedOnHitArea(e,t,n.isMobile)})),this.notificationElements.forEach((function(e){if(e.draggable){e.setDraggable(!1);var t=e.notificationId,i=e.price,r=e.assetSymbol;n.socket.updateChartNotification({id:t,price:i,asset:r})}}))}}},{key:"pinchZoom",value:function(e,t,n,i){if(!this.drawingsManager.isMovingDrawing()){if(this.stopMoves(),this.prevPinch===w.CHART.FLT_MAX)return this.prevPinch=sl(n-e,i-t),void(this.handling=!0);var r=sl(n-e,i-t);if(!(Math.abs((r-this.prevPinch)/(this.prevPinch+r))<.01)){var a=this.prevPinch>r?-1:1;this.prevPinch=r;var o=Math.min(e,n)+Math.abs(e-n)/2;this.zoom(o,this.height/2,a*w.CHART.ZOOM_PERCENT)}}}},{key:"pinchZoomEnd",value:function(){this.drawingsManager.isMovingDrawing()||(this.prevPinch=w.CHART.FLT_MAX,this.handling=!1)}},{key:"zoom",value:function(e,t,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;if(!this.drawingsManager.isMovingDrawing()){this.stopMoves();var r=this.secondWidth,a=i>1?n/i:n,o=r*Math.pow(1+a,i),s=this.setSecondWidthAfterZoom(e,t,o);s&&(this.currentDelta+=n,this.currentDeltaCount++)}}},{key:"setSecondWidthAfterZoom",value:function(e,t,n){var i=this.secondWidth,r=this.shift,a=this.getMinSecondWidth(),o=this.getMaxSecondWidth();n<a&&(n=a),n>o&&(n=o);var s=n!==i;this.pinchTime=this.pointsManager.startPoint.time+(r+e)/i,this.secondWidthAnimator.setToValue(n);var c=(this.pinchTime-this.pointsManager.startPoint.time)*n-e,l=this.getMaxShift();return this.shiftAnimator.setToValue(c>l?l:c),this.checkShift(),this.plotEventListeners[mP.ZOOM_CHANGED].forEach((function(e){return e()})),s}},{key:"restoreZoom",value:function(){this.hasLoadingRegions()||(this.acceleration=0,this.stopMoves(),this.resetZoom(),this.plotVerticalScroll.reset(),this.scrollToExpTimeWithoutAnimation())}},{key:"resetZoom",value:function(){this.resetSecondWidth();var e=w.CHART,t=e.ZOOM_PERCENT,n=e.MOBILE_ZOOM;this.currentDelta=t*n,this.currentDeltaCount=0,this.currentZoom=this.secondWidth}},{key:"resetSecondWidth",value:function(){var e=this.getDefaultSecondWidth();this.secondWidthAnimator.fromValue=e,this.secondWidthAnimator.setToValue(e)}},{key:"stopMoves",value:function(){this.secondWidthAnimator.setEnabled(!1),this.shiftAnimator.setEnabled(!1),this.acceleration=0}},{key:"setPlotType",value:function(e){this.zoomFactor=this.getCurrentZoomFactor(),this.type=e,this.clearElements(),this.actualizeMainElement(),this.actualizeGatesElement(),this.actualizeZoom(),this.actualizeIndicators(),this.forceClear()}},{key:"flushIndicatorsCache",value:function(){for(var e=0;e<this.indicators.length;e++)this.indicators[e]&&this.indicators[e].flush()}},{key:"clearElements",value:function(){for(var e=0;e<this.elements.length;e++)this.elements[e]&&this.elements[e].destroy(),this.elements[e]=null;this.elements=[]}},{key:"refresh",value:function(){this.clearElements(),this.actualizeMainElement(),this.actualizeGatesElement(),this.actualizeZoom(),this.actualizeIndicators(),this.pointsManager.reset(),this.forceClear()}},{key:"forceClear",value:function(){this.core.clearForce(),this.forceCleared=!0}},{key:"setElementWidth",value:function(e){this.zoomFactor=this.getCurrentZoomFactor(),this.ElementWidth=e,this.refresh(),this.flushIndicatorsCache()}},{key:"getCurrentZoomFactor",value:function(){return(this.secondWidth-this.getMinSecondWidth())/(this.getMaxSecondWidth()-this.getMinSecondWidth())}},{key:"setMainElements",value:function(){this.actualizeMainElement(),this.actualizeGatesElement(),this.actualizeCursorElement(),this.actualizeNotificationElement(),this.pointElement=new Ob(this.core,this.pointsManager),this.valueLineElement=new rE(this.core,this.pointsManager),this.gridElement=new bE(this.core,this.pointsManager,this.isMobile),this.timeToEndElement=new CE(this.core,this.pointsManager),this.drawingValuesElement=new Lk(this.core,this.pointsManager,this.drawingsManager),this.minMaxValueElement=new UI(this.core,this.pointsManager,this.drawingsManager)}},{key:"onFastOptionTypeChange",value:function(){this.actualizeGatesElement(),this.actualizeMainElement(),this.callPutButtonsManager.refresh(),this.doubleRolloverButtonsManager.refresh()}},{key:"actualizeGatesElement",value:function(){this.gatesElement&&this.gatesElement.destroy(),this.gatesElement=new ST(this.core,this.pointsManager)}},{key:"onCreateNotification",value:function(){var e=this.cursorElement.getValueFromY(this.pointerY-.5);this.notificationElements.find((function(t){return t.price===e}))||this.createNotificationElement({id:ke(),price:DE(e,this.currentDigit),asset:this.assetSymbol})}},{key:"actualizeCursorElement",value:function(){this.cursorElement=new hE(this.core,this.pointsManager,this.drawingsManager,this.chartSettings.enabledGridSnap,this.onCreateNotification.bind(this))}},{key:"actualizeNotificationElement",value:function(){this.isMobile||(this.notificationElements&&this.notificationElements.forEach((function(e){return e.destroy()})),this.notificationElements=[],this.socket.getChartNotifications())}},{key:"createNotificationElement",value:function(e){var t=this,n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],i=function(e){return e.selected=!0},r=function(e){return e.selected=!1},a=function(e){return t.removeNotificationElementById(e.notificationId)};this.notificationElements.push(new sP(this.core,this.pointsManager,this.drawingsManager,e.id,e.asset,e.price,i,r,a,this.isMobile)),n&&this.socket.createChartNotification(e)}},{key:"removeNotificationElementById",value:function(e){var t=this.notificationElements.find((function(t){return t.notificationId===e}));t&&(t.destroy(),this.notificationElements.splice(this.notificationElements.indexOf(t),1),this.socket.deleteChartNotification(e))}},{key:"removeAllNotificationElements",value:function(){for(var e=0;e<this.notificationElements.length;e++){var t=this.notificationElements[e];t&&(t.destroy(),this.notificationElements.splice(this.notificationElements.indexOf(t),1),this.socket.deleteChartNotification(t.id))}this.notificationElements=[]}},{key:"createAreaElement",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.core.isUseFastLines()?uP(Wk,t):uP(Lv,t)}},{key:"actualizeMainElement",value:function(){switch(this.type){case yi.Area:var e=this.createAreaElement(this.core,this.pointsManager);e.pointsInElement=this.getPointsInElement(),this.currentElement=e;break;case yi.Line:var t=this.createAreaElement(this.core,this.pointsManager);t.pointsInElement=this.getPointsInElement(),t.lineOnly=!0,this.currentElement=t;break;case yi.Candles:var n=new gb(this.core,this.pointsManager);n.pointsInElement=this.getPointsInElement(),this.currentElement=n;break;case yi.Bars:var i=new sb(this.core,this.pointsManager);i.pointsInElement=this.getPointsInElement(),this.currentElement=i;break;case yi.HeikenAshi:var r=new gb(this.core,this.pointsManager);r.pointsInElement=this.getPointsInElement(),this.currentElement=r}}},{key:"actualizeZoom",value:function(){if(this.stopMoves(),this.secondWidth>this.getMaxSecondWidth()||this.secondWidth<this.getMinSecondWidth()){var e=this.getDefaultSecondWidth();this.secondWidthAnimator.setToValue(e),this.scrollToExpTime(!0,!1)}if(this.checkGateOnScreen())this.scrollToExpTime(!0,!1);else{var t=this.getMinSecondWidth()+(this.getMaxSecondWidth()-this.getMinSecondWidth())*this.zoomFactor;t*(this.getTimeFromX(this.shift+this.width/2)-this.pointsManager.startPoint.time)-this.width/2>t*(this.expirationTime-this.pointsManager.startPoint.time)-this.width+this.getRightMarginPercent()&&this.scrollToExpTime(!0,!1)}}},{key:"actualizeIndicators",value:function(){for(var e=0;e<this.indicators.length;e++){var t=this.indicators[e];t&&(t.pointsInElement=this.getPointsInElementForIndicators())}}},{key:"setParams",value:function(e,t){this.width=e,this.height=t,this.context.setSize(e,t),this.core.resize(e,t),this.checkSecondsWidth(),this.checkShift()}},{key:"checkSecondsWidth",value:function(){if(this.secondWidth<this.getMinSecondWidth()){var e=this.getMinSecondWidth();this.secondWidthAnimator.setToValue(e)}if(this.secondWidth>this.getMaxSecondWidth()){var t=this.getMaxSecondWidth();this.secondWidthAnimator.setToValue(t)}}},{key:"checkShift",value:function(){var e=this.getRightMarginPercent();if(this.shift+this.width>this.shift+this.getXFromTime(this.expirationTime)+e){this.acceleration=0,this.shiftAnimator.setEnabled(!1);var t=this.secondWidth*(this.expirationTime-this.pointsManager.startPoint.time)-this.width+e,n=this.getMaxShift();this.shiftAnimator.setToValue(t>n?n:t)}this.shift<w.CHART.MAX_SHIFT_VALUE&&(this.acceleration=0,this.shiftAnimator.setEnabled(!1),this.shiftAnimator.setToValue(w.CHART.MAX_SHIFT_VALUE)),this.calculateWindowParams({calculateCandles:!1})}},{key:"getMaxShift",value:function(){var e=this.pointsManager,t=e.startPoint,n=e.endPoint,i=e.fromTime,r=e.toTime;return(n.time-t.time-.1*(r-i))*this.secondWidth}},{key:"getRightMarginPercent",value:function(){return this.width/100*w.CHART.CHART_MARGIN_RIGHT_PERCENT}},{key:"getMinSecondWidth",value:function(){return 1===this.getPointsInElement()?.04:5/this.getPointsInElement()}},{key:"getMaxSecondWidth",value:function(){return 1===this.getPointsInElement()?10:50/this.getPointsInElement()}},{key:"getXFromTime",value:function(e){return(e-this.pointsManager.startPoint.time)*this.secondWidth-this.shift}},{key:"getTimeFromX",value:function(e){return this.pointsManager.startPoint.time+e/this.secondWidth}},{key:"getRolloverCloseTime",value:function(e,t){var n=Math.floor(e);return t+(t-n-(t-n)%60)}},{key:"onRegionLoaded",value:function(e){var t=this,n=this.regions.findIndex((function(t){return t.index===e}));-1!==n&&(this.regions[n].loaded=!0,this.regions[n].element&&this.regions[n].element.fade(),setTimeout((function(){for(var n=[],i=0;i<t.regions.length;i++){var r=t.regions[i];r.index===e?r.element&&r.element.destroy():n.push(r)}t.regions=n}),1e3))}},{key:"clear",value:function(){this.clearElements(),this.clearOptions(),this.clearOptionsPopups(),this.enableLoadRegion=!0,this.optionsPopups=[],this.options=[],this.optionsSocial=[],this.optionsClosed=[],this.pointsManager.reset(),this.elements=[],this.regions=[],this.minValueAnimator.fromValue=0,this.minValueAnimator.setToValue(0),this.maxValueAnimator.fromValue=0,this.maxValueAnimator.setToValue(0),this.shiftAnimator.fromValue=0,this.shiftAnimator.setToValue(0),this.resetSecondWidth(),this.removeAllDrawings(),this.removeAllIndicators(),this.indicators=[],this.changeIndicatorsAndDrawings(),this.plotVerticalScroll.reset()}},{key:"getBottomMarginForElement",value:function(e){var t=cl(e.getYShiftAddingValue(),0,100,0,this.height);return e.isMinimized()?w.CHART.CHART_BOTTOM_PX_MINIMIZED:this.isMobile?w.CHART.CHART_BOTTOM_PX_M+t:w.CHART.CHART_BOTTOM_PX+t}},{key:"forceDestroy",value:function(){this.callPutButtonsManager.uninstall(),this.doubleRolloverButtonsManager.uninstall(),this.unsubscribeFromInputEvents(),this.removeAllPlotEventListeners(),this.context.release(),this.core.destroyForce(),this.destroyed=!0,this.pointsManager=null,this.drawingsManager=null}},{key:"shouldCalculatePointsToEnd",value:function(){return-1!==this.indicators.findIndex((function(e){return e.type===y.ICHIMOKU_CLOUD}))}},{key:"checkServerTimeDependencedTasks",value:function(e){this.destroyOldClosedOptions(e),this.checkFastOptionAutoscroll(e)}},{key:"checkFastOptionAutoscroll",value:function(e){if(!(!this.chartSettings.isAutoScrolling||0===this.pointsManager.points.length||this.handling||this.shift<0)){var t=e%this.chartSettings.timePeriod;this.getTimeFromX(this.shift+this.width)<this.getExpirationTime()&&0===t&&(this.scrollToExpTime(!0,!1,!0,!1),this.checkShift())}}},{key:"render",value:function(e){this.destroyed||(this.lastCurrentServerTime=this.currentServerTime,this.currentServerTime=this.currentTime,this.currentServerTime!==this.lastCurrentServerTime&&this.checkServerTimeDependencedTasks(this.currentServerTime),this.ts=e,this.prepareToDraw(),this.pointsManager.currentValue!==w.CHART.FLT_MAX&&(this.core.clear(),this.pointsManager.points.length>0&&(this.pointsManager.updateCurrentValues(),ur(this.type)?this.pointsManager.checkReducedPoints(this.shouldCalculatePointsToEnd()):this.isLastPointVisible()&&this.calculateWindowParams({calculateCandles:!0}),this.handleElements(),this.calculateIndicators(),this.drawingsManager.calculatePoints(),this.drawElements(),this.drawScrollToEnd()),this.getParams(),this.checkRegion(),this.checkIndicatorPeriods(),this.core.render(),this.forceCleared=!1))}},{key:"isLastPointVisible",value:function(){var e=this.getTimeFromX(this.shift),t=this.getTimeFromX(this.shift+this.width),n=this.pointsManager.currentTime;return e<=n&&n<=t}},{key:"checkIndicatorPeriods",value:function(){if(this.pointsManager.candles.length){var e=this.getTimeFromX(this.shift),t=this.pointsManager.points.find((function(t){return t.time>=e}));if(t){var n=this.pointsManager.points[0],i=Math.max.apply(Math,cP(this.indicators.map((function(e){return e.maxPeriod}))))+1,r=this.chartSettings,a=r.chartType,o=r.chartPeriod,s=dr(a,o);ur(a)&&(s*=this.pointsManager.interval>0?this.pointsManager.interval:1);var c=i*s;t.time-n.time<c&&this.enableLoadRegion&&this.loadRegion({time:n.time})}}}},{key:"checkRegion",value:function(){if(this.enableLoadRegion&&this.shift<0){var e=this.pointsManager.startPoint.time;this.loadRegion({time:e})}}},{key:"disableLoadRegion",value:function(){this.enableLoadRegion=!1}},{key:"loadRegion",value:function(e){var t=this,n=e.time,i=e.offset,r=void 0===i?0:i;if(!this.regions.some((function(e){return n===e.time}))){var a=r>0?r:this.getRegionLoadedPoints()*w.CHART.AREA_COUNT_W,o=parseInt("".concat(this.socket.serverTime).concat(Ie(1,100))),s=new RE(this.core,this.pointsManager,o,n,a,this.theme),c={offset:a,index:o,loaded:!1,time:n,element:s};this.regions.push(c),this.plotEventListeners[mP.NEW_REGION_REQUEST].forEach((function(e){return e(c.index,c.time,a,t.getPointsInElement())}))}}},{key:"getRegionLoadedPoints",value:function(){var e=2*this.getPointsInElement();return e<100?100:e}},{key:"getSortedIndicators",value:function(){return[].concat(this.indicators).filter((function(e){return!e.isDrawing})).sort((function(e,t){return e.type in Xl&&t.type in Xl&&Xl[e.type].isBottom&&Xl[t.type].isBottom&&Xl[t.type].priority-Xl[e.type].priority}))}},{key:"getSortedDrawings",value:function(){return[].concat(this.indicators).filter((function(e){return e.isDrawing}))}},{key:"getSortedOptions",value:function(){var e=this,t=this.options.sort((function(t,n){var i=e.currentOptions.indexOf(e.currentOptions.find((function(e){return e.id===t.id})));return e.currentOptions.indexOf(e.currentOptions.find((function(e){return e.id===n.id})))-i})),n=0,i=this.chartSettings.isShortBetElement;t.forEach((function(e){return n+=e.getBadgeSize(!0,i).width+6}));var r=t.map((function(e){return e.getCurrentXFromTime()})),a=r.length>0?r.sort((function(e,t){return e-t}))[0]:0,o=n<=a-0,s=0;t.forEach((function(e){return s+=e.getBadgeSize(o,i).width+6}));var c=a-s,l=0;return t.forEach((function(e){var t=e.getBadgeSize(o,i),n=l+c+t.width<=a;e.lastX=e.x,e.x=l+c,e.showTime=o,e.showBadge=n,e.lastIsShortMode=e.isShortMode,e.isShortMode=i,l+=t.width+6})),t}},{key:"handleElements",value:function(){var e=this.getSortedIndicators(),t=this.getSortedDrawings(),n=this.getSortedOptions();this.elements=[].concat(cP(e),cP(t),cP(n),cP(this.optionsPopups),cP(this.optionsSocial),cP(this.optionsClosed),cP(this.optionsPending)),this.elements.push(this.valueLineElement),this.elements.push(this.cursorElement),ur(this.type)&&this.elements.push(this.pointElement);for(var i=0;i<this.regions.length;i++){var r=this.regions[i];this.elements.push(r.element)}this.gridElement.hoverCallBtn=this.callPutButtonsManager.hoverCallBtn,this.gridElement.hoverPutBtn=this.callPutButtonsManager.hoverPutBtn,this.doubleRolloverButtonsManager.refresh();for(var a=0;a<n.length;a++)n[a].lastHoverDoubleBtn=n[a].hoverDoubleBtn,n[a].lastHoverRolloverBtn=n[a].hoverRolloverBtn,this.doubleRolloverButtonsManager.hoverDoubleBtn||this.doubleRolloverButtonsManager.hoverRolloverBtn?this.doubleRolloverButtonsManager.hoverDealId===n[a].id&&(n[a].hoverDoubleBtn=this.doubleRolloverButtonsManager.hoverDoubleBtn,n[a].hoverRolloverBtn=this.doubleRolloverButtonsManager.hoverRolloverBtn,n[a].rolloverCloseTime=this.getRolloverCloseTime(n[a].time,n[a].closeTime)):(n[a].hoverDoubleBtn=!1,n[a].hoverRolloverBtn=!1,n[a].rolloverCloseTime=0);this.elements.push(this.timeToEndElement),this.elements.push(this.gridElement),this.elements.push(this.gatesElement),this.elements.push(this.currentElement),this.elements.push(this.drawingValuesElement),this.elements.push(this.minMaxValueElement),this.elements=this.elements.concat(this.drawingsManager.draggablePoints),this.elements=this.elements.concat(this.notificationElements),this.bottomMargin=w.CHART.TIME_STEP_H;for(var o=0;o<this.elements.length;o++){var s=this.elements[o];s&&(s.position===ht?this.topMargin+=w.CHART.CHART_T_PX:s.position===ft&&(this.bottomMargin+=this.getBottomMarginForElement(s)))}for(var c=0;c<this.elements.length;c++){var l=this.elements[c];l&&this.fillElement(l)}}},{key:"getBottomMarginForElement",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=t?cl(e.getYShiftAddingValue(),0,100,0,this.height):0;return e.isMinimized()?w.CHART.CHART_BOTTOM_PX_MINIMIZED:this.isMobile?w.CHART.CHART_BOTTOM_PX_M+n:e.elementType===bt&&e.isExpanded&&e.isBottomIndicator()?w.CHART.CHART_BOTTOM_PX_EXP:w.CHART.CHART_BOTTOM_PX+n}},{key:"isBottomIndicatorsAllowScroll",value:function(){return this.bottomElementsHeight<this.height-(this.isMobile?w.CHART.CHART_TOP_MARGIN_PX_M:w.CHART.CHART_TOP_MARGIN_PX)}},{key:"getExpirationTime",value:function(){return this.globalSettings.onlyFastAllowed||!this.globalSettings.onlyFastAllowed&&this.chartSettings.isFastOption?this.chartSettings.currentExpirationTime:this.currentTime+this.chartSettings.timePeriod}},{key:"updateElementsTheme",value:function(){this.elements.forEach((function(e){"colors"in e&&e.colors instanceof wv&&(e.colors.initTheme(),e.colors.initColors())}))}},{key:"getBottomIndicators",value:function(){return this.indicators.filter((function(e){return e.isBottomIndicator()}))}},{key:"fillElement",value:function(e){if(e){if(e.forceCleared=this.forceCleared,e.assetId=this.assetId,e.assetSymbol=this.assetSymbol,e.chartId=this.chartId,e.currentDigit=this.currentDigit,e.currency=this.currency,e.ts=this.ts,e.isMobile=this.globalSettings.isMobile,e.isHideTradingUI=this.globalSettings.isHideTradingUI,e.selectedPlotType=this.type,e.shift=this.shift,e.showCursorPointer=this.showCursorPointer,e.startTime=this.pointsManager.startPoint.time,e.lastEndTime=e.endTime,e.endTime=this.pointsManager.endPoint.time,e.secondWidth=this.secondWidth,e.chartPeriod=this.chartSettings.chartPeriod,e.gridOpacity=this.chartSettings.gridOpacity,e.widthLast=e.width,e.worldHeightLast=e.worldHeight,e.width=this.width,e.worldHeight=this.height,e.lastExpirationTime=e.expirationTime,e.lastDeadlineTime=e.deadlineTime,e.expirationTime=this.getExpirationTime(),e.deadlineTime=this.deadlineTime,e.lastCurrentTime=e.currentTime,e.currentTime=this.pointsManager.currentTime+this.timeZone,e.lastTimeZone=e.timeZone,e.timeZone=this.timeZone,e.lastEndCandle=e.endCandle,e.endCandle=this.pointsManager.candles[this.pointsManager.candles.length-1],e.lastPointsCount=e.pointsCount,e.pointsCount=this.pointsManager.points.length,e.lastPointerX=e.pointerX,e.lastPointerY=e.pointerY,e.pointerX=this.pointerX,e.pointerY=this.pointerY,e.options=this.options,e.currentValue=this.pointsManager.currentValue,e.endPoint=this.pointsManager.endPoint,e.currentZoom=this.currentZoom,e.lastToExpTime=e.toEndExpTime,e.toEndExpTime=this.toEndExpTime,e.lastOptionType=e.optionType,e.optionType=Ai,e.optionsLengthLast=e.optionsLength,e.optionsLength=this.options.length,e.lastIsIndicatorsShowing=e.isIndicatorsShowing,e.isIndicatorsShowing=this.chartSettings.isIndicatorsShowing,e.elementType===bt?(e.pointsInElement=this.getPointsInElementForIndicators(),e.bottomIndicators=this.getBottomIndicators(),e.lastYShiftAddingValue=e.yShiftAddingValue):e.pointsInElement=this.getPointsInElement(),e.lastFromTime=e.fromTime,e.lastToTime=e.toTime,e.fromTime=this.getTimeFromX(this.shift),e.toTime=this.getTimeFromX(this.shift+this.width),e.lastMinVal=e.minVal,e.lastMaxVal=e.maxVal,e.maxVal=this.maxValueAnimator.getValue(),e.minVal=this.minValueAnimator.getValue(),e.isMinMaxCalculated=this.isMinMaxCalculated,e.lastTheme=e.theme,e.theme=this.theme,e.prevCandleUpHex=e.candleUpHex,e.candleUpHex=this.chartSettings.upColor,e.prevCandleDownHex=e.candleDownHex,e.candleDownHex=this.chartSettings.downColor,this.showCursorPointer){var t=this.height-this.bottomMargin+1,n=this.height-w.CHART.TIME_STEP_H+1,i=this.getIndicatorWithYCoord(this.pointerY);if(e.pointerInElement=this.pointerY>=t&&this.pointerY<n,e.pointerInElement&&i){var r=i.max,a=i.min,o=i.yShift,s=i.height,c=w.CHART.CHART_BOTTOM_V_PADDING,l=a+(r-a)*((o+s-this.pointerY-c)/(s-2*c));e.pointerInElementValueY=i.roundValue(l),e.pointerInElementValueSymbol=i.valueYScaleType===pi?"%":""}}if(e.lastBottomMarginPixels=e.bottomMarginPixels,e.heightLast=e.height,e.position===ht)e.height=w.CHART.CHART_T_PX,e.yShift=e.height*this.topElementsNumber,e.elementNumber=this.topElementsNumber,this.topElementsNumber++;else if(e.position===ft?(e.height=this.getBottomMarginForElement(e),e.initialHeight=this.getBottomMarginForElement(e,!1),e.yShift=this.height-this.bottomMargin+this.bottomElementsHeight,e.elementNumber=this.bottomElementsNumber,this.bottomElementsHeight+=e.height):(e.height=this.height-(this.topMargin+this.bottomMargin),e.yShift=this.topMargin),e.position===dt){var u=w.CHART,h=u.CHART_TOP_MARGIN_PX_M,d=u.CHART_TOP_MARGIN_PX,f=u.BOTTOM_PLOT_MARGIN_PIXELS,p=u.BOTTOM_PLOT_MARGIN_PIXELS_MOBILE;e.topMarginPixels=this.isMobile?h:d;var m=this.isMobile?p:f;if(e.bottomMarginPixels=this.extraBottomMargin+m,e.topMarginPixels+e.bottomMarginPixels>e.height){var y=e.topMarginPixels+e.bottomMarginPixels-e.height,g=Math.ceil(y/2);e.topMarginPixels-=g,e.bottomMarginPixels-=g}}else e.topMarginPixels=0,e.bottomMarginPixels=0}}},{key:"getIndicatorWithYCoord",value:function(e){for(var t=0;t<this.indicators.length;t++){var n=this.indicators[t],i=n.position,r=n.yShift,a=n.height;if(i===ft&&r<=e&&e<=r+a)return n}return null}},{key:"calculateOverlayExtraBottomMargin",value:function(){return w.CHART.TIME_STEP_H}},{key:"getParams",value:function(){this.pointVisible=this.checkPointOnScreen()}},{key:"checkGateOnScreen",value:function(){var e=this.shift+this.getXFromTime(this.expirationTime),t=this.shift+this.getXFromTime(this.deadlineTime),n=this.shift,i=this.shift+this.width;return e>n&&e<i||t>n&&t<i}},{key:"checkPointOnScreen",value:function(){var e=this.pointsManager.points;if(e&&e.length>0&&e[e.length-1]&&e[e.length-1].time){var t=this.shift+this.getXFromTime(e[e.length-1].time),n=this.shift,i=this.shift+this.width;return t>n&&t+50<i}return!1}},{key:"drawElements",value:function(){var e=this.pointsManager,t=e.points,n=e.candles;if(t.length||n.length)for(var i=0;i<this.elements.length;i++)this.elements[i]&&(this.elements[i].onTick(),this.elements[i].needToDraw()&&(this.elements[i].draw(),this.elements[i].onAfterDraw()))}},{key:"drawScrollToEnd",value:function(){this.pointVisible&&this.scrollToEndDisplayed?(this.scrollToEndDisplayed=!1,this.plotEventListeners[mP.SCROLL_TO_END_CHANGED].forEach((function(e){return e(!1)}))):this.pointVisible||this.scrollToEndDisplayed||(this.scrollToEndDisplayed=!0,this.plotEventListeners[mP.SCROLL_TO_END_CHANGED].forEach((function(e){return e(!0)})))}},{key:"prepareToDraw",value:function(){this.minValueAnimator.setTime(this.ts),this.maxValueAnimator.setTime(this.ts),this.shiftAnimator.setTime(this.ts),this.secondWidthAnimator.setTime(this.ts),this.topMargin=0,this.bottomMargin=0,this.topElementsNumber=0,this.bottomElementsNumber=0,this.bottomElementsHeight=0,this.currentZoom=this.secondWidth,this.extraBottomMargin=this.calculateOverlayExtraBottomMargin();var e=Math.floor(this.ts/.02);if(e!==this.tick&&(this.tick=e,0!==this.acceleration)){var t=this.ts-this.accelerationStartTime,n=this.acceleration,i=t*w.CHART.ACC_WEAKNESS;n>0?n-=i:n+=i,Math.abs(n)<1&&(n=0,this.acceleration=n),this.shiftAnimator.setEnabled(!1),this.shiftAnimator.setToValue(this.shift+n),this.checkShift()}this.handling&&this.checkShift()}},{key:"calculateWindowParams",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.toEnd,n=void 0!==t&&t,i=e.calculateCandles,r=void 0!==i&&i;if(this.pointsManager.points.length){this.calculateWindowPoints({toEnd:n,calculateCandles:r});var a=this.pointsManager.interval;this.indicators.length>0&&a!==this.pointsManager.interval&&this.flushIndicatorsCache(),this.calculateMinMax()}}},{key:"calculateWindowPoints",value:function(e){var t=e.toEnd,n=e.calculateCandles,i=this.secondWidth,r=this.getPointsInElementForIndicators();if(this.type===yi.Bars||this.type===yi.Candles)n&&this.pointsManager.calculateCandles(r,i);else if(this.type===yi.HeikenAshi)n&&this.pointsManager.calculateHeikenAshiCandles(r,i);else{var a=this.shift,o=this.getTimeFromX(a),s=this.getTimeFromX(a+this.width);this.pointsManager.calculatePoints(o,s,this.width,t),n&&this.calculateCandlesForLinePlot()}ur(this.type)&&!n||this.calculateCandleWidth(r,i)}},{key:"calculateCandleWidth",value:function(e,t){this.pointsManager.candleWidth=t*e;var n=this.pointsManager.candleWidth>8?2:this.pointsManager.candleWidth/100*20;this.pointsManager.candleWidth-=2*n}},{key:"calculateCandlesForLinePlot",value:function(){var e=this.secondWidth;if(this.indicators.some((function(e){var t=e.elementType,n=e.position;return t===bt&&n===ft}))){var t=Math.max(1,this.pointsManager.interval);this.linePlotCandleWidth!==t&&(this.resetCandles(),this.linePlotCandleWidth=t),this.pointsManager.calculateCandles(t,e,!1,!1)}else this.linePlotCandleWidth&&(this.resetCandles(),this.linePlotCandleWidth=null)}},{key:"calculateMinMax",value:function(){for(var e=w.CHART.FLT_MAX,t=-w.CHART.FLT_MIN,n=0,i=this.getTimeFromX(this.shift),r=this.getTimeFromX(this.shift+this.width),a=ur(this.type),o=a?this.pointsManager.reducedPoints:this.pointsManager.candles,s=0;s<o.length;s++){var c=o[s];c.time<i||c.time>r||(n++,a?(c.value>t&&(t=c.value),c.value<e&&(e=c.value)):(c.maxValue>t&&(t=c.maxValue),c.minValue<e&&(e=c.minValue)))}if(0!==n){for(var l=0;l<this.indicators.length;l++){var u=this.indicators[l];u&&u.position===dt&&(u.minValue<e&&(e=u.minValue),u.maxValue>t&&(t=u.maxValue))}if(t===e){if(1===n)return;e+=.1*e,t-=.1*t}var h=this.plotVerticalScroll.minMaxShift;0!==h?(this.maxValue=t+h,this.minValue=e-h):(this.maxValue=t,this.minValue=e),this.minValueAnimator.fromValue=0===this.minValueAnimator.fromValue?this.minValue:this.minValueAnimator.getValue(),this.maxValueAnimator.fromValue=0===this.maxValueAnimator.fromValue?this.maxValue:this.maxValueAnimator.getValue(),this.minValueAnimator.duration=this.plotVerticalScroll.isHandling?.1:this.defaultDuration,this.minValueAnimator.setToValue(this.minValue),this.maxValueAnimator.duration=this.plotVerticalScroll.isHandling?.1:this.defaultDuration,this.maxValueAnimator.setToValue(this.maxValue),this.isMinMaxCalculated=!0}}},{key:"addPoints",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.initialPoints=this.initialPoints.concat(e);for(var n=0===this.pointsManager.points.length,i=w.CHART.FLT_MAX,r=w.CHART.FLT_MIN,a=0;a<e.length;a++){var o=e[a],s=o.time,c=o.value,l=o.tick;this.pointsManager.addPoint(c,s,l,this.type);var u=parseInt(s,10);u>r&&(r=u),u<i&&(i=u)}var h=this.pointsManager.points.length;if(h>0){var d=this.pointsManager.points[h-1],f=e.length>1||1===e.length&&!d.isEqual(e[0]);f&&this.pointsManager.sort(t),e.length>1&&(this.shiftAnimator.setToValue(this.shift+(r-i)*this.secondWidth),this.resetCandles()),this.pointsManager.setStartEndPoints(),this.expirationTime<this.pointsManager.endPoint.time&&(this.deadlineTime=this.pointsManager.endPoint.time,this.expirationTime=this.pointsManager.endPoint.time)}this.calculateWindowParams({calculateCandles:!0}),n&&this.scrollToExpTime(!1,!1)}},{key:"resetCandles",value:function(){this.pointsManager.resetCandles(),this.resetIndicatorsCache()}},{key:"resetIndicatorsCache",value:function(){for(var e=0;e<this.indicators.length;e++){var t=this.indicators[e];t.flush(),t.reset()}}},{key:"resetDelta",value:function(){this.currentDelta=0,this.currentDeltaCount=0}},{key:"setExpTime",value:function(e,t){this.deadlineTime=e,this.expirationTime=t,this.checkShift()}},{key:"scrollToExpTime",value:function(e,t,n){var i=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];if(!this.hasLoadingRegions()&&0!==this.pointsManager.points.length){var r=this.secondWidth,a=t?180:this.getRightMarginPercent();if(this.pointsManager.points.length&&n){var o=this.expirationTime-this.pointsManager.endPoint.time,s=this.width-a-this.width/100*20;(r=s/o)<this.getMinSecondWidth()&&(r=this.getMinSecondWidth()),r>this.getMaxSecondWidth()&&(r=this.getMaxSecondWidth());var c=this.secondWidth;i||c>=r?(this.secondWidthAnimator.fromValue=c,this.secondWidthAnimator.setEnabled(e),this.secondWidthAnimator.setToValue(r)):r=c}this.acceleration=0,this.shiftAnimator.fromValue=this.shift,this.shiftAnimator.setEnabled(e);var l=r*(this.expirationTime-this.pointsManager.startPoint.time)-this.width+a;l<0&&(l=0);var u=this.getMaxShift();this.shiftAnimator.setToValue(l>u?u:l),this.checkShift(),this.calculateWindowParams({toEnd:!0})}}},{key:"scrollToExpTimeWithoutAnimation",value:function(){if(0!==this.pointsManager.points.length){var e=this.secondWidth*(this.expirationTime-this.pointsManager.startPoint.time)-this.width+this.getRightMarginPercent();e<0&&(e=0),this.shiftAnimator.setEnabled(!0),this.shiftAnimator.fromValue=e,this.shiftAnimator.setToValue(e),this.calculateWindowParams({toEnd:!0})}}},{key:"setPendingOptions",value:function(e){for(var t=[],n=0;n<e.length;n++)for(var i=0;i<this.optionsPending.length;i++){var r=this.optionsPending[i];if(r.id===e[n].id){e[n].needToAnimate&&r.reanimate(),t.push(e[n].id);break}}for(var a=0;a<e.length;a++){var o=e[a],s=o.id,c=o.value,l=o.time,u=o.amount;if(t.indexOf(s)<0){var h=new Fw(this.core,this.pointsManager,c,l,u,s,this.currency);this.optionsPending.push(h),h.reanimate()}}}},{key:"setOptions",value:function(e){var t=this;this.currentOptions=e;for(var n=[],i=0;i<e.length;i++)for(var r=0;r<this.options.length;r++)if(this.options[r].id===e[i].id){n.push(e[i].id);break}for(var a=function(i){var r=e[i],a=r.id,o=r.value,s=r.time,c=r.isCall,l=r.text,u=r.closeTime,h=r.closeTimestamp,d=r.amount;if(-1===n.indexOf(a)){var f=new xb(t.core,t.pointsManager,o,s,c,l,u,a,t.isMobile);t.options.push(f),f.reanimate()}else{var p=t.options.find((function(e){return e.id===a}));p&&p.closeTime!==u&&(p.closeTime=u,p.closeTimestamp=h,p.amount=d,p.reanimate())}},o=0;o<e.length;o++)a(o);for(var s=[],c=0;c<this.options.length;c++){for(var l=this.options[c],u=!1,h=0;h<e.length;h++)if(e[h].id===l.id){u=!0;break}u?s.push(l):(this.destroyOptionsPopup(this.getOptionsPopup(l.id)),this.selectedOption===l&&this.setSelectedOption(null),l.destroy())}this.options=s}},{key:"clearOptions",value:function(){for(var e=this.options.length-1;e>=0;e--)this.options[e].destroy();this.options=[]}},{key:"clearOptionsPopups",value:function(){for(var e=this.optionsPopups.length-1;e>=0;e--)this.optionsPopups[e].destroy();this.optionsPopups=[]}},{key:"setOptionsClosed",value:function(e){for(var t=this,n=[],i=0;i<e.length;i++){for(var r=e[i],a=0;a<this.optionsClosed.length;a++){var o=this.optionsClosed[a];if(o.id===r.id){r.needToAnimate&&o.reanimate(),n.push(r.id);break}}for(var s=this.optionsPending.length-1;s>=0;s--)this.optionsPending[s].id===r.id&&(this.optionsPending[s].destroy(),this.optionsPending.splice(s,1))}for(var c=function(i){var r=e[i],a=r.id,o=r.value,s=r.time,c=r.profit,l=r.amount;if(n.findIndex((function(e){return e.id===a}))<0){var u=new Gb(t.core,t.pointsManager,o,s,c,l,a,t.currency,t.currentServerTime);t.optionsClosed.push(u),u.reanimate()}},l=0;l<e.length;l++)c(l)}},{key:"destroyOldClosedOptions",value:function(e){for(var t=this.optionsClosed.length-1;t>=0;t--){var n=this.optionsClosed[t];n.showedAt+w.CHART.BET_ELEMENT_CLOSED_TIMEOUT<e&&(this.optionsClosed.splice(t,1),n.destroy())}}},{key:"hasOptionsPopup",value:function(e){return null!==this.getOptionsPopup(e)}},{key:"getOptionsPopup",value:function(e){return this.optionsPopups.find((function(t){return t.id===e}))}},{key:"createOptionsPopup",value:function(e){return new zb(this.core,this.pointsManager,this.currentOptions.find((function(t){return t.id===e.id})),h("Sell the trade"),this.currency,this.isMobile,e)}},{key:"destroyOptionsPopup",value:function(e){e&&(e.destroy(),this.optionsPopups.splice(this.optionsPopups.indexOf(e),1))}},{key:"destroyAllOptionsPopup",value:function(){this.optionsPopups.forEach((function(e){return e.destroy()})),this.optionsPopups=[]}},{key:"setSelectedOption",value:function(e){this.selectedOption=e,this.options.forEach((function(t){return t.setAlphaMultiplier(null===e||e===t?1:.5)}))}},{key:"changeIndicatorsAndDrawings",value:function(){this.changeIndicators(iu(this.chartId)(this.store.getState())),this.changeDrawings(au(this.chartId)(this.store.getState(),{chartId:this.chartId}))}},{key:"changeIndicators",value:function(e){var t=this;this.indicators.filter((function(e){return!e.isDrawing})).map((function(e){return e.index})).forEach((function(n){e.some((function(e){return e.id===n||e.requestId===n}))||t.removeIndicatorWithId(n)}));var n=!1;e.forEach((function(e){var i=t.indicators.findIndex((function(t){return t.index===e.id||t.index===e.requestId}));if(i>=0)t.indicators[i].update(e);else{var r=t.createIndicator(e);r&&t.indicators.push(r),r.isBottomIndicator()&&(n=!0)}})),ur(this.type)&&n&&this.calculateWindowParams({calculateCandles:!0})}},{key:"changeDrawings",value:function(e){var t=this;this.indicators.filter((function(e){return e.isDrawing})).map((function(e){return e.index})).forEach((function(n){e.some((function(e){return e.id===n||e.requestId===n}))||t.removeIndicatorWithId(n)})),e.forEach((function(e){var n=e.id,i=e.settings,r=e.points,a=void 0===r?[]:r,o=e.type,s=e.requestId,c=e.isLocked,l=t.indicators.findIndex((function(e){var t=e.index;return t===n||t===s}));if(-1!==l)t.indicators[l].update(e);else switch(o){case w.CHART.DRAWINGS.HORIZONTAL_LINE:t.addHorizontalLine(n,i,0,a.length?a[0].price:0,c);break;case w.CHART.DRAWINGS.VERTICAL_LINE:t.addVerticalLine(n,i,a.length?a[0].time:0,0,c);break;case w.CHART.DRAWINGS.CROSS_LINE:t.addCrossLine(n,i,a.length?a[0].time:0,0,c);break;case w.CHART.DRAWINGS.TREND_ANGLE:t.addTrendAngle(n,i,a);break;case w.CHART.DRAWINGS.RAY:case w.CHART.DRAWINGS.TREND_LINE:case w.CHART.DRAWINGS.FIBONACCI_RETRACEMENT:case w.CHART.DRAWINGS.FIBONACCI_FAN:case w.CHART.DRAWINGS.RECTANGLE:case w.CHART.DRAWINGS.EXTENDED_LINE:t.addTwoPointsDrawing(o,n,i,a,c);break;case w.CHART.DRAWINGS.PARALLEL_CHANNEL:t.addParallelChannelDrawing(o,n,i,a,c);break;case w.CHART.DRAWINGS.DISJOINT_CHANNEL:t.addDisjointChannelDrawing(o,n,i,a,c);break;case w.CHART.DRAWINGS.TRIANGLE:t.addTriangleDrawing(o,n,i,a,c);break;case w.CHART.DRAWINGS.DATE_RANGE:t.addDateRangeDrawing(o,n,i,a,c);break;case w.CHART.DRAWINGS.PRICE_RANGE:t.addPriceRangeDrawing(o,n,i,a,c);break;case w.CHART.DRAWINGS.DATE_PRICE_RANGE:t.addDatePriceRangeDrawing(o,n,i,a,c);break;case w.CHART.DRAWINGS.PITCHFORK:case w.CHART.DRAWINGS.PITCHFAN:t.addPitchDrawing(o,n,i,a,c);break;case w.CHART.DRAWINGS.FLAT_TOP_BOTTOM:t.addFlatTopBottomDrawing(o,n,i,a,c);break;case w.CHART.DRAWINGS.ARC_LINE:case w.CHART.DRAWINGS.CURVE_LINE:t.addArcOrCurveLineDrawing(o,n,i,a,c);break;case w.CHART.DRAWINGS.CYCLIC_LINES:t.addCyclicLinesDrawing(o,n,i,a,c);break;case w.CHART.DRAWINGS.GANN_BOX:t.addGannBoxDrawing(o,n,i,a,c)}})),this.drawingsManager.setDrawings(this.indicators.filter((function(e){return e.isDrawing})))}},{key:"createIndicator",value:function(e){var t,n=(t=e.type,function(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];return Object.hasOwnProperty.call(mT,t)?hT(mT[t],n):null})(this.core,this.pointsManager,e);return null===n?null:(n.pointsInElement=this.getPointsInElementForIndicators(),n.chartPeriod=this.chartSettings.chartPeriod,n)}},{key:"removeAllDrawings",value:function(){for(var e=this.indicators.length-1;e>=0;e--)this.indicators[e].isDrawing&&this.removeIndicatorAtIndex(e);this.drawingsManager.setDrawings([])}},{key:"removeAllIndicators",value:function(){for(var e=this.indicators.length-1;e>=0;e--)this.indicators[e].isDrawing||this.removeIndicatorAtIndex(e)}},{key:"removeIndicatorWithId",value:function(e){var t=this.indicators.findIndex((function(t){return t.index===e}));-1!==t&&this.removeIndicatorAtIndex(t)}},{key:"removeIndicatorAtIndex",value:function(e){var t=this.indicators[e];t&&(this.cleanDraggablePointsForDrawing(t),t.destroy(),this.indicators.splice(e,1),this.actualizeIndicators(),ur(this.type)&&(this.indicators.some((function(e){return!e.isDrawing}))||this.resetCandles()))}},{key:"cleanDraggablePointsForDrawing",value:function(e){e.isDrawing&&this.drawingsManager.deleteDrawingPoints(e)}},{key:"addHorizontalLine",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,r=arguments.length>4?arguments[4]:void 0,a=yt,o=zE.HLine,s=new HE(this.core,this.pointsManager,e,i,n,a,!1,0,t.lines.main.color);this.drawingsManager.addDraggablePoint(s),this.indicators.push(new xA(this.core,this.pointsManager,{id:e,points:[s],settings:t,type:o,isLocked:r}))}},{key:"addVerticalLine",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,r=arguments.length>4?arguments[4]:void 0,a=new HE(this.core,this.pointsManager,e,i,n,mt),o=zE.VLine;this.drawingsManager.addDraggablePoint(a),this.indicators.push(new xA(this.core,this.pointsManager,{id:e,points:[a],settings:t,type:o,isLocked:r}))}},{key:"addCrossLine",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,r=new HE(this.core,this.pointsManager,e,i,n,pt);this.drawingsManager.addDraggablePoint(r),this.indicators.push(new xA(this.core,this.pointsManager,{id:e,points:[r],settings:t,type:zE.CrossLine}))}},{key:"addTrendAngle",value:function(e,t,n){var i=n.find((function(e){return 0===e.point}))||{},r=i.time,a=void 0===r?0:r,o=i.price,s=void 0===o?0:o,c=n.find((function(e){return 1===e.point}))||{},l=c.time,u=void 0===l?0:l,h=c.price,d=void 0===h?0:h,f=new HE(this.core,this.pointsManager,e,s,a,pt,!0,0),p=new HE(this.core,this.pointsManager,e,d,u,pt,!0,1);this.drawingsManager.addDraggablePoint(f,p),this.indicators.push(new jT(this.core,this.pointsManager,{id:e,points:[f,p],settings:t,type:zE.TrendAngle}))}},{key:"addTwoPointsDrawing",value:function(e,t,n,i,r){var a=i.find((function(e){return 0===e.point}))||{},o=a.time,s=void 0===o?0:o,c=a.price,l=void 0===c?0:c,u=i.find((function(e){return 1===e.point}))||{},h=u.time,d=void 0===h?0:h,f=u.price,p=void 0===f?0:f,m=pt,y=new HE(this.core,this.pointsManager,t,l,s,m,!0,0),g=new HE(this.core,this.pointsManager,t,p,d,m,!0,1);this.drawingsManager.addDraggablePoint(y,g);var v=[this.core,this.pointsManager,{id:t,settings:n,points:[y,g],isLocked:r}];switch(e){case w.CHART.DRAWINGS.RAY:this.indicators.push(uP(GA,v));break;case w.CHART.DRAWINGS.TREND_LINE:this.indicators.push(uP(_w,v));break;case w.CHART.DRAWINGS.FIBONACCI_RETRACEMENT:this.indicators.push(uP(JA,v));break;case w.CHART.DRAWINGS.FIBONACCI_FAN:this.indicators.push(uP(yw,v));break;case w.CHART.DRAWINGS.RECTANGLE:this.indicators.push(uP(e_,v));break;case w.CHART.DRAWINGS.EXTENDED_LINE:this.indicators.push(uP(lk,v))}}},{key:"addParallelChannelDrawing",value:function(e,t,n,i,r){var a=i.find((function(e){return 0===e.point}))||{},o=a.time,s=void 0===o?0:o,c=a.price,l=void 0===c?0:c,u=i.find((function(e){return 1===e.point}))||{},h=u.time,d=void 0===h?0:h,f=u.price,p=void 0===f?0:f,m=i.find((function(e){return 2===e.point}))||{},y=m.time,g=void 0===y?0:y,v=m.price,b=void 0===v?0:v,E=gt,A=pt,w=new HE(this.core,this.pointsManager,t,l,s,A,!0,0),_=new HE(this.core,this.pointsManager,t,p,d,A,!0,1),O=new HE(this.core,this.pointsManager,t,b,g,E,!0,2);this.drawingsManager.addDraggablePoint(w,_,O),this.indicators.push(new xw(this.core,this.pointsManager,{id:t,settings:n,points:[w,_,O],isLocked:r}))}},{key:"addDisjointChannelDrawing",value:function(e,t,n,i,r){var a=i.find((function(e){return 0===e.point}))||{},o=a.time,s=void 0===o?0:o,c=a.price,l=void 0===c?0:c,u=i.find((function(e){return 1===e.point}))||{},h=u.time,d=void 0===h?0:h,f=u.price,p=void 0===f?0:f,m=i.find((function(e){return 2===e.point}))||{},y=m.time,g=void 0===y?0:y,v=m.price,b=void 0===v?0:v,E=i.find((function(e){return 3===e.point}))||{},A=E.time,w=void 0===A?0:A,_=E.price,O=void 0===_?0:_,S=pt,C=new HE(this.core,this.pointsManager,t,l,s,S,!0,0),T=new HE(this.core,this.pointsManager,t,p,d,S,!0,1),k=new HE(this.core,this.pointsManager,t,b,g,S,!0,2),I=new HE(this.core,this.pointsManager,t,O,w,S,!0,3);this.drawingsManager.addDraggablePoint(C,T,k,I),this.indicators.push(new XT(this.core,this.pointsManager,{id:t,settings:n,points:[C,T,k,I],isLocked:r}))}},{key:"addTriangleDrawing",value:function(e,t,n,i,r){var a=i.find((function(e){return 0===e.point}))||{},o=a.time,s=void 0===o?0:o,c=a.price,l=void 0===c?0:c,u=i.find((function(e){return 1===e.point}))||{},h=u.time,d=void 0===h?0:h,f=u.price,p=void 0===f?0:f,m=i.find((function(e){return 2===e.point}))||{},y=m.time,g=void 0===y?0:y,v=m.price,b=void 0===v?0:v,E=pt,A=new HE(this.core,this.pointsManager,t,l,s,E,!0,0),w=new HE(this.core,this.pointsManager,t,p,d,E,!0,1),_=new HE(this.core,this.pointsManager,t,b,g,E,!0,2);this.drawingsManager.addDraggablePoint(A,w,_),this.indicators.push(new nk(this.core,this.pointsManager,{id:t,settings:n,points:[A,w,_],isLocked:r}))}},{key:"addDateRangeDrawing",value:function(e,t,n,i,r){var a=i.find((function(e){return 0===e.point}))||{},o=a.time,s=void 0===o?0:o,c=a.price,l=void 0===c?0:c,u=i.find((function(e){return 1===e.point}))||{},h=u.time,d=void 0===h?0:h,f=u.price,p=void 0===f?0:f,m=pt,y=new HE(this.core,this.pointsManager,t,l,s,m,!0,0),g=new HE(this.core,this.pointsManager,t,p,d,m,!0,1);this.drawingsManager.addDraggablePoint(y,g),this.indicators.push(new yk(this.core,this.pointsManager,{id:t,settings:n,points:[y,g],isLocked:r}))}},{key:"addPriceRangeDrawing",value:function(e,t,n,i,r){var a=i.find((function(e){return 0===e.point}))||{},o=a.time,s=void 0===o?0:o,c=a.price,l=void 0===c?0:c,u=i.find((function(e){return 1===e.point}))||{},h=u.time,d=void 0===h?0:h,f=u.price,p=void 0===f?0:f,m=pt,y=new HE(this.core,this.pointsManager,t,l,s,m,!0,0),g=new HE(this.core,this.pointsManager,t,p,d,m,!0,1);this.drawingsManager.addDraggablePoint(y,g),this.indicators.push(new _k(this.core,this.pointsManager,{id:t,settings:n,points:[y,g],isLocked:r}))}},{key:"addDatePriceRangeDrawing",value:function(e,t,n,i,r){var a=i.find((function(e){return 0===e.point}))||{},o=a.time,s=void 0===o?0:o,c=a.price,l=void 0===c?0:c,u=i.find((function(e){return 1===e.point}))||{},h=u.time,d=void 0===h?0:h,f=u.price,p=void 0===f?0:f,m=pt,y=new HE(this.core,this.pointsManager,t,l,s,m,!0,0),g=new HE(this.core,this.pointsManager,t,p,d,m,!0,1);this.drawingsManager.addDraggablePoint(y,g),this.indicators.push(new Pk(this.core,this.pointsManager,{id:t,settings:n,points:[y,g],isLocked:r}))}},{key:"addPitchDrawing",value:function(e,t,n,i,r){var a=i.find((function(e){return 0===e.point}))||{},o=a.time,s=void 0===o?0:o,c=a.price,l=void 0===c?0:c,u=i.find((function(e){return 1===e.point}))||{},h=u.time,d=void 0===h?0:h,f=u.price,p=void 0===f?0:f,m=i.find((function(e){return 2===e.point}))||{},y=m.time,g=void 0===y?0:y,v=m.price,b=void 0===v?0:v,E=pt,A=new HE(this.core,this.pointsManager,t,l,s,E,!0,0),_=new HE(this.core,this.pointsManager,t,p,d,E,!0,1),O=new HE(this.core,this.pointsManager,t,b,g,E,!0,2);switch(this.drawingsManager.addDraggablePoint(A,_,O),e){case w.CHART.DRAWINGS.PITCHFORK:this.indicators.push(new Zk(this.core,this.pointsManager,{id:t,settings:n,points:[A,_,O],isLocked:r}));break;case w.CHART.DRAWINGS.PITCHFAN:this.indicators.push(new II(this.core,this.pointsManager,{id:t,settings:n,points:[A,_,O],isLocked:r}))}}},{key:"addFlatTopBottomDrawing",value:function(e,t,n,i,r){var a=i.find((function(e){return 0===e.point}))||{},o=a.time,s=void 0===o?0:o,c=a.price,l=void 0===c?0:c,u=i.find((function(e){return 1===e.point}))||{},h=u.time,d=void 0===h?0:h,f=u.price,p=void 0===f?0:f,m=i.find((function(e){return 2===e.point}))||{},y=m.time,g=void 0===y?0:y,v=m.price,b=void 0===v?0:v,E=i.find((function(e){return 3===e.point}))||{},A=E.time,w=void 0===A?0:A,_=E.price,O=void 0===_?0:_,S=pt,C=new HE(this.core,this.pointsManager,t,l,s,S,!0,0),T=new HE(this.core,this.pointsManager,t,p,d,S,!0,1),k=new HE(this.core,this.pointsManager,t,b,g,S,!0,2),I=new HE(this.core,this.pointsManager,t,O,w,S,!0,3);this.drawingsManager.addDraggablePoint(C,T,k,I),this.indicators.push(new sI(this.core,this.pointsManager,{id:t,settings:n,points:[C,T,k,I],isLocked:r}))}},{key:"addArcOrCurveLineDrawing",value:function(e,t,n,i,r){var a=i.find((function(e){return 0===e.point}))||{},o=a.time,s=void 0===o?0:o,c=a.price,l=void 0===c?0:c,u=i.find((function(e){return 1===e.point}))||{},h=u.time,d=void 0===h?0:h,f=u.price,p=void 0===f?0:f,m=i.find((function(e){return 2===e.point}))||{},y=m.time,g=void 0===y?0:y,v=m.price,b=void 0===v?0:v,E=pt,A=new HE(this.core,this.pointsManager,t,l,s,E,!0,0),_=new HE(this.core,this.pointsManager,t,p,d,E,!0,1),O=new HE(this.core,this.pointsManager,t,b,g,E,!0,2);switch(this.drawingsManager.addDraggablePoint(A,_,O),e){case w.CHART.DRAWINGS.ARC_LINE:this.indicators.push(new pI(this.core,this.pointsManager,{id:t,settings:n,points:[A,_,O],isLocked:r}));break;case w.CHART.DRAWINGS.CURVE_LINE:this.indicators.push(new AI(this.core,this.pointsManager,{id:t,settings:n,points:[A,_,O],isLocked:r}))}}},{key:"addCyclicLinesDrawing",value:function(e,t,n,i,r){var a=i.find((function(e){return 0===e.point}))||{},o=a.time,s=void 0===o?0:o,c=a.price,l=void 0===c?0:c,u=i.find((function(e){return 1===e.point}))||{},h=u.time,d=void 0===h?0:h,f=u.price,p=void 0===f?0:f,m=pt,y=new HE(this.core,this.pointsManager,t,l,s,m,!0,0),g=new HE(this.core,this.pointsManager,t,p,d,m,!0,1);this.drawingsManager.addDraggablePoint(y,g),this.indicators.push(new BI(this.core,this.pointsManager,{id:t,settings:n,points:[y,g],isLocked:r}))}},{key:"addGannBoxDrawing",value:function(e,t,n,i,r){var a=i.find((function(e){return 0===e.point}))||{},o=a.time,s=void 0===o?0:o,c=a.price,l=void 0===c?0:c,u=i.find((function(e){return 1===e.point}))||{},h=u.time,d=void 0===h?0:h,f=u.price,p=void 0===f?0:f,m=pt,y=new HE(this.core,this.pointsManager,t,l,s,m,!0,0),g=new HE(this.core,this.pointsManager,t,p,d,m,!0,1);this.drawingsManager.addDraggablePoint(y,g),this.indicators.push(new JI(this.core,this.pointsManager,{id:t,settings:n,points:[y,g],isLocked:r}))}},{key:"calculateIndicators",value:function(){for(var e=0;e<this.indicators.length;e++){var t=this.indicators[e];t&&(t.isVisible&&t.shouldClearMainGraphLine()||t.isDrawing)&&t.calculate()}}},{key:"getDefaultSecondWidth",value:function(){return this.getMinSecondWidth()+(this.getMaxSecondWidth()-this.getMinSecondWidth())/100*35}},{key:"zoomToDefault",value:function(){var e=w.CHART,t=e.ZOOM_PERCENT,n=e.MOBILE_ZOOM;this.zoom(this.width/2,this.height/2,t*n)}},{key:"zoomToDelta",value:function(e){var t=e.secondWidth;this.resetDelta(),this.setSecondWidthAfterZoom(this.width/2,this.height/2,t)}},{key:"setDigit",value:function(e){this.currentDigit=e,this.pointsManager.setDigits(e)}},{key:"setAssetId",value:function(e){this.assetId=e,this.assetSymbol=this.chartSettings.currentAsset.obj.symbol,this.actualizeNotificationElement()}},{key:"setTheme",value:function(e){this.theme=e,this.updateElementsTheme()}},{key:"shift",get:function(){return this.shiftAnimator.getValue()}},{key:"secondWidth",get:function(){return this.secondWidthAnimator.getValue()}},{key:"chartSettings",get:function(){return this.store.getState().chartSettings.chartById[this.chartId]}},{key:"dealsSettings",get:function(){return this.store.getState().deals}},{key:"quotesSettings",get:function(){return this.store.getState().quotes}},{key:"globalSettings",get:function(){return this.store.getState().global}},{key:"toEndExpTime",get:function(){return this.expirationTime-this.socket.serverTime}},{key:"currentTime",get:function(){return this.globalSettings.currentTime}},{key:"timeZone",get:function(){return this.globalSettings.timeZone}}])&&fP(t.prototype,n),i&&fP(t,i),e}();pP(yP,"instance",null);var gP=yP;function vP(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var bP=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.core=t,this.pointsManager=n,this.elementType=vt,this.maxVal=w.CHART.DBL_MIN,this.minVal=w.CHART.DBL_MAX,this.fromTime=0,this.toTime=0,this.yShift=0,this.position=dt,this.startTime=0,this.endTime=0,this.width=0,this.height=0,this.worldHeight=0,this.secondWidth=0,this.pointsInElement=1,this.colors=new wv,this.socket=Li.instance,this.theme="",this.lastTheme="",this.isMobile=!1}var t,n,i;return t=e,(n=[{key:"needToDraw",value:function(){return!0}},{key:"draw",value:function(){}},{key:"getXFromTime",value:function(e){return(e-this.startTime)*this.secondWidth}},{key:"getYFromValue",value:function(e){var t=(e-this.minVal)/(this.maxVal-this.minVal);return this.yShift+this.height-this.height*t}},{key:"getValueFrom",value:function(){return this.getValueFromY(this.yShift+this.height)}},{key:"getValueTo",value:function(){return this.getValueFromY(this.yShift)}},{key:"getValueFromY",value:function(e){var t=this.height,n=(this.yShift+this.height-e)/t;return this.minVal+(this.maxVal-this.minVal)*n}},{key:"getTimeFromX",value:function(e){return this.startTime+e/this.secondWidth}},{key:"getTimeFrom",value:function(){return this.getTimeFromX(0)}},{key:"getTimeTo",value:function(){return this.getTimeFromX(this.width)}},{key:"isDarkTheme",value:function(){return this.theme===Av.DARK||this.theme===Av.LIGHT}},{key:"isThemeChanged",value:function(){return this.theme!==this.lastTheme}},{key:"isChangedMinMax",value:function(){return this.lastMinVal!==this.minVal||this.lastMaxVal!==this.maxVal}},{key:"isChangedFromTo",value:function(){return this.lastFromTime!==this.fromTime||this.lastToTime!==this.toTime}},{key:"isSizeChanged",value:function(){return this.width!==this.widthLast||this.worldHeight!==this.worldHeightLast}},{key:"destroy",value:function(){}}])&&vP(t.prototype,n),i&&vP(t,i),e}();function EP(e){return(EP="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function AP(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function wP(e,t){return(wP=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function _P(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=SP(e);if(t){var r=SP(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return OP(this,n)}}function OP(e,t){return!t||"object"!==EP(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function SP(e){return(SP=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var CP=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&wP(e,t)}(a,e);var t,n,i,r=_P(a);function a(e,t){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(n=r.call(this,e,t)).optimalSecondWidth=w.CHART.SECOND_W,n.interval=1,n.intervalFactor=100,n.digits=5,n.points=[],n.reducedPoints=[],n.areaAlpha=0,n.areaShaderFilter=null,n.areaTopPoint=null,n.core.isWebGLRenderer()?(n.areaAlpha=.01,n.initColors()):n.areaAlpha=.15,n}return t=a,(n=[{key:"normalizeY",value:function(e){return e<0?0:e>this.height?this.height:e}},{key:"initColors",value:function(){this.core.isWebGLRenderer()&&(this.areaShaderFilter=new kv(this.colors.plotLineGradientTopColor,this.colors.plotLineGradientBottomColor,!1,!1,.2))}},{key:"calculateReducedPoints",value:function(e,t,n){var i=n/this.optimalSecondWidth,r=Math.floor((t-e)/i),a=this.interval?Math.ceil((t-e)/this.interval):0;if((Math.abs(a-i)<.2*i||r===this.interval)&&this.reducedPoints.length)return!1;this.interval=r;for(var o=Math.pow(10,this.digits),s=this.getTimeFromInterval(e),c=[],l=this.points.length,u=0;u<l;u++){var h=this.points[u];h.time>=s&&h.time<=t&&c.push(h)}return this.reducedPoints=this.reCalculateReducedPoints(c,r,o,this.digits,!1),!0}},{key:"reCalculateReducedPoints",value:function(e,t,n,i){var r=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];if(!e.length)return[];var a=[],o=0,s=0,c=w.CHART.INT_MAX,l=w.CHART.INT_MIN,u=0;if(r&&this.reducedPoints.length){var h=this.reducedPoints[this.reducedPoints.length-1].time;u=t>0?h-h%t+t:h}else{var d=e[0].time;u=t>0?d-d%t:d}for(var f=e.length,p=0;p<f;p++){var m=e[p],y=m.exitValue,g=m.time;if(o+=y*n,s++,y>l&&(l=y),y<c&&(c=y),g>=u){var v=o>0?Ry(o/(s*n),i):y;o=0,s=0,a.push(new wy(v,g,c,l)),u+=t,c=w.CHART.INT_MAX,l=w.CHART.INT_MIN}}return a}},{key:"getTimeFromInterval",value:function(e){return e-(this.interval>0?this.interval*this.intervalFactor:this.intervalFactor)}},{key:"draw",value:function(){var e=this.pointsManager.reducedPoints;if(e.length>1){this.points=e,this.areaTopPoint=this.getYFromValue(this.maxVal);var t=e[0].time,n=e[e.length-1].time;this.calculateReducedPoints(t,n,this.width);for(var i=[],r=0;r<this.reducedPoints.length;r++){var a=this.reducedPoints[r],o=this.getXFromTime(a.time),s=this.getYFromValue(a.value);i.push({time:a.time,x:o,y:s}),s<this.areaTopPoint&&(this.areaTopPoint=s)}this.drawHistory(i)}}},{key:"drawHistory",value:function(e){e.length<3||(this.destroyHistory(),this.lineOnly||this.drawArea(e,0,this.core.getGraphicsNew(zt)),this.drawPoints(e,this.core.getGraphicsNew(Kt)))}},{key:"drawPoints",value:function(e,t){if(!(e.length<2)){t.lineStyle((this.isDarkTheme(),2),this.colors.plotLineColor.getOpaqueHexNum(.8),1,.5),t.moveTo(e[0].x,e[0].y);for(var n=1;n<e.length;n++)t.lineTo(e[n].x,e[n].y)}}},{key:"drawArea",value:function(e,t,n){if(!(e.length<2||e.length-1<t)){var i=this.yShift+this.worldHeight;n.lineStyle(),n.beginFill(this.colors.plotLineGradientTopColor.getHEXNUM(),this.areaAlpha),n.moveTo(e[t].x,i),n.lineTo(e[t].x,this.areaTopPoint),n.lineTo(e[t].x,this.normalizeY(e[t].y));for(var r=t+1;r<e.length;r++)n.lineTo(e[r].x,this.normalizeY(e[r].y));n.lineTo(e[e.length-1].x,i),n.lineTo(e[t].x,i),n.endFill(),this.core.isWebGLRenderer()&&(n.filters=[this.areaShaderFilter.filter]),n=null}}},{key:"destroyHistory",value:function(){this.lineOnly||this.core.clearGraphicsNew(zt),this.core.clearGraphicsNew(Kt)}}])&&AP(t.prototype,n),i&&AP(t,i),a}(bP);function TP(e){return(TP="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function kP(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function IP(e,t){return(IP=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function PP(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=xP(e);if(t){var r=xP(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return NP(this,n)}}function NP(e,t){return!t||"object"!==TP(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function xP(e){return(xP=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var RP=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&IP(e,t)}(a,e);var t,n,i,r=PP(a);function a(e,t){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(n=r.call(this,e,t)).position=dt,n.textKeysValueGrid=[],n.textKeysTimeLine=[],n}return t=a,(n=[{key:"getNiceAxis",value:function(e,t){var n,i,r=0,a=[0,1.2,2.5,5,10],o=this.isMobile?[.2,.5,1,2]:[.1,.2,.5,1,2];n=0===e?0:e>0?Math.max(0,e-(t-e)/100):e-(t-e)/100,i=0===t?0===e?1:0:t<0?Math.min(0,t+(t-e)/100):t+(t-e)/100;for(var s=Math.log(i-n)/Math.log(10),c=Math.pow(10,s-Math.floor(s)),l=0;c>a[l];l++)r=o[l]*Math.pow(10,Math.floor(s));var u=r*Math.floor(n/r),h=r*Math.floor(i/r+1);return[u,h,r,Math.floor((h-u)/r)]}},{key:"drawTimeline",value:function(){var e=w.CHART.TIME_STEP,t=this.secondWidth;if(!(t<=0)){for(this.core.clearGraphicsNew(Xt),this.destroyTimeLineKeys();e*t<w.CHART.TIME_STEP_W;)e+=e;var n=Math.floor(this.getTimeFromX(0)/e)*e,i=(Math.ceil(this.getTimeFromX(this.width)/e)+1)*e,r=n,a=isNaN(this.gridOpacity)?30:5*this.gridOpacity,o=this.core.getGraphicsNew(Xt),s=0,c=this.worldHeight;for(o.lineStyle(.5,this.colors.gridLineColor.getHEXNUM(),a/100);r!==i;)s=Math.floor(this.getXFromTime(r))+.5,o.moveTo(s,0),o.lineTo(s,c),r+=e}}},{key:"drawValueGrid",value:function(){if(!(this.minVal<=0)){this.core.clearGraphicsNew(Qt),this.destroyValueGridKeys();var e=this.core.getGraphicsNew(Qt),t=this.maxVal,n=this.minVal,i=isNaN(this.gridOpacity)?30:5*this.gridOpacity;if(n>t){var r=this.getNiceAxis(t,n),a=0;for(e.lineStyle(.5,this.colors.gridLineColor.getHEXNUM(),i/100);a<=r[3];){var o=r[0]+r[2]*a,s=Math.floor(this.getYFromValue(o))+.5;s>0&&s<this.worldHeight&&(e.moveTo(0,s),e.lineTo(this.width,s)),a++}}e=null}}},{key:"draw",value:function(){this.drawValueGrid(),this.drawTimeline()}},{key:"destroyValueGridKeys",value:function(){for(var e=0;e<this.textKeysValueGrid.length;e++)this.core.clearText(An,this.textKeysValueGrid[e]);this.textKeysValueGrid=[]}},{key:"destroyTimeLineKeys",value:function(){for(var e=0;e<this.textKeysTimeLine.length;e++)this.core.clearText(An,this.textKeysTimeLine[e]);this.textKeysTimeLine=[]}}])&&kP(t.prototype,n),i&&kP(t,i),a}(bP);function DP(e){return(DP="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function MP(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function BP(e,t){return(BP=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function LP(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=FP(e);if(t){var r=FP(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return jP(this,n)}}function jP(e,t){return!t||"object"!==DP(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function FP(e){return(FP=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var GP=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&BP(e,t)}(a,e);var t,n,i,r=LP(a);function a(e,t){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(n=r.call(this,e,t)).optimalSecondWidth=w.CHART.SECOND_W,n.interval=1,n.intervalFactor=100,n.digits=5,n.points=[],n.reducedPoints=[],n.areaTopPoint=null,n.initColors(),n}return t=a,(n=[{key:"normalizeY",value:function(e){return e<0?0:e>this.height?this.height:e}},{key:"initColors",value:function(){var e=this.core.getGraphicsNew(Jt);e.alpha=1,e.colorTop=this.colors.plotFastLineGradientTopColor.getHEXNUM(),e.alphaTop=this.colors.plotFastLineGradientTopColor.getAlpha(),e.colorBottom=this.colors.plotFastLineGradientBottomColor.getHEXNUM(),e.alphaBottom=this.colors.plotFastLineGradientBottomColor.getAlpha(),e.masterPlot=this.core.getGraphicsNew(Kt),this.updateGradient()}},{key:"updateGradient",value:function(){var e=this.core.getGraphicsNew(Jt);e.coordTop=this.areaTopPoint,e.coordBottom=this.yShift+this.worldHeight}},{key:"calculateReducedPoints",value:function(e,t,n){var i=n/this.optimalSecondWidth,r=Math.floor((t-e)/i),a=this.interval?Math.ceil((t-e)/this.interval):0;if((Math.abs(a-i)<.2*i||r===this.interval)&&this.reducedPoints.length)return!1;this.interval=r;for(var o=Math.pow(10,this.digits),s=this.getTimeFromInterval(e),c=[],l=this.points.length,u=0;u<l;u++){var h=this.points[u];h.time>=s&&h.time<=t&&c.push(h)}return this.reducedPoints=this.reCalculateReducedPoints(c,r,o,this.digits,!1),!0}},{key:"reCalculateReducedPoints",value:function(e,t,n,i){var r=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];if(!e.length)return[];var a=[],o=0,s=0,c=w.CHART.INT_MAX,l=w.CHART.INT_MIN,u=0;if(r&&this.reducedPoints.length){var h=this.reducedPoints[this.reducedPoints.length-1].time;u=t>0?h-h%t+t:h}else{var d=e[0].time;u=t>0?d-d%t:d}for(var f=e.length,p=0;p<f;p++){var m=e[p],y=m.exitValue,g=m.time;if(o+=y*n,s++,y>l&&(l=y),y<c&&(c=y),g>=u){var v=o>0?Ry(o/(s*n),i):y;o=0,s=0,a.push(new wy(v,g,c,l)),u+=t,c=w.CHART.INT_MAX,l=w.CHART.INT_MIN}}return a}},{key:"getTimeFromInterval",value:function(e){return e-(this.interval>0?this.interval*this.intervalFactor:this.intervalFactor)}},{key:"draw",value:function(){this.isThemeChanged()&&this.initColors();var e=this.pointsManager.reducedPoints;if(e.length>1){this.points=e,this.areaTopPoint=this.getYFromValue(this.maxVal);var t=e[0].time,n=e[e.length-1].time;this.calculateReducedPoints(t,n,this.width);for(var i=[],r=0;r<this.reducedPoints.length;r++){var a=this.reducedPoints[r],o=this.getXFromTime(a.time),s=this.getYFromValue(a.value);i.push({time:a.time,x:o,y:s}),s<this.areaTopPoint&&(this.areaTopPoint=s)}this.clearHistory(),this.drawHistory(i)}else this.clear()}},{key:"drawHistory",value:function(e){e.length<3||(this.drawPoints(e,this.core.getGraphicsNew(Kt)),this.updateGradient())}},{key:"drawPoints",value:function(e,t){if(!(e.length<2)){t.lineStyle(2),t.alpha=.8,t.tint=this.colors.plotLineColor.getHEXNUM(),t.moveTo(e[0].x,e[0].y);for(var n=1;n<e.length;n++)t.lineTo(e[n].x,e[n].y);t=null}}},{key:"clear",value:function(){this.clearGradient(),this.clearHistory()}},{key:"clearGradient",value:function(){this.core.clearGraphicsNew(Jt)}},{key:"clearHistory",value:function(){this.core.getGraphicsNew(Kt).clear(),this.core.clearGraphicsNew(Kt)}}])&&MP(t.prototype,n),i&&MP(t,i),a}(bP);function VP(e){return(VP="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function HP(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function UP(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function WP(e,t){return(WP=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function YP(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=XP(e);if(t){var r=XP(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return QP(this,n)}}function QP(e,t){return!t||"object"!==VP(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function XP(e){return(XP=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var zP=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&WP(e,t)}(a,e);var t,n,i,r=YP(a);function a(e,t,n,i,o,s,c,l){var u,h=arguments.length>8&&void 0!==arguments[8]&&arguments[8],d=!(arguments.length>9&&void 0!==arguments[9])||arguments[9];return HP(this,a),(u=r.call(this,e,t)).arrowIconSrc=o?"/trade-room/images/arrow-up.svg":"/trade-room/images/arrow-down.svg",u.xOffset=9,u.yOffset=10,u.id=l,u.closeTime=c,u.ctx=null,u.value=n,u.time=i,u.isCall=o,u.text=s,u.x=0,u.lastX=0,u.isMobile=h,u.withPriceOnBadge=d,u}return t=a,(n=[{key:"reanimate",value:function(){}},{key:"getBadgeSize",value:function(){var e=dg.v.measureText(this.getString(),new dg.w(w.CHART.S_DEAL_MIN));return{width:e.width+20+6,height:e.height+6}}},{key:"drawArrowBackground",value:function(e,t){var n=this.core.getDynamicGraphics(Bn,"triangleIconGraphics-".concat(this.id));return n.isNew&&(n.graphics.beginFill(e.getHEXNUM(),t),n.graphics.drawCircle(0,0,6),n.graphics.endFill()),n.graphics.interactive=!1,n.graphics}},{key:"drawArrowIcon",value:function(){var e=this.core.getSprite(Bn,"deal-arrow-icon-".concat(this.id),this.arrowIconSrc);return e.sprite||(e.sprite=new dg.s),e.sprite.alpha=1,e.sprite.visible=!0,e.sprite.interactive=!1,e.sprite}},{key:"drawRect",value:function(e,t,n){var i=this.core.getDynamicGraphics(Bn,"rectangleGraphics-".concat(this.id));return i.isNew&&(i.graphics.beginFill(n.getHEXNUM(),1),i.graphics.drawRoundedRect(0,0,e,t,60),i.graphics.endFill()),i.graphics}},{key:"drawBadge",value:function(e,t,n){this.clearBadge();var i=this.getBadgeSize(),r=i.width,a=i.height,o=this.drawRect(r,a,n);o.setTransform(e-r-5,t-a/2);var s=this.drawArrowBackground(this.colors.betElementTextColor,.5),c=this.drawArrowIcon(),l=this.core.getText(Ln,"betElementTextGraph-".concat(this.id),this.getString(),w.CHART.S_DEAL_MIN,this.isTooltipDisabled?this.colors.betElementTextColorTooltipOff.getHEXNUM():this.colors.betElementTextColor.getHEXNUM());l.setTransform(o.x+r-l.width-8,o.y+a/2-l.height/2),s.setTransform(l.x-s.width/2-2,l.y+l.height/2),c.setTransform(s.x-c.width/2,s.y-c.width/2)}},{key:"drawLine",value:function(e,t,n,i){this.clearLine();var r=this.core.getDynamicGraphics(Mn,"lineGraphics-".concat(this.id));r.graphics.lineStyle(1.5,i.getHEXNUM()),r.graphics.moveTo(e,n),r.graphics.lineTo(t,n);var a=this.core.getDynamicGraphics(Mn,"dotGraphics-".concat(this.id));a.isNew&&(a.graphics.beginFill(i.getHEXNUM(),1),a.graphics.drawCircle(0,0,5),a.graphics.endFill()),a.graphics.setTransform(e,n);var o=this.core.getDynamicGraphics(Mn,"dotWhiteGraphics-".concat(this.id));o.isNew&&(o.graphics.beginFill(this.colors.white.getHEXNUM(),1),o.graphics.drawCircle(0,0,3),o.graphics.endFill()),o.graphics.setTransform(e,n)}},{key:"getString",value:function(){return this.text}},{key:"isXChanged",value:function(){return this.x!==this.lastX}},{key:"shouldRerender",value:function(){return this.isChangedFromTo()||this.isChangedMinMax()||this.isSizeChanged()||this.isXChanged()}},{key:"getCurrentXFromTime",value:function(){return this.getXFromTime(this.startTime)}},{key:"draw",value:function(){var e=this.getXFromTime(this.time),t=this.getXFromTime(this.closeTime),n=this.getYFromValue(this.value),i=this.isCall?this.colors.callLineColor:this.colors.putLineColor;this.drawLine(e,t,n,i),this.withPriceOnBadge&&this.drawBadge(e,n,i)}},{key:"clearBadge",value:function(){this.core.clearDynamicGraphicsNew("rippleGraphics-".concat(this.id)),this.core.clearDynamicGraphicsNew("circleGraphics-".concat(this.id)),this.core.clearDynamicGraphicsNew("rectangleGraphics-".concat(this.id)),this.core.clearDynamicGraphicsNew("rectangleGraphicsHitArea-".concat(this.id)),this.core.clearDynamicGraphicsNew("circleGraphicsHitArea-".concat(this.id)),this.core.clearDynamicGraphicsNew("triangleIconGraphics-".concat(this.id)),this.core.clearSprite(Bn,"deal-arrow-icon-".concat(this.id)),this.core.clearText(Ln,"betElementTextGraph-".concat(this.id)),this.core.clearText(Ln,"betElementTextTimeGraph-".concat(this.id))}},{key:"clearLine",value:function(){this.core.clearDynamicGraphicsNew("lineGraphics-".concat(this.id)),this.core.clearDynamicGraphicsNew("dotGraphics-".concat(this.id)),this.core.clearDynamicGraphicsNew("dotWhiteGraphics-".concat(this.id)),this.core.clearDynamicGraphicsNew("dotEndGraphics-".concat(this.id)),this.core.clearDynamicGraphicsNew("dotWhiteEndGraphics-".concat(this.id))}},{key:"clearAll",value:function(){this.clearLine(),this.clearBadge()}},{key:"destroy",value:function(){this.core.destroyDynamicGraphicsNew(Mn,"lineGraphics-".concat(this.id)),this.core.destroyDynamicGraphicsNew(Mn,"lineGraphicsEnd-".concat(this.id)),this.core.destroyDynamicGraphicsNew(Bn,"arrowIconGraphics-".concat(this.id)),this.core.destroyDynamicGraphicsNew(Bn,"dotGraphics-".concat(this.id)),this.core.destroyDynamicGraphicsNew(Bn,"dotWhiteGraphics-".concat(this.id)),this.core.destroyDynamicGraphicsNew(Bn,"dotEndGraphics-".concat(this.id)),this.core.destroyDynamicGraphicsNew(Bn,"dotWhiteEndGraphics-".concat(this.id)),this.core.destroyDynamicGraphicsNew(Bn,"rippleGraphics-".concat(this.id)),this.core.destroyDynamicGraphicsNew(Bn,"rectangleGraphicsHitArea-".concat(this.id)),this.core.destroyDynamicGraphicsNew(Bn,"circleGraphicsHitArea-".concat(this.id)),this.core.destroyDynamicGraphicsNew(Bn,"triangleIconGraphics-".concat(this.id)),this.core.destroyDynamicGraphicsNew(Bn,"rectangleGraphics-".concat(this.id)),this.core.destroyDynamicGraphicsNew(Bn,"circleGraphics-".concat(this.id)),this.core.clearText(Ln,"betElementTextGraph-".concat(this.id)),this.core.clearText(Ln,"betElementTextTimeGraph-".concat(this.id)),this.core.clearSprite(Bn,"deal-arrow-icon-".concat(this.id))}},{key:"isTooltipDisabled",get:function(){return!1}}])&&UP(t.prototype,n),i&&UP(t,i),a}(bP);function KP(e,t){return pa({amount:e,currency:t})}function JP(e){return function(e){if(Array.isArray(e))return qP(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return qP(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return qP(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function qP(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function ZP(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function $P(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function eN(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var tN=function(){function e(t,n,i){var r=this,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:100,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:5;ZP(this,e),eN(this,"hasLoadingRegions",(function(){return r.regions.some((function(e){return!e.loaded}))})),eN(this,"getPointsInElement",(function(){return dr(r.type,r.elementWidth)})),eN(this,"getPointsInElementForIndicators",(function(){return Math.max(5,r.getPointsInElement())})),this.store=i,this.canvasId=t,this.chartId=n,this.socket=Li.instance,this.pointsManager=new jy(a,o),this.width=0,this.height=0,this.ts=0,this.deadlineTime=0,this.expirationTime=0,this.minValue=0,this.maxValue=0,this.type=yi.Area,this.elements=[],this.tick=w.CHART.FLT_MAX,this.currentElement=null,this.pinchTime=0,this.acceleration=0,this.accelerationStartTime=0,this.elementWidth=Zn,this.topMargin=12,this.bottomMargin=0,this.currentDelta=0,this.currentDeltaCount=0,this.isMobile=this.globalSettings.isMobile,this.context=new ug(t),this.core=new pv(this.context.getCanvas(),this.context.isIE,this.globalSettings.isPerfomanceMode),this.destroyed=!1,this.forceCleared=!1,this.enableLoadRegion=!0,this.regions=[],this.allowDraw=!1,this.initializePlotEventsListeners(),this.setMainElements(),this.setElementWidth(Zn),this.theme=this.globalSettings.theme,e.instances.push(this)}var t,n,i;return t=e,(n=[{key:"addPlotEventListener",value:function(e,t){var n=ke();return this.plotEventListeners[e].set(n,t),n}},{key:"removeAllPlotEventListeners",value:function(){this.initializePlotEventsListeners()}},{key:"initializePlotEventsListeners",value:function(){var e={};Object.keys(mP).forEach((function(t){return e[mP[t]]=new Map})),this.plotEventListeners=e}},{key:"onRegionLoaded",value:function(e){var t=this,n=this.regions.findIndex((function(t){return t.index===e}));-1!==n&&(this.regions[n].loaded=!0,this.regions[n].element&&this.regions[n].element.fade(),setTimeout((function(){for(var n=[],i=0;i<t.regions.length;i++){var r=t.regions[i];r.index===e?r.element&&r.element.destroy():n.push(r)}t.regions=n}),1e3))}},{key:"checkRegion",value:function(e,t){var n=e-t,i=e-n;if(this.enableLoadRegion&&e>n){var r=i<t?i:t;this.loadRegion({time:e,offset:r,duration:t})}}},{key:"disableLoadRegion",value:function(){this.enableLoadRegion=!1}},{key:"loadRegion",value:function(e){var t=e.time,n=e.offset,i=e.duration,r=n>0?n:this.getRegionLoadedPoints()*w.CHART.AREA_COUNT_W,a=1;Qe.a.duration(i,"s").asDays()>=1?a=300:Qe.a.duration(i,"s").asHours()>=1&&(a=60);var o=parseInt("".concat(this.socket.serverTime).concat(Ie(1,100))),s=new RE(this.core,this.pointsManager,o,t,r,this.theme),c={offset:r,index:o,loaded:!1,time:t,element:s};this.regions.push(c),this.plotEventListeners[mP.NEW_REGION_REQUEST].forEach((function(e){return e(c.index,c.time,r,a,i)}))}},{key:"getRegionLoadedPoints",value:function(){var e=2*this.getPointsInElement();return e<100?100:e}},{key:"clearElements",value:function(){for(var e=0;e<this.elements.length;e++)this.elements[e]&&this.elements[e].destroy(),this.elements[e]=null;this.elements=[]}},{key:"refresh",value:function(){this.clearElements(),this.pointsManager.reset(),this.forceClear(),this.regions=[],this.enableLoadRegion=!0}},{key:"forceClear",value:function(){this.core.clearForce(),this.forceCleared=!0}},{key:"setElementWidth",value:function(e){this.elementWidth=e,this.refresh()}},{key:"setMainElements",value:function(){this.gridElement=new RP(this.core,this.pointsManager),this.currentElement=this.core.isUseFastLines()?new GP(this.core,this.pointsManager):new CP(this.core,this.pointsManager),this.currentElement.pointsInElement=this.getPointsInElement()}},{key:"setBetElement",value:function(e,t){if(e){var n=e.openTimestamp,i=e.openPrice,r=e.closeTimestamp,a=e.command,o=e.amount,s=e.currency;this.betElement=new zP(this.core,this.pointsManager,parseFloat(i),parseFloat(n),la(a),KP(o,ly(s)),r,e.id+"_"+Math.floor(Math.random()*Number.MAX_SAFE_INTEGER).toString(),this.isMobile,t)}}},{key:"setParams",value:function(e,t){this.width=e,this.height=t,this.context.setSize(e,t),this.core.resize(e,t)}},{key:"getXFromTime",value:function(e){return(e-this.pointsManager.startPoint.time)*this.secondWidth}},{key:"getTimeFromX",value:function(e){return this.pointsManager.startPoint.time+e/this.secondWidth}},{key:"clear",value:function(){this.clearElements(),this.pointsManager.reset(),this.elements=[]}},{key:"forceDestroy",value:function(){this.removeAllPlotEventListeners(),this.context.release(),this.core.destroyForce(),this.destroyed=!0,this.pointsManager=null,e.instances.splice(e.instances.indexOf(this),1)}},{key:"render",value:function(e){this.destroyed||(this.core.clear(),this.pointsManager.points.length>0&&(this.pointsManager.updateCurrentValues(),this.pointsManager.checkReducedPoints(!0),this.handleElements(),this.drawElements()),this.core.render(),this.forceCleared=!1)}},{key:"handleElements",value:function(){this.elements=[],this.elements.push(this.currentElement),this.elements.push(this.gridElement),this.elements.push(this.betElement);for(var e=0;e<this.elements.length;e++){var t=this.elements[e];t&&this.fillElement(t)}}},{key:"fillElement",value:function(e){e&&(e.isMobile=this.globalSettings.isMobile,e.startTime=this.pointsManager.startPoint.time,e.endTime=this.pointsManager.endPoint.time,e.secondWidth=this.secondWidth,e.lastWidth=e.width,e.width=this.width,e.pointsInElement=this.getPointsInElement(),e.lastFromTime=e.fromTime,e.lastToTime=e.toTime,e.fromTime=this.getTimeFromX(0),e.toTime=this.getTimeFromX(this.width),e.lastMinVal=e.minVal,e.lastMaxVal=e.maxVal,e.maxVal=this.maxValue,e.minVal=this.minValue,e.theme=this.theme,e.height=this.height-(this.topMargin+this.bottomMargin),e.worldHeight=this.height,e.yShift=this.topMargin)}},{key:"drawElements",value:function(){if(this.pointsManager.points.length)for(var e=0;e<this.elements.length;e++)this.elements[e]&&this.elements[e].needToDraw()&&this.elements[e].draw()}},{key:"calculateWindowParams",value:function(){this.pointsManager.points.length&&(this.calculateWindowPoints(),this.calculateMinMax())}},{key:"calculateWindowPoints",value:function(){var e=this.getTimeFromX(0),t=this.getTimeFromX(this.width);this.pointsManager.calculatePoints(e,t,this.width,!0)}},{key:"calculateMinMax",value:function(){for(var e=-w.CHART.FLT_MAX,t=w.CHART.FLT_MIN,n=0,i=this.getTimeFromX(0),r=this.getTimeFromX(this.width),a=this.pointsManager.points,o=[],s=0;s<a.length;s++){var c=a[s];c.time<i||c.time>r||(n++,o.push(c))}if(t=Math.min.apply(Math,JP(o.map((function(e){return e.value})))),e=Math.max.apply(Math,JP(o.map((function(e){return e.value})))),0!==n){if(t===e){if(1===n)return;e+=.1*e,t-=.1*t}this.maxValue=e,this.minValue=t}}},{key:"addPoints",value:function(e){for(var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=w.CHART.FLT_MAX,i=w.CHART.FLT_MIN,r=0;r<e.length;r++){var a=e[r],o=a.time,s=a.value,c=a.tick;this.pointsManager.addPoint(s,o,c,this.type);var l=parseInt(o,10);l>i&&(i=l),l<n&&(n=l)}var u=this.pointsManager.points.length;if(u>0){var h=this.pointsManager.points[u-1],d=e.length>1||1===e.length&&!h.isEqual(e[0]);d&&this.pointsManager.sort(t),this.pointsManager.setStartEndPoints()}this.calculateWindowParams()}},{key:"secondWidth",get:function(){var e=this.pointsManager.startPoint.time,t=this.pointsManager.endPoint.time;return this.width/(t-e)}},{key:"globalSettings",get:function(){return this.store.getState().global}}])&&$P(t.prototype,n),i&&$P(t,i),e}();eN(tN,"instances",[]);i(590);function nN(e){return(nN="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function iN(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],i=!0,r=!1,a=void 0;try{for(var o,s=e[Symbol.iterator]();!(i=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);i=!0);}catch(e){r=!0,a=e}finally{try{i||null==s.return||s.return()}finally{if(r)throw a}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return rN(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return rN(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function rN(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function aN(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function oN(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function sN(e,t){return(sN=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function cN(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=hN(e);if(t){var r=hN(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return lN(this,n)}}function lN(e,t){return!t||"object"!==nN(t)&&"function"!=typeof t?uN(e):t}function uN(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function hN(e){return(hN=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function dN(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var fN=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&sN(e,t)}(a,e);var t,n,i,r=cN(a);function a(){var e;aN(this,a);for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return dN(uN(e=r.call.apply(r,[this].concat(n))),"onNewRegionRequest",(function(t,n,i,r,a){e.socket.loadRegionLine({id:e.props.assetId,index:t,time:n,offset:i}),e.regionIndexesPending.push({index:t,time:n,offset:i,period:r,duration:a})})),e}return t=a,(n=[{key:"componentDidMount",value:function(){this.regionIndexesPending=[],this.pointsInElement=1,this.shift=0,this.secondWidth=0,this.elementWidth=Zn,this.type=yi.Area,this.width=0,this.height=0,this.isDrawable=!1,this.initCanvas(),this.initSocket(),this.initChart(),this.initResize();var e=this.props.duration;this.checkCache(e),this.checkChartRegion(void 0,e)}},{key:"componentWillUnmount",value:function(){this.stopRender(),this.releaseResize(),this.releaseChart(),this.releaseSocket()}},{key:"componentDidUpdate",value:function(e){var t=this.props.duration;e.duration!==t&&this.chart&&(this.chart.allowDraw=!1,this.checkCache(t),this.refreshChart(),this.checkChartRegion(void 0,this.props.duration))}},{key:"initCanvas",value:function(){this.container=Fh.a.findDOMNode(this).parentNode,this.canvas=this.container.getElementsByTagName("canvas")[0],this.canvas.id=this.props.canvasId,this.canvas.style.height="0px",this.canvas.style.visibility="hidden"}},{key:"initChart",value:function(){var e=this.props.duration<=480?1:100;this.chart=new tN(this.container.id,"graph",Bu,e,5),this.chart.setBetElement(this.props.deal,this.props.withPriceOnBadge),this.chart.topMargin=this.props.topMargin,this.chart.bottomMargin=this.props.bottomMargin,this.chart.addPlotEventListener(mP.NEW_REGION_REQUEST,this.onNewRegionRequest)}},{key:"releaseChart",value:function(){this.chart&&(this.chart.allowDraw=!1,this.chart.forceDestroy(),this.chart=null)}},{key:"initSocket",value:function(){var e=this;this.socket=Li.instance,this.onLoadHistoryCallbackID=this.socket.addEventListener(B,(function(t){return e.onRegionLoad(t)}))}},{key:"releaseSocket",value:function(){this.socket&&this.socket.removeEventListener(B,this.onLoadHistoryCallbackID)}},{key:"initResize",value:function(){this.setChartSizeBind=this.setChartSize.bind(this),window.addEventListener("resize",this.setChartSizeBind,!0),this.setChartSize()}},{key:"releaseResize",value:function(){window.removeEventListener("resize",this.setChartSizeBind,!0)}},{key:"refreshChart",value:function(){this.chart&&(this.chart.refresh(),this.regionIndexesPending=[])}},{key:"checkCache",value:function(e){if(this.historyCache||(this.historyCache=[]),e in this.historyCache){if(e in this.historyCache){var t=this.historyCache[e];t&&t.runningLoadOnBackground&&(t.shouldLoadOnBackground=!1,t.runningLoadOnBackground=!1)}}else this.historyCache[e]={duration:e,shouldLoadOnBackground:!0,runningLoadOnBackground:!0,isLoadingComplete:!1,responses:[]}}},{key:"checkChartRegion",value:function(e,t){var n=this;if(this.chart){var i=this.container.firstChild;i&&(i.style.visibility="visible",i.style.height="100%"),this.container.style.height=this.props.withPriceOnBadge?"250px":"100px",this.canvas.style.height="0px";var r=this.historyCache[t];r&&r.isLoadingComplete?r.responses.forEach((function(e){n.onRegionLoadFromCache(e)})):this.chart.checkRegion(e||(this.props.endTime?this.props.endTime:this.props.currentTime),t)}}},{key:"setChartSize",value:function(){if(this.container){var e=this.container.clientWidth,t=this.container.clientHeight;this.width=e,this.height=t,this.chart&&this.chart.setParams(this.width,this.height)}}},{key:"onRegionLoadFromCache",value:function(e){var t=this,n=e.id,i=(e.index,e.data);if(n!==this.props.assetId)return!1;var r=[],a=(this.props.endTime?this.props.endTime:this.props.currentTime)-this.props.duration;if(i.forEach((function(e){var n=iN(e,3),i=n[0],a=n[1],o=n[2];return t.isGoodPointValue(a)&&r.push({time:parseFloat(i),value:a,tick:o})})),r.length&&Math.floor(r[0].time)>a)this.chart.addPoints(r,ky.DEFAULT);else if(this.chart.pointsManager.points.length>0){var o=this.container.firstChild;o&&(o.style.visibility="hidden",o.style.height="0px"),this.canvas.style.height="auto",this.canvas.style.visibility="visible",this.chart.allowDraw=!0,this.chart.calculateWindowParams(),this.startRender()}else this.props.allowHide&&(this.container.style.height="0px",this.canvas.style.height="0px")}},{key:"onRegionLoad",value:function(e){var t=this,n=e.id,i=e.index,r=e.data,a=this.regionIndexesPending.find((function(e){return e.index===i})),o=a?this.historyCache[a.duration]:null;if(n!==this.props.assetId||!a)return!1;var s=[],c=(this.props.endTime?this.props.endTime:this.props.currentTime)-this.props.duration;if(r.forEach((function(e){var n=iN(e,3),i=n[0],r=n[1],a=n[2];return t.isGoodPointValue(r)&&s.push({time:parseFloat(i),value:r,tick:a})})),o&&!o.isLoadingComplete&&o.responses.push(e),s.length&&Math.floor(s[0].time)>c)this.chart.addPoints(s,ky.DEFAULT),this.chart.onRegionLoaded(i),this.removePendingRegion(i),this.checkChartRegion(s[0].time,this.props.duration);else if(o&&(o.isLoadingComplete=!0),this.chart.pointsManager.points.length>0){var l=this.container.firstChild;l&&(l.style.visibility="hidden",l.style.height="0px"),this.canvas.style.height="auto",this.canvas.style.visibility="visible",this.chart.allowDraw=!0,this.chart.disableLoadRegion(),this.chart.calculateWindowParams(),this.startRender()}else this.props.allowHide&&(this.container.style.height="0px",this.canvas.style.height="0px")}},{key:"removePendingRegion",value:function(e){this.regionIndexesPending=this.regionIndexesPending.filter((function(t){return t.index!==e}))}},{key:"clearRegionIndexesPending",value:function(){this.regionIndexesPending=[]}},{key:"isGoodPointValue",value:function(e){return Number.MAX_VALUE!==e&&Number.MIN_VALUE!==e&&Number.isFinite(e)}},{key:"startRender",value:function(){var e=this;this.stopRender(),this._renderInterval=setInterval((function(){e.chart.render(Date.now()/1e3)}),200)}},{key:"stopRender",value:function(){this._renderInterval>-1&&(clearInterval(this._renderInterval),this._renderInterval=-1)}},{key:"render",value:function(){return Lh.a.createElement(Bh.Fragment,null,Lh.a.createElement(Hh,{className:"chart-loader-mini-bg",name:"chart-loader-mini-bg"}),Lh.a.createElement("canvas",{id:this.props.canvasId}))}}])&&oN(t.prototype,n),i&&oN(t,i),a}(Lh.a.PureComponent);dN(fN,"propTypes",{symbol:Jh.a.string,assetId:Jh.a.number,duration:Jh.a.number,canvasId:Jh.a.string,deal:Jh.a.any,endTime:Jh.a.number,currentTime:Jh.a.number,topMargin:Jh.a.number,bottomMargin:Jh.a.number,allowHide:Jh.a.bool,withPriceOnBadge:Jh.a.bool}),dN(fN,"defaultProps",{symbol:"EURUSD",assetId:0,duration:0,canvasId:void 0,deal:null,endTime:void 0,currentTime:void 0,topMargin:12,bottomMargin:0,allowHide:!1,withPriceOnBadge:!0});var pN=Object(Gh.b)((function(e){return{currentTime:e.global.currentTime}}))(fN);function mN(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],i=!0,r=!1,a=void 0;try{for(var o,s=e[Symbol.iterator]();!(i=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);i=!0);}catch(e){r=!0,a=e}finally{try{i||null==s.return||s.return()}finally{if(r)throw a}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return yN(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return yN(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function yN(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var gN=Object(Gh.b)((function(e,t){var n=t.deal,i=e.global,r=e.assets,a=r.assetBySymbol,o=r.symbols,s=null;return o.includes(n.asset)&&(s=a[n.asset]),{asset:s,label:o.includes(n.asset)?a[n.asset].label:n.asset,timeZone:i.timeZone}}),{changeModalState:$h})((function(e){var t=e.deal,n=e.label,i=e.asset,r=e.timeZone,a=e.changeModalState;if(!i)return null;var o=mN(Object(Bh.useState)(!1),2),s=o[0],c=o[1],l=t.command,u=t.id,d=t.amount,f=t.profit,p=t.currency,m=t.openPrice,y=t.closePrice,g=ly(p),v=i.assetsList,b=i.digits,E=qe(t.openTimestamp,r,!0),A=qe(t.closeTimestamp,r,!0),w=et(t.closeTimestamp-t.openTimestamp),_=Math.round(y*Math.pow(10,b)-m*Math.pow(10,b)),O=t.closeTimestamp-t.openTimestamp+(t.closeTimestamp-t.openTimestamp)/100*30,S=t.closeTimestamp+(t.closeTimestamp-t.openTimestamp)/100*10;return Lh.a.createElement("div",{className:"trades-list__item trades-list-item trades-list-item__close",key:u},Lh.a.createElement("div",{className:"trades-list-item__title",onClick:function(e){c(!s),e.currentTarget.parentElement.classList.toggle("active")}},Lh.a.createElement(Hh,{className:"trades-list-item__caret",name:"caret"}),Lh.a.createElement(Nd,{className:"trades-list-item__flags flags",flags:v}),Lh.a.createElement("div",{className:"trades-list-item__name"},n),Lh.a.createElement("div",{className:"trades-list-item__countdown"},w),Lh.a.createElement("div",{className:"trades-list-item__delta trades-list-item__delta--".concat(by(l)?"up":"down")},Lh.a.createElement(Hh,{name:"arrow-".concat(by(l)?"up":"down","-circle")}),pa({amount:d,currency:g}),Lh.a.createElement("div",{className:"trades-list-item__delta-right trades-list-item__delta--".concat(f>=0?"up":"down")},da({profit:f,amount:d,currency:g})))),s&&Lh.a.createElement("div",{className:"trades-list-item__graph-body",id:"trades-list-item__graph-body-".concat(u),onClick:function(){a({modalId:Ss.TRADE_INFORMATION,value:!0,data:{deal:t,label:n,asset:i,timeZone:r}})}},Lh.a.createElement(pN,{assetId:i.id,canvasId:"trades-list-item__graph-body-canvas-".concat(u),deal:t,duration:O,endTime:S,topMargin:20,bottomMargin:20,withPriceOnBadge:!1})),Lh.a.createElement("ul",{className:"trades-list-item__details close"},Lh.a.createElement("li",{className:"trades-list-item__details-content"},Lh.a.createElement("div",{className:"trades-list-item__details-content__title"},h("ID"),":"),Lh.a.createElement("div",{className:"trades-list-item__details-content__text"},t.id)),Lh.a.createElement("li",{className:"trades-list-item__details-content"},Lh.a.createElement("div",{className:"trades-list-item__details-content__title"},h("Trade Pair"),":"),Lh.a.createElement("div",{className:"trades-list-item__details-content__text"},n,Lh.a.createElement("div",{className:"trades-list-item__percent"},"".concat(t.percentProfit,"%")))),Lh.a.createElement("li",{className:"trades-list-item__details-content"},Lh.a.createElement("div",{className:"trades-list-item__details-content__title"},h("Open Price"),":"),Lh.a.createElement("div",{className:"trades-list-item__details-content__text"},t.openPrice)),Lh.a.createElement("li",{className:"trades-list-item__details-content"},Lh.a.createElement("div",{className:"trades-list-item__details-content__title"},h("Close Price"),":"),Lh.a.createElement("div",{className:"trades-list-item__details-content__text"},t.closePrice)),Lh.a.createElement("li",{className:"trades-list-item__details-content"},Lh.a.createElement("div",{className:"trades-list-item__details-content__title"},h("Open time"),":"),Lh.a.createElement("div",{className:"trades-list-item__details-content__text"},E,".",t.openMs)),Lh.a.createElement("li",{className:"trades-list-item__details-content"},Lh.a.createElement("div",{className:"trades-list-item__details-content__title"},h("Close Time"),":"),Lh.a.createElement("div",{className:"trades-list-item__details-content__text"},A,".",t.closeMs)),Lh.a.createElement("li",{className:"trades-list-item__details-content"},Lh.a.createElement("div",{className:"trades-list-item__details-content__title"},h("Duration"),":"),Lh.a.createElement("div",{className:"trades-list-item__details-content__text"},w)),Lh.a.createElement("li",{className:"trades-list-item__details-content"},Lh.a.createElement("div",{className:"trades-list-item__details-content__title"},h("Difference"),":"),Lh.a.createElement("div",{className:"trades-list-item__details-content__text"},_))))}));function vN(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function bN(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?vN(Object(n),!0).forEach((function(t){EN(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):vN(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function EN(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function AN(e){return function(e){if(Array.isArray(e))return wN(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return wN(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return wN(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function wN(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var _N=Object(Gh.b)((function(e){var t=e.deals,n=e.global,i=t.openedById,r=t.openedIds;return{closedById:t.closedById,closedIds:t.closedIds,openedById:i,openedIds:r,lang:n.lang}}))((function(e){var t=e.closedById,n=e.closedIds,i=e.openedById,r=e.openedIds,a=e.lang,o=[].concat(AN(r),AN(n)),s=bN(bN({},i),t),c=cy()(o,(function(e){var t=s[e],n=t.closeTime,i=t.refundTime;return(i||n).substring(0,10)}));function l(e,t){var n=t.map((function(e){return!s[e].isClosed})).includes(!0);return Lh.a.createElement(Lh.a.Fragment,{key:e},function(e,t,n){if(!e)return null;var i=Qe()().isSame(e,"day");return Lh.a.createElement("div",{className:"trades-list__date"+(i&&n?" active":"")},Qe()(e,"YYYY-MM-DD").locale(a).format("D MMMM"),t&&Lh.a.createElement("span",null,t))}(e,t.length,n),t.map((function(e){return s[e].isClosed?Lh.a.createElement(gN,{key:"".concat(ke(),"-").concat(e),deal:s[e]}):Lh.a.createElement(vy,{key:"".concat(ke(),"-").concat(e),deal:s[e]})})))}return Lh.a.createElement(Lh.a.Fragment,null,Object.keys(c).map((function(e){return l(e,c[e])})))})),ON=(i(592),Object(Gh.b)((function(e){var t=e.deals,n=t.closedById,i=t.openedById;return{count:Object.keys(n).length+Object.keys(i).length}}))((function(e){var t=e.count;return Lh.a.createElement(Lh.a.Fragment,null,!!t&&Lh.a.createElement(_N,null),!t&&Lh.a.createElement("div",{className:"trades__placeholder"},Lh.a.createElement(Hh,{name:"trades-empty"}),Lh.a.createElement("p",null,h("You don't have a trade history yet. You can open a trade using the form above."))))}))),SN=(i(594),[{label:"M1",value:60},{label:"M2",value:120},{label:"M5",value:300},{label:"M15",value:900},{label:"M30",value:1800},{label:"M45",value:2700},{label:"H1",value:3600},{label:"H2",value:7200},{label:"H4",value:14400}]),CN=function(e){if(!e.item)return null;var t=e.currentTime,n=e.timeZone,i=e.item,r=i.id,a=i.label,o=i.price,s=i.time,c=i.duration,l=i.createdTime,u=i.assetsList,d=i.command,f=i.amount,p=i.currency,m=i.currentPrice,y=i.digits,g=SN.find((function(e){return e.value===c})),v=g?g.label:c.toString(),b=Qe()(1e3*(Qe()(l).utc(!1).unix()+n)).utcOffset(0,!1).format("YYYY-MM-DD HH:mm:ss").replace(/T/," ").replace(/\..+/,"");return b=b.slice(b.lastIndexOf(" ")+1,b.length),Lh.a.createElement("div",{key:r,className:"order"},Lh.a.createElement("div",{className:"order__title"},Lh.a.createElement(Nd,{className:"order__flags flags",flags:u}),Lh.a.createElement("div",{className:"order__name"},a),Lh.a.createElement("div",{className:"order__delta order__delta--".concat(la(d)?"up":"down")},Lh.a.createElement(Hh,{name:"arrow-".concat(la(d)?"up":"down","-circle")}))),Lh.a.createElement("div",{className:"order__info"},Lh.a.createElement("div",{className:"order__info-block"},Lh.a.createElement("div",null,h("Amount:")),Lh.a.createElement("div",null,pa({amount:f,currency:p}))),Lh.a.createElement("div",{className:"order__info-block"},Lh.a.createElement("div",null,h("Period:")),Lh.a.createElement("div",null,v)),!!o&&Lh.a.createElement(Lh.a.Fragment,null,Lh.a.createElement("div",{className:"order__info-block"},Lh.a.createElement("div",null,h("Price:")),Lh.a.createElement("div",null,Number(o).toFixed(y))),Lh.a.createElement("div",{className:"order__info-block"},Lh.a.createElement("div",null,h("Current price:")),Lh.a.createElement("div",null,Number(m).toFixed(y)))),!!s&&Lh.a.createElement(Lh.a.Fragment,null,Lh.a.createElement("div",{className:"order__info-block"},Lh.a.createElement("div",null,h("Open time:")),Lh.a.createElement("div",null,b)),Lh.a.createElement("div",{className:"order__info-block"},Lh.a.createElement("div",null,h("Current time:")),Lh.a.createElement("div",null,Qe()(1e3*(t+n)).utcOffset(0,!1).format("HH:mm:ss").replace(/T/," ").replace(/\..+/,""))))),Lh.a.createElement("div",{className:"order__button",onClick:function(){Bu.dispatch({type:"DEAL.PENDING_CANCEL",payload:{ticket:r}})}},h("Cancel")))},TN=Object(Gh.b)((function(e){var t=e.global,n=e.pendingTrade,i=e.assets,r=e.quotes;return{currentTime:t.currentTime,timeZone:t.timeZone,items:n.list,assetBySymbol:i.assetBySymbol,quoteBySymbol:r.quoteBySymbol}}))((function(e){var t=e.items,n=e.assetBySymbol,i=e.quoteBySymbol,r=e.currentTime,a=e.timeZone;return Lh.a.createElement(Lh.a.Fragment,null,!!t.length&&t.map((function(e){return e?Lh.a.createElement(CN,{key:e.ticket,currentTime:r,timeZone:a,item:(t=e,o=t.amount,s=t.command,c=t.currency,t.isDemo,t.min_payout,l=t.open_price,u=t.open_time,h=t.open_type,d=t.symbol,f=t.ticket,p=t.timeframe,t.uid,m=n[d],y=i[d].price,n&&m&&i?i&&!i[d]?null:{price:1===h?l:0,time:0===h?u:0,duration:p,createdTime:u,assetsList:m.assetsList,command:s,amount:o,currency:ly(c),id:f,label:m.label,digits:m.digits,currentPrice:y}:null)}):null;var t,o,s,c,l,u,h,d,f,p,m,y})),!t.length&&Lh.a.createElement("div",{className:"trades__placeholder"},Lh.a.createElement(Hh,{name:"trades-empty"}),Lh.a.createElement("p",null,h("Order list is empty.")," ",Lh.a.createElement("br",null)," ",h("Create a pending trade using the form above."))))}));function kN(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],i=!0,r=!1,a=void 0;try{for(var o,s=e[Symbol.iterator]();!(i=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);i=!0);}catch(e){r=!0,a=e}finally{try{i||null==s.return||s.return()}finally{if(r)throw a}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return IN(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return IN(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function IN(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var PN=Object(Gh.b)((function(e){var t=e.pendingTrade,n=e.deals.openedById;return{countOpenTrades:Object.keys(n).length,countOpenPendingTrades:Object.keys(t.list).length}}))((function(e){var t=e.countOpenTrades,n=e.countOpenPendingTrades,i=e.className,r=kN(Object(Bh.useState)("trades"),2),a=r[0],o=r[1],s=kN(Object(Bh.useState)(!0),2),c=s[0],l=s[1];return Lh.a.createElement("div",{className:"deal-list ".concat(i||""," ").concat(c?"active":"")},Lh.a.createElement("div",{className:"deal-list__tabs"},Lh.a.createElement("div",{onClick:function(){return o("trades")},className:"deal-list__tab ".concat("trades"===a?" active":"")},"trades"===a&&Lh.a.createElement("div",null,h("Trades")),"orders"===a&&Lh.a.createElement(Hh,{name:"deal-list-trades"}),Lh.a.createElement("div",{className:"deal-list__tab-count"},t)),Lh.a.createElement("div",{onClick:function(){return o("orders")},className:"deal-list__tab ".concat("orders"===a?" active":"")},"orders"===a&&Lh.a.createElement("div",null,h("Orders")),"trades"===a&&Lh.a.createElement(Hh,{name:"deal-list-orders"}),Lh.a.createElement("div",{className:"deal-list__tab-count"},n))),Lh.a.createElement("div",{className:"deal-list__items ".concat(c?"active":"")},"trades"===a&&Lh.a.createElement(ON,null),"orders"===a&&Lh.a.createElement(TN,null)),Lh.a.createElement("div",{className:"deal-list__toggle ".concat(c?"active":""),onClick:function(){return l(!c)}},Lh.a.createElement(Hh,{name:"arrow-triangle-small-up"})))})),NN=function(){return Lh.a.createElement("div",{className:"side-panel-deal-list"},Lh.a.createElement(PN,{className:"side-panel-deal-list__mobile"}))},xN=[{question:"".concat(h("What are digital options?")),answer:"<p>\n            <strong>\n                ".concat(h("Option -  a derivative financial instrument based on any underlying asset (it can be a stock, currency pairs, oil, etc.)."),"\n            </strong>\n        </p>\n        <p>").concat(h("DIGITAL OPTION - a non-standard option that is used to make a profit on price movements of such assets for a certain period of time."),"</p>\n        <p>").concat(h("A digital option, depending on the terms agreed upon by the parties to the transaction, at a time determined by the parties, brings a fixed income (the difference between the trade income and the price of the asset) or loss (in the amount of the value of the asset)."),"</p>\n        <p>").concat(h("Since the digital option is purchased in advance at a fixed price, the size of the profit, as well as the size of the potential loss, are known even before the trade."),"</p>\n        <p>").concat(h("Another feature of these deals is the time limit. Any option has its own term (expiration time or conclusion time)."),"</p>\n        <p>").concat(h("Regardless of the degree of change in the price of the underlying asset (how much it has become higher or lower), in case of winning an option, a fixed payment is always made. Therefore, your risks are limited only by the amount for which the option is acquired."),"</p>")},{question:"".concat(h("What is the expiration period of a trade?")),answer:"<p>".concat(h("The expiration period is the time after which the trade will be considered completed (closed) and the result is automatically summed up."),"</p>\n        <p>").concat(h("When concluding a trade with digital options, you independently determine the time of execution of the transaction (1 minute, 2 hours, month, etc.)."),"</p>")},{question:"".concat(h("What is the gist of digital options trading?")),answer:"<p>".concat(h("The fact is that a digital option is the simplest type of derivative financial instrument. In order to make money in the digital options market, you do not need to predict the value of the market price of an asset that it can reach."),"</p>\n        <p>").concat(h("The principle of the trading process is reduced only to the solution of one single task - the price of an asset will increase or decrease by the time the contract is executed."),"</p>\n        <p>").concat(h("The aspect of such options is that it does not matter to you at all, that the price of the underlying asset will go one hundred points or only one, from the moment the trade is concluded to its close. It is important for you to determine only the direction of movement of this price."),"</p>\n        <p>").concat(h("If your prognosis is correct, in any case you get a fixed income."),"</p>")},{question:"".concat(h("What are the possible results of the placed trades?")),answer:"<p>".concat(h("There are three possible outcomes in the digital options market:"),"</p>\n        <p>1) ").concat(h("in the event that your prognosis of determining the direction of the price movement of the underlying asset is correct, you receive income."),"</p>\n        <p>2) ").concat(h("if by the time the option was concluded your forecast turned out to be erroneous, you incur a loss limited by the size of the asset value (i.e., in fact, you can only lose your investment)."),"</p>\n        <p>3) ").concat(h("if the outcome of the trade is zero (the price of the underlying asset has not changed, the option is concluded at the price at which it was purchased), you return your investment.Thus, the level of your risk is always limited only by the size of the asset value."),"</p>")},{question:"".concat(h("Does your trading platform have a demo account in order to understand the process of working with digital options without spending your own money?")),answer:"<p>".concat(h("Yes. In order to develop trading skills and test the capabilities of the Company's trading platform, you can use a demo account (free of charge). This is a kind of simulator that allows you to try first, and only then move on to real trading. Such a demo account is also suitable for experienced traders to improve their professional level."),"</p>\n        <p>").concat(h("The balance of such an account is 10,000 units."),"</p>")},{question:"".concat(h("What determines profit size?")),answer:"<p>".concat(h("There are several factors that affect the size of your profit:"),"</p>\n        <p>\n            <ul>\n                <li><span>").concat(h("the liquidity of the asset you have chosen in the market (the more the asset is in demand in the market, the more profit you will receive)"),"</span></li>\n                <li><span>").concat(h("the time of the trade (the liquidity of an asset in the morning and the liquidity of an asset in the afternoon can vary significantly)"),"</span></li>\n                <li><span>").concat(h("tariffs of a brokerage company"),"</span></li>\n                <li><span>").concat(h("changes in the market (economic events, changes in part of a financial asset, etc.)"),"</span></li>\n            </ul>\n        </p>")},{question:"".concat(h("What are the varieties of digital options?")),answer:"<p>".concat(h("Making an option trade, you must choose the underlying asset that will underlie the option. Your forecast will be carried out on this asset."),"</p>\n        <p>").concat(h("Simply, buying a digital contract, you are actually betting on the price movement of such an underlying asset."),"</p>\n        <p>").concat(h("An underlying asset is an “item” whose price is taken into account when concluding a trade.As the underlying asset of digital options, the most sought-after products on the markets usually act. There are four types of them:"),"</p>\n        <p>\n            <ul>\n                <li><span>").concat(h("securities (shares of world companies)"),"</span></li>\n                <li><span>").concat(h("currency pairs (EUR / USD, GBP / USD, etc.)"),"</span></li>\n                <li><span>").concat(h("raw materials and precious metals (oil, gold, etc.)"),"</span></li>\n                <li><span>").concat(h("indices (S&P 500, Dow, dollar index, etc.)"),"</span></li>\n            </ul>\n        </p>\n        <p>").concat(h("A universal underlying asset does not exist. Сhoosing  it you are guided only by your own knowledge, intuition and various kinds of analytical information, as well as market analysis for a particular financial instrument."),"</p>")},{question:"".concat(h("What is a trading platform and why is it needed?")),answer:"<p>".concat(h("Trading platform - a software complex that allows the Client to conduct trades (operations) using different financial instruments. It has also accesses to various information such as the value of quotations, real-time market positions, actions of the Company, etc."),"</p>")},{question:"".concat(h("How to learn quickly how to make money in the digital options market?")),answer:"<p>\n            <ul>\n                <li><span>".concat(h("develop your own trading strategies, in which the number of correctly predicted trades will be maximum, and follow them"),"</span></li>\n                <li><span>").concat(h("diversify your risks"),"</span></li>\n            </ul>\n        </p>\n        <p>").concat(h("In developing strategies, as well as in searching for diversification options, market monitoring, studying analytical and statistical information that can be obtained from various sources (Internet resources, expert opinions, analysts in this field, etc.) will help you, one of which is the Company website."),"</p>")},{question:"".concat(h("Is the download of the program to a computer or smartphone required?")),answer:"<p>".concat(h("No, it's not required. You just need to register on the Company's website in the presented form and open a individual account."),"</p>")},{question:"".concat(h("At what expense does the Company pay profit to the Client in case of successful trade?")),answer:"<p>".concat(h("Company earns with customers. Therefore, it is interested in the share of profitable transactions significantly prevailing over the share of unprofitable ones, due to the fact that the Company has a percentage of payments for a successful trading strategy chosen by the Client."),"</p>\n        <p>").concat(h("In addition, trades conducted by the Client together constitute the trading volume of the Company, which is transferred to a broker or exchange, which in turn are included in the pool of liquidity providers, which together leads to an increase in the liquidity of the market itself."),"</p>")}],RN=[{question:"".concat(h("Can I close my account? How to do it?")),answer:"<p>".concat(h("You can delete an account in your Individual Account by clicking on the “Delete Account” button located at the bottom of the profile page."),"</p>")},{question:"".concat(h("If I made a mistake during entering data into my individual account, how can I fix this?")),answer:"<p>".concat(h("You have to contact the technical support service on the Company's website and edit the profile."),"</p>")},{question:"".concat(h("What data is required to register on the Company website?")),answer:"<p>".concat(h("To earn money on digital options, you must first open an account that allows you to conduct trades. To do this, you need to register on the Company website."),"</p>\n                <p>").concat(h("The registration process is simple and does not take much time."),"</p>\n                <p>").concat(h("It is necessary to fill out a questionnaire on the proposed form. You will be required to enter the following information:"),"</p>\n                <p>\n                    <ul>\n                        <li><span>").concat(h("name (in English)"),"</span></li>\n                        <li><span>").concat(h("email address (indicate the current, work, address)"),"</span></li>\n                        <li><span>").concat(h("telephone (with a code, for example, + 44123 ....)"),"</span></li>\n                        <li><span>").concat(h("a password that you will use in future to enter the system (in order to minimize the risk of unauthorized access to your individual account, we recommend that you create a complex password using lowercase, uppercase letters and numbers. Do not disclose the password to third parties)"),"</span></li>\n                    </ul>\n                </p>\n                <p>").concat(h("After filling out the questionnaire, you will be offered various ways to  deposit an account for trading."),"</p>")},{question:"".concat(h("In what currency is the Client's account opened? Can I change the currency of the Client's account?")),answer:"<p>".concat(h("By default, a trading account is opened in US dollars. But for your convenience, you can open several accounts in different currencies."),"</p>\n                <p>").concat(h("A list of available currencies can be found on your profile page in your Client's account."),"</p>")}],DN=[{question:"".concat(h("What is account verification?")),answer:"<p>".concat(h("Verification in digital options is a confirmation by the Client of his personal data by providing the Company with additional documents. Verification conditions for the Client are as simple as possible, and the list of documents is minimum. For example, a Company may ask:"),"</p>\n                    <p>\n                        <ul>\n                            <li><span>").concat(h("provide a color scan copy of the first spread of the Client's passport (passport page with photo)"),"</span></li>\n                            <li><span>").concat(h('identify with the help of a "selfie" (photograph of himself)'),"</span></li>\n                            <li><span>").concat(h("confirm the address of registration (residence) of the Client, etc"),"</span></li>\n                        </ul>\n                    </p>\n                    <p>").concat(h("The Company may request any documents if it is not possible to fully identify the Client and the data entered by him."),"</p>\n                    <p>").concat(h("After the electronic copies of documents have been submitted to the Company, the Client will have to wait some time to verify the data provided."),"</p>")},{question:"".concat(h("How to understand that I need to go through account verification?")),answer:"<p>".concat(h("If it becomes necessary to pass verification, you will receive a notification by e-mail and / or SMS notification."),"</p>\n                        <p>").concat(h("At the same time, the Company uses the contact details that you specified in the questionnaire during registration (in particular, the email address  and the phone number ). Therefore, be careful and provide relevant and correct information."),"</p>")},{question:"".concat(h("How do I know that I successfully passed verification?")),answer:"<p>".concat(h("You will receive a notification by e-mail and / or SMS notification about the completion of the verification process of your account and the ability to proceed with operations on the Company's trading platform."),"</p>")},{question:"".concat(h("Is it possible to indicate other people's (fake) data when registering on the website?")),answer:"<p>".concat(h("No. The client performs self-registration on the Company's website, providing complete and accurate information about himself on issues asked in the registration form, and maintains this information up to date."),"</p>\n                    <p>").concat(h("If it is necessary to conduct various kinds of checks of the Client’s identity, the Company can request documents or invite the Client to its office."),"</p>\n                    <p>").concat(h("If the data entered in the registration fields does not match the data of the submitted documents, your individual profile may be blocked."),"</p>")},{question:"".concat(h("How long does the verification process take?")),answer:"<p>".concat(h("No more than 5 (five) business days from the date the Company receives the requested documents."),"</p>")}],MN=[{question:"".concat(h("Is there a minimum amount that I can deposit to my account at registration?")),answer:"<p>\n                    ".concat(h("The advantage of the Company’s trading platform is that you don’t have to deposit large amounts to your account. You can start trading by investing a small amount of money. The minimum deposit is %s US dollars."),"\n                </p>")},{question:"".concat(h("How can I deposit?")),answer:"<p>".concat(h("It is very easy to do. The procedure will take a couple of minutes."),"</p>\n                    <p>1) ").concat(h('Open the trade execution window and click on the green "Deposit" button in the upper right corner of the tab.'),"</p>\n                    <p>").concat(h('You can also deposit the account through your Personal Account by clicking the "Deposit" button in the account profile.'),"</p>\n                    <p>2) ").concat(h("After it is necessary to choose a method of depositing the account (the Company offers a lot of convenient methods that are available to the Client and are displayed in his individual account)."),"</p>\n                    <p>3) ").concat(h("Next, indicate the currency in which the account will be deposited, and accordingly the currency of the account itself."),"</p>\n                    <p>4) ").concat(h("Enter the amount of the deposit."),"</p>\n                    <p>5) ").concat(h("Fill out the form by entering the requested payment details."),"</p>\n                    <p>6) ").concat(h("Make a payment."),"</p>")},{question:"".concat(h("Do I need to deposit the account of the trading platform and how often do I need to do this?")),answer:"<p>".concat(h("To work with digital options you need to open an individual account. To conclude real trades, you will certainly need to make a deposit in the amount of options purchased."),"</p>\n                    <p>").concat(h("You can start trading without cash, only using the company's training account (demo account). Such an account is free of charge and created to demonstrate the functioning of the trading platform. With the help of such an account, you can practice acquiring digital options, understand the basic principles of trading, test various methods and strategies, or evaluate the level of your intuition."),"</p>")},{question:"".concat(h("What is the minimum deposit amount?")),answer:"<p>".concat(h("The advantage of the Company’s trading platform is that you don’t have to deposit large amounts to your account. You can start trading by investing a small amount of money. The minimum deposit is %s US dollars."),"</p>")}],BN=[{question:"".concat(h("How to withdraw money from the account?")),answer:"<p>".concat(h("The procedure for withdrawing capital is extremely simple and is carried out through your individual account."),"</p>\n                    <p>").concat(h('The method that you have chosen to deposit the account is also a method of withdrawing funds (see the question "How can I deposit?").'),"</p>\n                    <p>").concat(h("For example, if you made a deposit to your account via the Visa payment system, you will also withdraw money via the Visa payment system."),"</p>\n                    <p>").concat(h("When it comes to the withdrawal of a sufficiently large amount, the Company may request verification (verification is requested at the Company's sole discretion), which is why it is very important to register an account individually for yourself in order to confirm your rights to it at any time."),"</p>")},{question:"".concat(h("What is the minimum withdrawal amount?")),answer:"<p>".concat(h("The minimum withdrawal amount starts from %s USD for most payment systems.<br>For cryptocurrencies this amount starts from 50 USD (and may be higher for certain currencies e.g. Bitcoin)."),"</p>")},{question:"".concat(h("Do I need to provide any documents to make a withdrawal?")),answer:"<p>".concat(h("Usually, additional documents to withdraw funds are not needed . But the Company at its discretion may ask you to confirm your personal data by requesting certain documents. Usually this is done in order to prevent activities related to illegal trade, financial fraud, as well as the use of funds obtained illegally."),"</p>\n                    <p>").concat(h("The list of such documents is minimum, and the operation to provide them will not take you much time and effort."),"</p>")},{question:"".concat(h("How long does it take to withdraw funds?")),answer:"<p>".concat(h("On average, the withdrawal procedure takes from one to five days from the date of receipt of the corresponding request of the Client and depends only on the volume of simultaneously processed requests. The company always tries to make payments directly on the day the request is received from the Client."),"</p>")},{question:"".concat(h("Is there any fee for depositing or withdrawing funds from the account?")),answer:"<p>".concat(h("No. The company does not charge any fee for either the deposit or for the withdrawal operations."),"</p>\n                    <p>").concat(h("However, it is worth considering that payment systems can charge their fee and use the internal currency conversion rate."),"</p>")}],LN={name:h("Help"),reset:"Test",isSupport:!0,isChat:!0,isHelp:!0,item:[{name:h("FAQ"),text:h("Open knowledge base"),icon:"faq",resetName:h("Return back to Help"),item:[{name:h("Trading Platform"),text:h("{number} questions",xN.length),icon:"help-trading-platform",inThemeDark:!0,resetName:h("Return back to FAQ"),questions:xN},{name:h("Profile"),text:h("{number} questions",RN.length),icon:"help-profile",inThemeDark:!0,resetName:h("Return back to FAQ"),questions:RN},{name:h("Verification"),text:h("{number} questions",DN.length),icon:"help-verification",inThemeDark:!0,resetName:h("Return back to FAQ"),questions:DN},{name:h("Payment"),text:h("{number} questions",MN.length),icon:"help-payment",inThemeDark:!0,resetName:h("Return back to FAQ"),questions:MN},{name:h("Payouts"),text:h("{number} questions",BN.length),icon:"help-payouts",inThemeDark:!0,resetName:h("Return back to FAQ"),questions:BN}]}]};i(596);function jN(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],i=!0,r=!1,a=void 0;try{for(var o,s=e[Symbol.iterator]();!(i=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);i=!0);}catch(e){r=!0,a=e}finally{try{i||null==s.return||s.return()}finally{if(r)throw a}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return FN(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return FN(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function FN(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var GN=Object(Gh.b)((function(e){var t=e.global;return{sidePanelOpened:t.sidePanelOpened,theme:t.theme,isMobile:t.isMobile,visibleChartIds:e.chartSettings.visibleChartIds}}),(function(e){return Object(er.b)({changeSidePanelOpened:zc},e)}))((function(e){var t=e.changeSidePanelOpened,n=e.sidePanelOpened,i=e.className,r=e.theme,a=e.isMobile,o=e.visibleChartIds,s=jN(Object(Bh.useState)(!1),2),c=s[0],l=s[1];function u(){t(!1)}var d="dark"===r||"black"===r||"settings"===n||"indicators"===n||"drawings"===n,f=o&&o.length>0;return Lh.a.createElement("aside",{className:"sidepanel"+(i?" ".concat(i):"")+(d?"":" sidepanel__bg-white")+(d?" sidepanel__bg-black":"")+(n&&"deal-list"!==n?" active":"")+("deal-list"===n?" mobile":"")},n&&"deal-list"!==n&&Lh.a.createElement("div",{className:"sidepanel__close"+(d?"":" sidepanel__bg-white")+(d?" sidepanel__bg-black":""),onClick:u},Lh.a.createElement(Hh,{name:"close"})),"help"===n&&Lh.a.createElement(Mm,{data:LN}),"indicators"===n&&Lh.a.createElement(Kd,{title:h("Indicators"),onInnerPanel:l,showInnerPanel:c},Lh.a.createElement(wm,null)),"drawings"===n&&Lh.a.createElement(Kd,{title:h("Drawings"),onInnerPanel:l,showInnerPanel:c},Lh.a.createElement(Cm,{onAdded:function(){return a?u():null}})),"settings"===n&&f&&Lh.a.createElement(Kd,{title:h("Settings"),body:Lh.a.createElement(Hf,{className:i}),panelClass:"panel-settings"}),"leader"===n&&Lh.a.createElement(zm,null),"more"===n&&Lh.a.createElement(Bm,null),"signals"===n&&Lh.a.createElement(oy,null),"deal-list"===n&&Lh.a.createElement(NN,null))})),VN=(i(598),i(600),function(e){var t=e.className,n=e.inlineFooter,i=e.title,r=e.children,a=e.footer,o=e.isOpen,s=e.closeButton,c=e.closeOnEsc,l=e.closeOnOutsideClick,u=e.image,h=e.closeButtonImage,d=e.classNameContainer,f=e.onClose;function p(e){c&&27===e.keyCode&&m()}function m(){f&&f()}return Object(Bh.useEffect)((function(){return window.addEventListener("keydown",p),function(){window.removeEventListener("keydown",p)}}),[]),Lh.a.createElement("div",{className:"modal"+(o?" active":"")+(t?" ".concat(t):""),onClick:function(e){l&&(e.target.closest(".modal__dialog")||m())}},Lh.a.createElement("div",{className:"modal__container"+(d?" ".concat(d):"noBlock")},u&&Lh.a.createElement(Lh.a.Fragment,null,Lh.a.createElement("img",{className:"modal__image",src:u,alt:"Modal image"}),h&&Lh.a.createElement("button",{className:"modal__close",onClick:m},Lh.a.createElement(Hh,{name:"close"}))),Lh.a.createElement("div",{className:"modal__dialog"},s&&Lh.a.createElement("button",{className:"modal__close",onClick:m},Lh.a.createElement(Hh,{name:"close"})),i&&Lh.a.createElement("div",{className:"modal__header"},i),Lh.a.createElement("div",{className:"modal__body"},r,a&&Lh.a.createElement("div",{className:"modal__body-footer"+(n?" modal__body-footer--inline":"")},a)))))});VN.propTypes={className:Jh.a.string,inlineFooter:Jh.a.bool,parentSelector:Jh.a.func,title:Jh.a.string,children:Jh.a.node.isRequired,footer:Jh.a.node,isOpen:Jh.a.bool.isRequired,closeButton:Jh.a.bool,closeOnEsc:Jh.a.bool,closeOnOutsideClick:Jh.a.bool,image:Jh.a.string,closeButtonImage:Jh.a.bool,classNameContainer:Jh.a.string,onClose:Jh.a.func},VN.defaultProps={parentSelector:function(){return document.body},closeButton:!0,closeOnEsc:!0,closeOnOutsideClick:!0};var HN=VN,UN=(i(602),function(e){var t=e.type,n=e.children,i=e.onClickButton,r=e.buttonText;return Lh.a.createElement(Lh.a.Fragment,null,Lh.a.createElement("div",{className:"modal-action__block --".concat(t)},Lh.a.createElement(Hh,{name:"modal-bonus--".concat(t),className:"modal-action__icon"}),Lh.a.createElement("div",{className:"modal-action__text"},n),Lh.a.createElement(Zh,{className:"modal-action__button",type:"light",size:"small",onClick:i},r)))});UN.propTypes={type:Jh.a.oneOf(["success","warning"]),text:Jh.a.string,onClickButton:Jh.a.func,buttonText:Jh.a.string},UN.defaultProps={type:"success",children:"success",onClickButton:function(){},buttonText:"Ok"};var WN=UN,YN=i(70),QN=i.n(YN);function XN(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],i=!0,r=!1,a=void 0;try{for(var o,s=e[Symbol.iterator]();!(i=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);i=!0);}catch(e){r=!0,a=e}finally{try{i||null==s.return||s.return()}finally{if(r)throw a}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return zN(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return zN(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function zN(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function KN(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function JN(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?KN(Object(n),!0).forEach((function(t){qN(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):KN(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function qN(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ZN=function(e){var t=e.currency,n=e.bonus,i=e.isOpen,r=e.userUpdateBonus,a=e.userDeclineBonus,o=e.changeModalState,s=function(){(n=Bu.getState().global.bonus||{}).declineSuccess?r({bonus:{}}):(o({modalId:Ss.BONUS,value:!1}),u(!1),(n.declineSuccess||n.declineError)&&r({bonus:JN(JN({},n),{},{declineSuccess:!1,declineError:!1})}))};Object(Bh.useEffect)((function(){n.percent>0||s()}));var c=XN(Object(Bh.useState)(!1),2),l=c[0],u=c[1],d=function(){u(!l)},f=XN(Object(Bh.useState)(!1),2),p=f[0],m=f[1],y=(n=n||{}).turnover,g=n.amount*n.cond_factor,v=Math.max(g-y,0),b=g>0?Math.min(y/g,1):1;return Lh.a.createElement(HN,{onClose:s,isOpen:i,closeButton:!0,closeButtonImage:!1,classNameContainer:"modal-bonus"},Lh.a.createElement(Lh.a.Fragment,null,Lh.a.createElement("div",{className:"modal-bonus__header"+(l?" decline":"")},Lh.a.createElement("img",{className:"icon-airship",src:"/profile/images/airship.svg",alt:"airship"}),Lh.a.createElement("div",null,Lh.a.createElement("div",{className:"modal-bonus__header-title"},h("Now you have:")),Lh.a.createElement("div",{className:"modal-bonus__header-container"},Lh.a.createElement("div",{className:"modal-bonus__header-text"},h("{percent}% bonus",n.percent)),Lh.a.createElement(Zh,{onClick:d,className:"modal-bonus__header-button",type:"light",disabled:l},h("Decline"))))),Lh.a.createElement("div",{className:"modal-bonus__body"+(l?" decline":"")},Lh.a.createElement("div",{className:"modal-bonus__body-text"},h("In order to collect your bonus you must ensure a certain turnover")),Lh.a.createElement("a",{href:"#",className:"modal-bonus__body-link modal-bonus__terms-of-use",onClick:function(){o({modalId:Ss.DEPOSIT_BONUS,value:!0})}},h("Deposit Bonus terms of use")),Lh.a.createElement("div",{className:"modal-bonus__body-loading"},Lh.a.createElement("img",{className:"modal-bonus__body-expand",src:"/trade-room/files/".concat(QN.a),alt:"Modal image",style:{width:Math.floor(100*b)+"%"}})),Lh.a.createElement("div",{className:"modal-bonus__body-container"},Lh.a.createElement("div",{className:"modal-bonus__body-block"},Lh.a.createElement("div",null,h("Your turnover")),Lh.a.createElement("div",{className:"modal-bonus__body-block-money"},Lh.a.createElement("div",{className:"modal-bonus__body-money"},ya({amount:n.turnover,currency:t})),Lh.a.createElement("div",{className:"modal-bonus__body-money"},Math.floor(100*b),"%"))),Lh.a.createElement("div",{className:"modal-bonus__body-block"},Lh.a.createElement("div",null,h("To finish your bonus")),Lh.a.createElement("div",{className:"modal-bonus__body-block-money--end"},Lh.a.createElement("div",{className:"modal-bonus__body-money"},ya({amount:v,currency:t})),Lh.a.createElement("div",{className:"modal-bonus__body-money --light"},ya({amount:g,currency:t})))))),l&&Lh.a.createElement("div",{className:"modal-bonus__footer"},Lh.a.createElement("div",{className:"modal-bonus__footer-text"},Lh.a.createElement("span",{dangerouslySetInnerHTML:{__html:h("Do you confirm that you decline your current <b>{percent}% bonus</b>",n.percent)}})),Lh.a.createElement("div",{className:"modal-bonus__footer__button"},Lh.a.createElement(Zh,{className:"modal-bonus__footer__button-success",type:"success",size:"small",icon:"check",iconPosition:"before",disabled:p,onClick:function(){a({setProgress:m})}},h("Yes, confirm")),Lh.a.createElement(Zh,{className:"modal-bonus__footer__button-light",type:"light",size:"small",disabled:p,onClick:d},h("No, cancel")))),n.declineSuccess&&Lh.a.createElement(WN,{type:"success",onClickButton:s,buttonText:h("Ok, close window")},h("You have successfully declined {percent}% bonus. Now you trade without a bonus.",n.percent)),n.declineError&&Lh.a.createElement(WN,{type:"warning",onClickButton:s,buttonText:h("Ok, close window")},h("Error has occurred! Try to decline the bonus later, or write to our support."))))};ZN.propTypes={isOpen:Jh.a.bool},ZN.defaultProps={isOpen:!0};var $N=Object(Gh.b)((function(e){var t=e.global;return{currency:t.currency,bonus:t.bonus}}),{userUpdateBonus:qc,userDeclineBonus:function(e){return{type:"USER.BONUS.DECLINE",payload:{setProgress:e.setProgress}}},changeModalState:$h})(ZN),ex=(i(604),function(e){var t=e.isOpen,n=e.changeModalState,i=e.uid,r=e.country,a=e.position,o=e.todayProfit,s=e.currency,c=e.total,l=c>0?100-Math.floor(100*a/c):0;return Lh.a.createElement(HN,{onClose:function(){n({modalId:Ss.RATING,value:!1})},isOpen:t,closeButton:!0,closeButtonImage:!1,classNameContainer:"modal-rating"},Lh.a.createElement(Lh.a.Fragment,null,Lh.a.createElement("div",{className:"modal-rating__header"},Lh.a.createElement(Hh,{name:"modal-rating"}),Lh.a.createElement("div",null,Lh.a.createElement("div",{className:"modal-rating__header-subtitle"},h("Top")),Lh.a.createElement("div",{className:"modal-rating__header-title"},h("How does it work?")))),Lh.a.createElement("div",{className:"modal-rating__body"},Lh.a.createElement("span",{className:"modal-rating__body-title"},h("All traders on our platform participate in this rating. Main features of the rating:")),Lh.a.createElement("div",{className:"modal-rating__body-list"},h("Calculated every day, from 00:00 UTC to 23:59 UTC")),Lh.a.createElement("div",{className:"modal-rating__body-list"},h("Participants can only be those who trade in live mode")),Lh.a.createElement("div",{className:"modal-rating__body-list"},h("Your position depends on the amount of earned money"))),Lh.a.createElement("div",{className:""},Lh.a.createElement("div",{className:"modal-rating__footer-title"},h("My rating in the Leader Board")),Lh.a.createElement("div",{className:"modal-rating__footer-loading"},Lh.a.createElement("img",{className:"modal-rating__footer-expand",src:"/trade-room/files/".concat(QN.a),alt:"Modal image",style:{width:l+"%"}})),Lh.a.createElement("div",{className:"modal-rating__footer-block"},Lh.a.createElement("div",{className:"modal-rating__footer-user"},Lh.a.createElement(Pd,{className:"modal-rating__footer-flag ",country:r.toLowerCase()}),Lh.a.createElement("div",null,i)),Lh.a.createElement("div",{className:"modal-rating__footer-money"},Lh.a.createElement("div",{className:"modal-rating__footer-money__name"},h("Your position:")),Lh.a.createElement("div",{className:"modal-rating__footer-cash"},a),Lh.a.createElement("div",{className:"modal-rating__footer-cash"},ma({amount:o,currency:s})))))))});ex.propTypes={isOpen:Jh.a.bool},ex.defaultProps={isOpen:!0};var tx=Object(Gh.b)((function(e){var t=e.leaderBoard,n=e.global,i=t.position,r=t.total;return{position:i,uid:n.uid,todayProfit:n.todayProfit,country:n.country,currency:"$",total:r}}),{changeModalState:$h})(ex),nx=(i(606),i(328)),ix=i.n(nx),rx=function(e){var t=e.isOpen,n=e.changeModalState;return Lh.a.createElement(HN,{onClose:function(){n({modalId:Ss.DEMO_TO_REAL,value:!1})},isOpen:t,closeButton:!0,closeButtonImage:!1,image:"/trade-room/files/".concat(ix.a),classNameContainer:"modal-demo-real",footer:Lh.a.createElement(Lh.a.Fragment,null,Lh.a.createElement(Zh,{type:"success",size:"small",icon:"check",iconPosition:"before",href:Yc("trade")},h("Trade on a real account")))},Lh.a.createElement("div",{className:"modal-demo-real__header"},Lh.a.createElement(Hh,{className:"modal-demo-real__header-icon",name:"rocket-white"}),Lh.a.createElement("div",{className:"modal-demo-real__title"},h("You are ready to trade Live!"))),Lh.a.createElement("div",{className:"modal-demo-real__body"},Lh.a.createElement("ul",{className:"modal-demo-real__body-list"},Lh.a.createElement("li",null,Lh.a.createElement("span",null,h("Earn unlimited money"))),Lh.a.createElement("li",null,Lh.a.createElement("span",null,h("Use strategies"))),Lh.a.createElement("li",null,Lh.a.createElement("span",null,h("All platform functionality is available")))),Lh.a.createElement(Hh,{className:"modal-demo-real__body-graph",name:"graph"})),Lh.a.createElement("div",{className:"modal-demo-real__footer"},h("Risk Warning: Trading on financial markets carries risks and may not be suitable for all investors due to the high risk of losing the capital. You should not risk more than you are prepared to lose.")))};rx.propTypes={isOpen:Jh.a.bool},rx.defaultProps={isOpen:!0};var ax=Object(Gh.b)(null,{changeModalState:$h})(rx),ox=(i(608),function(e){var t=e.isOpen,n=e.changeModalState;return Lh.a.createElement(HN,{onClose:function(){n({modalId:Ss.DEPOSIT_BONUS,value:!1})},isOpen:t,closeButton:!0,closeButtonImage:!1,classNameContainer:"modal-deposit-bonus"},Lh.a.createElement(Lh.a.Fragment,null,Lh.a.createElement("div",{className:"modal-deposit-bonus__header"},Lh.a.createElement(Hh,{class:"modal-deposit-bonus__information",name:"information"}),Lh.a.createElement("div",{className:"modal-deposit-bonus__title"},h("Deposit Bonus terms of use"))),Lh.a.createElement("div",null,h("A bonus is virtual money that is credited to your balance upon deposit. Depending on the promo code, the bonus can be from 10% to 100%.")),Lh.a.createElement("div",{className:"modal-deposit-bonus__subtitle"},h("Bonus wagering rules")),Lh.a.createElement("div",null,h("You cannot withdraw bonus funds immediately. They are virtual. To transfer bonus funds into real funds, make a trading turnover of non-hedging transactions equal to the bonus amount multiplied by 100. After that, the bonus funds will become real.")),Lh.a.createElement("br",null),Lh.a.createElement("div",null,h("The progress of wagering the bonus can be seen in the account selection panel.")),Lh.a.createElement("div",{className:"modal-deposit-bonus__subtitle"},h("Canceling a bonus or withdrawal funds with a valid bonus")),Lh.a.createElement("div",null,h("You can cancel the bonus in your personal account. In this case, your balance will be reduced by the amount of the bonus received. When withdrawing funds with a valid bonus, the bonus is automatically canceled, and the amount of the accrued bonus is deducted from the withdrawal amount."))))});ox.propTypes={isOpen:Jh.a.bool},ox.defaultProps={isOpen:!0};var sx=Object(Gh.b)(null,{changeModalState:$h})(ox),cx=(i(610),function(e){var t=e.isOpen,n=e.changeModalState,i=e.lastDeposit,r=e.balance,a=e.currency,o=e.recommendedDepositAmount;return Lh.a.createElement(HN,{isOpen:t,closeButton:!0,closeButtonImage:!0,classNameContainer:"modal-replenish-account",onClose:function(){n({modalId:Ss.REDEPOSIT,value:!1})}},Lh.a.createElement(Lh.a.Fragment,null,Lh.a.createElement("div",{className:"modal-replenish-account__header"},Lh.a.createElement(Hh,{className:"modal-replenish-account__header-icon",name:"wallet"}),Lh.a.createElement("div",{className:"modal-replenish-account__header-container"},Lh.a.createElement("div",{className:"modal-replenish-account__header-title"},h("Have you Run out of funds?")),Lh.a.createElement("div",{className:"modal-replenish-account__header-text"},h("Your balance is ${balance}. Top up and Continue trading with Quotex!",r)))),Lh.a.createElement("div",{className:"modal-replenish-account__body"},Lh.a.createElement("div",{className:"modal-replenish-account__body-block"},Lh.a.createElement("div",{className:"modal-replenish-account__body-money"},i&&ma({amount:i.amount,currency:a}),!i&&ma({amount:0,currency:a})),Lh.a.createElement("div",{className:"modal-replenish-account__body-text"},i&&h("Your last deposit was at {lastDate}",i.date),!i&&h("Your account balance is zero."))),Lh.a.createElement(Zh,{className:"modal-replenish-account__body-button",type:"success",size:"small",iconPosition:"before",href:Yc("deposit")},h("Top up with {amount}",pa({amount:o,currency:a})))),Lh.a.createElement("div",{className:"modal-replenish-account__footer"},h("Risk Warning: Trading on financial markets carries risks and may not be suitable for all investors due to the high risk of losing the capital. You should not risk more than you are prepared to lose."))))});cx.propTypes={isOpen:Jh.a.bool},cx.defaultProps={isOpen:!0};var lx=Object(Gh.b)((function(e){var t=e.global;return{lastDeposit:t.lastDeposit,balance:t.balance,currency:t.currency,recommendedDepositAmount:t.recommendedDepositAmount}}),{changeModalState:$h})(cx),ux=(i(612),function(e){var t=e.isOpen,n=e.isIcon,i=e.changeModalState,r=e.demoBalance,a=e.currency,o=e.minDepositAmount,s=e.recommendedDepositAmount;return Lh.a.createElement(HN,{onClose:function(){i({modalId:Ss.FIRST_REGISTER,value:!1})},isOpen:t,closeButton:!0,image:"",closeButtonImage:!1,classNameContainer:"modal-byte__container"},Lh.a.createElement("div",{className:"modal-byte__title"},h("What account do you want to continue trading on?")),Lh.a.createElement("div",{className:"modal-byte__demo"},Lh.a.createElement("div",null,Lh.a.createElement("div",{className:"modal-byte__container-title"},n&&Lh.a.createElement(Hh,{name:"telegram"}),Lh.a.createElement("div",{className:"modal-byte__demo-title"},h("Demo account"))),Lh.a.createElement("div",{className:"modal-byte__demo-subtitle"},h("Your demo account has a {balance} balance",{balance:pa({amount:r,currency:a})})),Lh.a.createElement("ul",{className:"modal-byte__demo-list"},Lh.a.createElement("li",null,h("Update your account without limit")),Lh.a.createElement("li",null,h("Learn to trade without risk")),Lh.a.createElement("li",null,h("Available not all assets")))),Lh.a.createElement("div",{className:"modal-byte__demo-right"},Lh.a.createElement("div",{className:"modal-byte__demo-label"},h("Without risk")),Lh.a.createElement(Zh,{className:"modal-byte__demo-button",type:"light",size:"small",href:Yc("demo-trade")},h("Trading on the demo account")))),Lh.a.createElement("div",{className:"modal-byte__real"},Lh.a.createElement("div",{className:"modal-byte__real-left"},Lh.a.createElement("div",{className:"modal-byte__container-title"},n&&Lh.a.createElement(Hh,{name:"roket"}),Lh.a.createElement("div",{className:"modal-byte__real-title"},h("Real account"))),Lh.a.createElement("div",{className:"modal-byte__real-subtitle"},h("Top up your account with the minimum amount and start earning")),Lh.a.createElement("ul",{className:"modal-byte__real-list"},Lh.a.createElement("li",null,Lh.a.createElement("span",null,h("Earn unlimited money"))),Lh.a.createElement("li",null,Lh.a.createElement("span",null,h("Participate in tournaments"))),Lh.a.createElement("li",null,Lh.a.createElement("span",null,h("More assets and features"))))),Lh.a.createElement("div",{className:"modal-byte__real-right"},Lh.a.createElement("div",{className:"modal-byte__real-label"},pa({amount:o,currency:a})),Lh.a.createElement("div",{className:"modal-byte__real-sublabel"},h("Minimum deposit")),Lh.a.createElement(Zh,{type:"success",size:"small",icon:"check",iconPosition:"before",href:Yc("deposit")},h("Top up with {amount}",pa({amount:s,currency:a}))))))});ux.propTypes={isOpen:Jh.a.bool,isIcon:Jh.a.bool},ux.defaultProps={isOpen:!0,isIcon:!0};var hx=Object(Gh.b)((function(e){var t=e.global;return{liveBalance:t.liveBalance,demoBalance:t.demoBalance,currency:t.currency,minDepositAmount:t.minDepositAmount,recommendedDepositAmount:t.recommendedDepositAmount}}),{changeModalState:$h})(ux);i(614);function dx(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function fx(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?dx(Object(n),!0).forEach((function(t){px(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):dx(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function px(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var mx=function(e){var t=e.isOpen,n=e.chartId,i=e.changeModalState,r=e.openDeal,a=e.time,o=e.payout_1,s=e.payout_5,c=e.amount,l=e.currency,u=e.assetsList,d=e.label,f=e.data,p=e.price,m=e.digits,y=e.levelsList,g=e.liveBalance,v=e.fixed?0:Md({levelsList:y,liveBalance:g}),b=xd({payout_1:o,payout_5:s,time:a,levelPercent:v}),E=(c+c*b/100).toFixed(2);if(!u&&!d&&!f)return!1;if(f&&!f.deal)return!1;var A=function(){i({modalId:Ss.CONFIRM_TRADE,value:!1,data:null})},w=Qe.a.utc(1e3*a).format("HH:mm:ss");return Lh.a.createElement(HN,{isOpen:t,closeButton:!0,onClose:A,title:h("Trade"),closeOnEsc:!0,closeOnOutsideClick:!1,classNameContainer:"modal-confirm-trade",footer:Lh.a.createElement(Lh.a.Fragment,null,Lh.a.createElement(Zh,{type:"success",size:"small",icon:"check",iconPosition:"before",onClick:function(){return function(e){e&&r({action:e.deal,chartId:n}),i({modalId:Ss.CONFIRM_TRADE,value:!1,data:null})}(f)}},h("Yes, confirm")),Lh.a.createElement(Zh,{type:"light",size:"small",onClick:A},h("No, cancel")))},Lh.a.createElement("dl",null,Lh.a.createElement("dt",null,h("Asset"),":"),Lh.a.createElement("dd",null,Lh.a.createElement(Nd,{flags:u}),Lh.a.createElement("span",null,d)),Lh.a.createElement("dt",null,h("Type"),":"),f&&"call"===f.deal?Lh.a.createElement("dd",{className:"text-success"},h("Up")):Lh.a.createElement("dd",{className:"text-danger"},h("Down")),Lh.a.createElement("dt",null,h("Rate of return"),":"),Lh.a.createElement("dd",null,b,"%"),Lh.a.createElement("dt",null,h("Investment"),":"),Lh.a.createElement("dd",null,ga({amount:c,currency:l})),Lh.a.createElement("dt",null,h("Your payout:")),Lh.a.createElement("dd",null,E," ",l),Lh.a.createElement("dt",null,h("Open Price"),":"),Lh.a.createElement("dd",null,function(e,t){return e.toFixed(t)}(p,m)),Lh.a.createElement("dt",null,h("Time"),":"),Lh.a.createElement("dd",null,w)),Lh.a.createElement("hr",null),Lh.a.createElement("p",null,h("Do you confirm this trade in {label} on {amount} in {time}?",d,ga({amount:c,currency:l}),w)))};mx.propTypes={isOpen:Jh.a.bool.isRequired},mx.defaultProps={isOpen:!1};var yx=Object(Gh.b)((function(e,t){var n=e.global,i=n.currency,r=n.levelsList,a=n.liveBalance,o=e.chartSettings.visibleChartIds[0],s=e.chartSettings.chartById[o],c=e.modals;return fx(fx({},t),{},{data:c.data,chartId:o,time:s?s.timePeriod:null,amount:s?s.dealValue:null,currency:i,assetsList:s?s.currentAsset.obj.assetsList:null,label:s?s.currentAsset.obj.label:null,payout_1:s?s.currentAsset.obj.payout_1:null,payout_5:s?s.currentAsset.obj.payout_5:null,price:s?s.currentAsset.price:null,digits:s?s.currentAsset.obj.digits:null,fixed:s?s.currentAsset.obj.fixed:0,levelsList:r,liveBalance:a})}),{changeModalState:$h,openDeal:Vu})(mx);i(616);function gx(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],i=!0,r=!1,a=void 0;try{for(var o,s=e[Symbol.iterator]();!(i=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);i=!0);}catch(e){r=!0,a=e}finally{try{i||null==s.return||s.return()}finally{if(r)throw a}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return vx(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return vx(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function vx(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var bx=function(e){var t=e.isOpen,n=e.changeModalState,i=e.liveBalance,r=e.currencyCode,a=e.currencies,o=e.exchangeRates,s=e.userExchangeCurrency,c=function(){n({modalId:Ss.CURRENCY_EXCHANGE,value:!1})},l=a.filter((function(e){return e!==r}));l.forEach((function(e,t){l[t]={value:e,label:e}}));var u=gx(Object(Bh.useState)(l[0].value),2),d=u[0],f=u[1],p=i*o[d],m=o[d]>=1?"1":ga({amount:1/o[d],currency:""}),y=o[d]<=1?"1":ga({amount:o[d],currency:""}),g="".concat(m," ").concat(r," = ").concat(y," ").concat(d),v=gx(Object(Bh.useState)(!1),2),b=v[0],E=v[1],A=function(e,t){E(e),t&&(c(),n({modalId:Ss.ERROR_MESSAGE,value:!0,data:{error:t}}))},w=function(e){switch(e){case"USD":return Lh.a.createElement(Pd,{country:"usd",className:"flag"});case"EUR":return Lh.a.createElement(Pd,{country:"eu",className:"flag"});case"RUB":return Lh.a.createElement(Pd,{country:"ru",className:"flag"});case"UAH":return Lh.a.createElement(Pd,{country:"ua",className:"flag"});case"GBP":return Lh.a.createElement(Pd,{country:"gb",className:"flag"});case"BRL":return Lh.a.createElement(Pd,{country:"br",className:"flag"});case"BTC":return Lh.a.createElement(Pd,{country:"btc",className:"flag"});case"KZT":return Lh.a.createElement(Pd,{country:"kz",className:"flag"});case"TRY":return Lh.a.createElement(Pd,{country:"tr",className:"flag"});case"IDR":return Lh.a.createElement(Pd,{country:"id",className:"flag"});case"INR":return Lh.a.createElement(Pd,{country:"in",className:"flag"});case"MYR":return Lh.a.createElement(Pd,{country:"my",className:"flag"});case"THB":return Lh.a.createElement(Pd,{country:"th",className:"flag"});case"VND":return Lh.a.createElement(Pd,{country:"vn",className:"flag"});case"NGN":return Lh.a.createElement(Pd,{country:"ng",className:"flag"});case"EGP":return Lh.a.createElement(Pd,{country:"eg",className:"flag"});case"MXN":return Lh.a.createElement(Pd,{country:"mx",className:"flag"});default:return Lh.a.createElement(Pd,{country:e,className:"flag"})}};return Lh.a.createElement(HN,{onClose:c,isOpen:t,closeButton:!0,closeButtonImage:!1,classNameContainer:"modal-currency-exchange",footer:Lh.a.createElement(Lh.a.Fragment,null,Lh.a.createElement(Zh,{type:"success",size:"small",icon:"check",iconPosition:"before",disabled:b,onClick:function(){s({setProgress:A,newCurrency:d,newBalance:p})}},h("Yes, confirm")),Lh.a.createElement(Zh,{type:"light",size:"small",disabled:b,onClick:c},h("No, cancel")))},Lh.a.createElement(Lh.a.Fragment,null,Lh.a.createElement("div",{className:"modal-currency-exchange__title"},h("Exchange Form")),Lh.a.createElement("div",{className:"modal-currency-exchange__currency"},Lh.a.createElement("fieldset",{className:"modal-currency-exchange__currency-my"},Lh.a.createElement("legend",null,h("My Currency:")),Lh.a.createElement("div",{className:"modal-currency-exchange__currency-my__icon"},w(r)),Lh.a.createElement("div",null,r)),Lh.a.createElement("div",{className:"modal-currency-exchange__currency-new"},Lh.a.createElement(kf,{type:"select",theme:"dark",label:h("New Currency:"),options:l,defaultValue:d,onChange:f,iconsProvider:w}))),Lh.a.createElement("div",{className:"modal-currency-exchange__block"},Lh.a.createElement("div",{className:"modal-currency-exchange__exchanging"},Lh.a.createElement("div",null,Lh.a.createElement("div",{className:"modal-currency-exchange__block-title"},h("You are exchanging"),":"),Lh.a.createElement("div",{className:"modal-currency-exchange__block-money"},ga({amount:i,currency:r}))),Lh.a.createElement("div",{className:"modal-currency-exchange__exchanging-circle"},Lh.a.createElement(Hh,{name:"modal-currency-exchange-"+r.toLowerCase()}))),Lh.a.createElement(Hh,{className:"modal-currency-exchange__vector",name:"modal-currency-exchange-vector"}),Lh.a.createElement("div",{className:"modal-currency-exchange__receive"},Lh.a.createElement("div",{className:"modal-currency-exchange__receive-circle"},Lh.a.createElement(Hh,{name:"modal-currency-exchange-"+d.toLowerCase()})),Lh.a.createElement("div",null,Lh.a.createElement("div",{className:"modal-currency-exchange__block-title"},h("You will receive"),":"),Lh.a.createElement("div",{className:"modal-currency-exchange__block-money"},ga({amount:p,currency:d}))))),Lh.a.createElement("div",{className:"modal-currency-exchange__text"},h("Exchange Fee"),": 0%. ",g)))};bx.propTypes={isOpen:Jh.a.bool},bx.defaultProps={isOpen:!0};var Ex=Object(Gh.b)((function(e){var t=e.global;return{uid:t.uid,country:t.country,liveBalance:t.liveBalance,currencyCode:t.currencyCode,currency:t.currency,currencies:t.currencies,exchangeRates:t.exchangeRates}}),{changeModalState:$h,userExchangeCurrency:function(e){return{type:"USER.EXCHANGE.CURRENCY",payload:e}}})(bx),Ax=(i(618),i(329)),wx=i.n(Ax),_x=function(e){var t=e.isOpen,n=e.changeModalState,i=e.userRefillDemo,r=e.currency,a=function(){n({modalId:Ss.REFILL_DEMO_WITHOUT_MONEY,value:!1})};return Lh.a.createElement(HN,{onClose:a,isOpen:t,closeButton:!0,image:"/trade-room/files/".concat(wx.a),closeButtonImage:!1,classNameContainer:"modal-ready__container",footer:Lh.a.createElement(Lh.a.Fragment,null,Lh.a.createElement(Zh,{type:"success",size:"small",icon:"check",iconPosition:"before",href:Yc("deposit")},h("Deposit funds")),Lh.a.createElement(Zh,{type:"light",size:"small",onClick:function(){i(),a()}},h("Refill demo {amount}",{amount:pa({amount:1e4,currency:r})})))},Lh.a.createElement("div",{className:"modal-ready__title"},h("Demo balance is less than {amount}",{amount:pa({amount:0,currency:r})})),Lh.a.createElement("div",{className:"modal-ready__text"},h("You are actively practising! Way to go! Try investing on a real account or refill your demo balance with {amount} for free.",{amount:pa({amount:1e4,currency:r})})),Lh.a.createElement("div",{className:"modal-ready__footnote"},h("Risk Warning: Trading on financial markets carries risks and may not be suitable for all investors due to the high risk of losing the capital. You should not risk more than you are prepared to lose.")))};_x.propTypes={isOpen:Jh.a.bool},_x.defaultProps={isOpen:!0};var Ox=Object(Gh.b)((function(e){return{currency:e.global.currency}}),{changeModalState:$h,userRefillDemo:Jc})(_x),Sx=(i(620),function(e){var t=e.isOpen,n=e.changeModalState,i=e.data,r=function(){n({modalId:Ss.ERROR_MESSAGE,value:!1})};return Lh.a.createElement(HN,{onClose:r,isOpen:t,closeButton:!0,closeButtonImage:!1,classNameContainer:"modal-error-message",footer:Lh.a.createElement(Lh.a.Fragment,null,Lh.a.createElement(Zh,{type:"danger",size:"small",icon:"check",iconPosition:"before",onClick:r},h("Ok, close")))},Lh.a.createElement(Lh.a.Fragment,null,Lh.a.createElement("div",{className:"modal-error-message__title"},h("Error!")),Lh.a.createElement("div",{className:"modal-error-message__text"},i.error)))});Sx.propTypes={isOpen:Jh.a.bool},Sx.defaultProps={isOpen:!0};var Cx=Object(Gh.b)(null,{changeModalState:$h})(Sx);i(622),i(624);function Tx(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],i=!0,r=!1,a=void 0;try{for(var o,s=e[Symbol.iterator]();!(i=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);i=!0);}catch(e){r=!0,a=e}finally{try{i||null==s.return||s.return()}finally{if(r)throw a}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return kx(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return kx(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function kx(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var Ix=Id(null,{subscribeMarketForecast:ll,unsubscribeMarketForecast:ul},Rd)((function(e){var t=e.chartId,n=e.symbol,i=e.forecast,r=e.subscribeMarketForecast,a=e.unsubscribeMarketForecast,o=Tx(Object(Bh.useState)(0),2),s=o[0],c=o[1],l=Tx(Object(Bh.useState)(0),2),u=l[0],d=l[1];return Object(Bh.useEffect)((function(){return r({chartId:t}),function(){a({chartId:t})}}),[n]),Object(Bh.useEffect)((function(){c(100-i),d(i)}),[i]),Lh.a.createElement("div",{className:"modal-pair-information__mood"},Lh.a.createElement("div",null,Lh.a.createElement("div",{className:"modal-pair-information__mood-title"},h(s<40?"Buy":s>60?"Sell":"Neutral")),Lh.a.createElement("div",{className:"modal-pair-information__mood-subtitle"},h("Traders’ Sentiment"))),Lh.a.createElement("div",{className:"modal-pair-information__mood-depth"},Lh.a.createElement("div",{className:"modal-pair-information__mood-value"},s,"%"),Lh.a.createElement("div",{className:"modal-pair-information__mood-ask",style:{width:"".concat(s,"%")}}),Lh.a.createElement("div",{className:"modal-pair-information__mood-bid",style:{width:"".concat(u,"%")}}),Lh.a.createElement("div",{className:"modal-pair-information__mood-value"},u,"%")))}));i(626);function Px(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],i=!0,r=!1,a=void 0;try{for(var o,s=e[Symbol.iterator]();!(i=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);i=!0);}catch(e){r=!0,a=e}finally{try{i||null==s.return||s.return()}finally{if(r)throw a}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Nx(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Nx(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Nx(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var xx=function(e){var t=e.symbol,n=e.assetId,i=e.changes,r=Px(Object(Bh.useState)(0),2),a=r[0],o=r[1],s=Object(Bh.useCallback)((function(e){o(e)}),[o]),c=[Qe.a.duration(5,"minutes").asSeconds(),Qe.a.duration(1,"hours").asSeconds(),Qe.a.duration(24,"hours").asSeconds(),Qe.a.duration(1,"months").asSeconds(),Qe.a.duration(1,"years").asSeconds()][a];return Lh.a.createElement("div",{className:"modal-pair-information__graph"},Lh.a.createElement("div",{className:"modal-pair-information__graph-header"},Lh.a.createElement("div",{className:"modal-pair-information__graph-tab ".concat(0===a?" active":""),onClick:function(){return s(0)}},Lh.a.createElement("div",{className:"modal-pair-information__graph-tab__subtitle"},h("5 min change")),Lh.a.createElement("div",{className:"modal-pair-information__graph-tab__title ".concat(i[0]<0?" -red":" -green")},(i[0]>0?"+":"")+i[0]+"%")),Lh.a.createElement("div",{className:"modal-pair-information__graph-tab ".concat(1===a?" active":""),onClick:function(){return s(1)}},Lh.a.createElement("div",{className:"modal-pair-information__graph-tab__subtitle"},h("60 min change")),Lh.a.createElement("div",{className:"modal-pair-information__graph-tab__title ".concat(i[1]<0?" -red":" -green")},(i[1]>0?"+":"")+i[1]+"%")),Lh.a.createElement("div",{className:"modal-pair-information__graph-tab ".concat(2===a?" active":""),onClick:function(){return s(2)}},Lh.a.createElement("div",{className:"modal-pair-information__graph-tab__subtitle"},h("1 day change")),Lh.a.createElement("div",{className:"modal-pair-information__graph-tab__title ".concat(i[2]<0?" -red":" -green")},(i[2]>0?"+":"")+i[2]+"%"))),Lh.a.createElement("div",{className:"modal-pair-information__graph-body",id:"modal-pair-information__graph-body"},Lh.a.createElement(pN,{symbol:t,assetId:n,duration:c,canvasId:"modal-pair-information__graph-body-canvas"})))},Rx=[{date:"24 September",week:"Thursday",time:"08:00 — 21:00",active:!0},{date:"25 September",week:"Friday",time:"08:00 — 21:00"},{date:"25 September",week:"Friday",time:"08:00 — 21:00"},{date:"25 September",week:"Friday",time:"08:00 — 21:00"},{date:"25 September",week:"Friday",time:"08:00 — 21:00"},{date:"25 September",week:"Friday",time:"08:00 — 21:00"},{date:"26 September",week:"Saturday",time:"Market closed"}],Dx=(i(628),function(e){var t=e.item;return Lh.a.createElement("div",{className:"modal-pair-information__trading-item ".concat(t.active?" active":"")},Lh.a.createElement("div",null,t.date),Lh.a.createElement("div",null,t.week),Lh.a.createElement("span",null,t.time))});function Mx(e){return(Mx="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Bx(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Lx(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function jx(e,t){return(jx=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Fx(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=Vx(e);if(t){var r=Vx(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return Gx(this,n)}}function Gx(e,t){return!t||"object"!==Mx(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Vx(e){return(Vx=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Hx(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Ux=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&jx(e,t)}(a,e);var t,n,i,r=Fx(a);function a(){return Bx(this,a),r.apply(this,arguments)}return t=a,(n=[{key:"componentDidMount",value:function(){var e=this;this.setState({schedule:null,symbol:this.props.symbol}),this.socket=Li.instance,this.onInstrumentsScheduleCallbackID=this.socket.addEventListener(I,(function(t){return e.onInstrumentsSchedule(t)})),this.socket.instrumentsSchedule(this.props.symbol)}},{key:"componentWillUnmount",value:function(){this.socket.removeEventListener(I,this.onInstrumentsScheduleCallbackID)}},{key:"onInstrumentsSchedule",value:function(e){this.setState({schedule:e.schedule})}},{key:"capitalizeFirstLetter",value:function(e){return e.charAt(0).toUpperCase()+e.slice(1)}},{key:"getCurrentWeek",value:function(e){for(var t=[],n=0;n<7;n++)t.push(Qe()().locale(e).add(n,"days").format("Do MMMM dddd"));return t}},{key:"parseTradingData",value:function(e,t){var n=this.getCurrentWeek("en")[t],i=n.slice(n.lastIndexOf(" ")+1,n.length),r=this.getCurrentWeek(this.props.lang)[t],a=parseInt(r.slice(0,r.indexOf(" "))).toString()+" "+this.capitalizeFirstLetter(r.slice(r.indexOf(" ")+1,r.lastIndexOf(" "))),o=r.slice(r.lastIndexOf(" ")+1,r.length),s=null;i.includes("Monday")?s=e[1]:i.includes("Tuesday")?s=e[2]:i.includes("Wednesday")?s=e[3]:i.includes("Thursday")?s=e[4]:i.includes("Friday")?s=e[5]:i.includes("Saturday")?s=e[6]:i.includes("Sunday")&&(s=e[0]);var c=s[1],l=s[2],u=s[3],d=s[4],f=c>0||l>0||u>0||d>0;f&&(0!==u&&24!==u||0!==d||(u=23,d=59));var p=this.props.timeZone,m=$e(Qe()(c+":"+l,"HH:mm").utc(!0).valueOf()/1e3,p,!0),y=$e(Qe()(u+":"+d,"HH:mm").utc(!0).valueOf()/1e3,p,!0),g=f?m+" - "+y:null;return{date:a,week:this.capitalizeFirstLetter(o),time:g||h("Market Closed"),openTime:m,closeTime:y,active:0===t}}},{key:"render",value:function(){var e=this;if(!this.state)return null;var t=this.props,n=t.changeModalState,i=t.chartId,r=t.forecast,a=t.currentAsset,o=t.isFavorites,s=t.price,c=t.symbol,l=t.assetId,u=this.state.schedule;if(!u)return null;var d=function(){n({modalId:Ss.PAIR_INFORMATION,value:!1})},f=this.parseTradingData(u,0),p=a.obj,m=[p.m5_change,p.h1_change,p.day_change,p.month1_change,p.year1_change,p.ytd_change,p.today_change];return Lh.a.createElement("div",{className:"modal-pair-information"},Lh.a.createElement("div",{className:"modal-pair-information__container"},Lh.a.createElement("div",{className:"modal-pair-information__close",onClick:d},Lh.a.createElement(Hh,{name:"close-white"})),Lh.a.createElement("div",null,Lh.a.createElement("div",{className:"modal-pair-information__header"},Lh.a.createElement("div",{className:"modal-pair-information__header-left"},Lh.a.createElement(Nd,{className:"modal-pair-information__header-flag flags",flags:a.obj.assetsList}),Lh.a.createElement("div",{className:"modal-pair-information__header-label"},a.obj.label),Lh.a.createElement("div",{className:"modal-pair-information__header-percent"},"".concat(a.obj.payout,"%")),o&&Lh.a.createElement(Hh,{name:"favorite-filled",className:"modal-pair-information__header-favorite"})),Lh.a.createElement("div",{className:"modal-pair-information__header-right"},f.active?Lh.a.createElement(Lh.a.Fragment,null,Lh.a.createElement("div",null,h("Open Now")),Lh.a.createElement("div",{className:"modal-pair-information__header-today"},"/ ",h("Closes today at {closeTime}",f.closeTime))):Lh.a.createElement("div",null,h("Market Closed")))),Lh.a.createElement("div",null,Lh.a.createElement("div",{className:"modal-pair-information__body-block"},Lh.a.createElement("div",{className:"modal-pair-information__body-session"},Lh.a.createElement("div",{className:"modal-pair-information__body-session__border"},Lh.a.createElement("div",{className:"modal-pair-information__body-label"},h("Price Now")),Lh.a.createElement("div",{className:"modal-pair-information__body-value"},s)),Lh.a.createElement("div",null,Lh.a.createElement("div",{className:"modal-pair-information__body-label"},h("Session Change")),Lh.a.createElement("div",{className:"modal-pair-information__body-value ".concat(m[6]<0?" red":" green")},(m[6]>0?"+":"")+m[6]+"%"))),Lh.a.createElement("div",{className:"modal-pair-information__body-button",onClick:d},Lh.a.createElement("div",null,h("Trade Now")),Lh.a.createElement(Hh,{name:"arrow-up-circle"}))),Lh.a.createElement(Ix,{chartId:i,symbol:a.symbol,forecast:r}),Lh.a.createElement("div",{className:"modal-pair-information__profit"},Lh.a.createElement("div",null,Lh.a.createElement("div",{className:"modal-pair-information__profit-title"},h("Minimum investment")),Lh.a.createElement("div",{className:"modal-pair-information__profit-content"},this.props.currency,this.props.minDealAmount)),Lh.a.createElement("div",null,Lh.a.createElement("div",{className:"modal-pair-information__profit-title"},h("Profit - 1 min")),Lh.a.createElement("div",{className:"modal-pair-information__profit-content green"},this.props.payout_1,"%")),Lh.a.createElement("div",null,Lh.a.createElement("div",{className:"modal-pair-information__profit-title"},h("Profit - 5+ min")),Lh.a.createElement("div",{className:"modal-pair-information__profit-content green"},this.props.payout_5,"%")),Lh.a.createElement("div",null,Lh.a.createElement("div",{className:"modal-pair-information__profit-title"},h("Expiry time")),Lh.a.createElement("div",{className:"modal-pair-information__profit-content"},h("1 min - 4 hour")))),Lh.a.createElement("div",{className:"modal-pair-information__body"},Lh.a.createElement("div",{className:"modal-pair-information__body-left"},Lh.a.createElement(xx,{symbol:c,assetId:l,changes:m}),Lh.a.createElement("div",{className:"modal-pair-information__body-left__footer"},Lh.a.createElement("div",null,Lh.a.createElement("span",{className:"modal-pair-information__body-left__footer-label"},h("1 month change"),":"),Lh.a.createElement("span",{className:"modal-pair-information__body-left__footer-value ".concat(m[3]<0?" red":" green")},(m[3]>0?"+":"")+m[3]+"%")),Lh.a.createElement("div",null,Lh.a.createElement("span",{className:"modal-pair-information__body-left__footer-label"},h("1 year change"),":"),Lh.a.createElement("span",{className:"modal-pair-information__body-left__footer-value ".concat(m[4]<0?" red":" green")},(m[4]>0?"+":"")+m[4]+"%")),Lh.a.createElement("div",null,Lh.a.createElement("span",{className:"modal-pair-information__body-left__footer-label"},h("YTD change"),":"),Lh.a.createElement("span",{className:"modal-pair-information__body-left__footer-value ".concat(m[5]<0?" red":" green")},(m[5]>0?"+":"")+m[5]+"%")))),Lh.a.createElement("div",{className:"modal-pair-information__body-right"},Lh.a.createElement("div",{className:"modal-pair-information__trading-title"},h("Trading Schedule"),Lh.a.createElement("div",{className:"modal-pair-information__trading-time"},"UTC")),Lh.a.createElement("div",{className:"modal-pair-information__trading-header"},Lh.a.createElement("div",null,h("Date")),Lh.a.createElement("div",null,h("Weekday")),Lh.a.createElement("div",null,h("Trading Time"))),u?Rx.map((function(t,n){return Lh.a.createElement(Dx,{item:e.parseTradingData(u,n),key:n})})):null))))))}}])&&Lx(t.prototype,n),i&&Lx(t,i),a}(Lh.a.PureComponent);Hx(Ux,"propTypes",{symbol:Jh.a.string,lang:Jh.a.string}),Hx(Ux,"defaultProps",{symbol:"EURUSD",lang:"en"});var Wx=Object(Gh.b)((function(e,t){var n=e.chartSettings.chartById.graph,i=n.currentAsset,r=(n.obj,e.favorites.list.filter((function(e){return e===i.symbol})).length),a=e.quotes.quoteBySymbol[i.symbol],o=a?a.price:0,s=e.global,c=s.minDealAmount,l=s.currency,u=s.timeZone;return{chartId:"graph",ownProps:t,forecast:am(e,{chartId:"graph"}),currentAsset:i,isFavorites:!!r,symbol:i.symbol,assetId:i.obj.id,lang:e.global.lang,price:o,minDealAmount:c,currency:l,timeZone:u,payout_1:i?i.obj.payout_1:null,payout_5:i?i.obj.payout_5:null}}),{changeModalState:$h})(Ux);i(630);function Yx(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],i=!0,r=!1,a=void 0;try{for(var o,s=e[Symbol.iterator]();!(i=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);i=!0);}catch(e){r=!0,a=e}finally{try{i||null==s.return||s.return()}finally{if(r)throw a}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Qx(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Qx(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Qx(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var Xx=function(e){var t=e.isOpen,n=e.changeModalState,i=e.data,r=e.changeNewPromocode,a=i&&i.promocode?i.promocode:"",o=Yx(Object(Bh.useState)(a),2),s=o[0],c=o[1],l=Yx(Object(Bh.useState)(""),2),u=l[0],d=l[1],f=Object(Bh.useRef)(),p=Yx(Object(Bh.useState)(""),2),m=p[0],y=p[1],g=Yx(Object(Bh.useState)(""),2),v=g[0],b=g[1],E=Object(Bh.useRef)(),A=Yx(Object(Bh.useState)(""),2),w=A[0],_=A[1],O=function(){n({modalId:Ss.FORM_PROMOCODE,value:!1}),w&&window.location.reload()},S=Object(Bh.useCallback)((function(e){if(u&&d(""),e.target.value.length>128)return!1;c(e.target.value)}),[c,u,d]),C=Object(Bh.useCallback)((function(e){v&&b(""),y(e.target.value)}),[y,v,b]),T=Object(Bh.useCallback)((function(e){var t=e.error,n=e.field,i=e.message;return t&&"promocode"===n?(d(i),f.current&&(f.current.classList.add("hover"),setTimeout((function(){f.current&&f.current.classList.remove("hover")}),2e3)),!1):t&&"ticket"===n?(b(i),E.current&&(E.current.classList.add("hover"),setTimeout((function(){E.current&&E.current.classList.remove("hover")}),2e3)),!1):_(i)}),[d,_,b]);return Lh.a.createElement(HN,{onClose:O,isOpen:t,closeButton:!0,closeButtonImage:!1,classNameContainer:"modal-promocode",footer:Lh.a.createElement(Lh.a.Fragment,null,Lh.a.createElement(Zh,{type:"success",size:"small",icon:"check",iconPosition:"before",onClick:function(){d(""),b(""),r({url:i.url,data:{promocode:s,ticket:m},setError:T})}},h("Yes, activate")),Lh.a.createElement(Zh,{type:"light",size:"small",onClick:O},h("Cancel")))},Lh.a.createElement(Lh.a.Fragment,null,Lh.a.createElement("div",{className:"".concat(w?"modal-promocode__opacity":"")},Lh.a.createElement("div",{className:"modal-promocode__icon"},Lh.a.createElement(Hh,{name:"modal-promocode-present"})),Lh.a.createElement("div",{className:"modal-promocode__title"},i.name),Lh.a.createElement("div",{className:"modal-promocode__text"},h("Enter your promo code now and activate it. You can use it at any time.")),Lh.a.createElement("label",{className:"input-control input-control--number input-control--dark  input-control--text-left modal-promocode__input modal-promocode__input-black ".concat(u?"input-control--invalid":"")},Lh.a.createElement("span",{className:"input-control__label"},h("Promo code:")),Lh.a.createElement("input",{id:"promocode",placeholder:"XXXXXXXXX",type:"text",className:"input-control__input",value:s,onChange:S,disabled:!!a}),!!a&&!u&&Lh.a.createElement("div",{className:"modal-promocode__check"},Lh.a.createElement(Hh,{name:"check-dark"})),!!u&&Lh.a.createElement("div",{className:"modal-promocode__error"},Lh.a.createElement(Hh,{name:"modal-promocode-error"}),Lh.a.createElement("div",{ref:f,className:"modal-promocode__error-tooltip"},u))),"risk-free"===i.url&&Lh.a.createElement("label",{className:"input-control input-control--number input-control--dark  input-control--text-left modal-promocode__input-black ".concat(v?"input-control--invalid":"")},Lh.a.createElement("span",{className:"input-control__label"},h("Trade ID (Optional):")),Lh.a.createElement("input",{id:"transaction-id",placeholder:h("Enter your ID..."),type:"text",className:"input-control__input",value:m,onChange:C}),!!v&&Lh.a.createElement("div",{className:"modal-promocode__error"},Lh.a.createElement(Hh,{name:"modal-promocode-error"}),Lh.a.createElement("div",{ref:E,className:"modal-promocode__error-tooltip"},v)))),!!w&&!u&&!v&&Lh.a.createElement(WN,{type:"success",onClickButton:O,buttonText:h("Ok, close window")},w)))};Xx.propTypes={isOpen:Jh.a.bool},Xx.defaultProps={isOpen:!0};var zx=Object(Gh.b)(null,{changeModalState:$h,changeNewPromocode:Qc})(Xx),Kx=(i(632),h("Deposit Bonus"),"deposit-bonus"),Jx=(h("Cashback"),"cashback"),qx=(h("Percentage of turnover"),"turnover");function Zx(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function $x(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Zx(Object(n),!0).forEach((function(t){eR(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Zx(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function eR(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var tR=function(e){var t=e.isOpen,n=e.data,i=(e.bonus,e.changeModalState);return Lh.a.createElement(HN,{onClose:function(){i({modalId:Ss.HISTORY_PROMOCODE,value:!1,data:{}})},isOpen:t,closeButton:!0,closeButtonImage:!1,classNameContainer:"modal-history-promocode"},Lh.a.createElement(Lh.a.Fragment,null,Lh.a.createElement("div",{className:"modal-history-promocode__header"},Lh.a.createElement("div",{className:"modal-history-promocode__header-icon",style:{backgroundColor:n.color}},Lh.a.createElement(Hh,{name:n.icon})),Lh.a.createElement("div",null,Lh.a.createElement("div",{className:"modal-history-promocode__header-title"},h("History")," ",n.name),Lh.a.createElement("div",{className:"modal-history-promocode__header-subtitle"},n.promocodes.length," ",f(n.promocodes.length,h("promocode"),h("promocodes2"),h("promocodes5"))))),Lh.a.createElement("div",{className:"modal-history-promocode__body-cap"},Lh.a.createElement("div",null,h("Promo code")),Lh.a.createElement("div",null,h("Status / Valid through")),Lh.a.createElement("div",{className:"-end"},h("Using"))),Lh.a.createElement("div",{className:"modal-history-promocode__body"},n.promocodes.map((function(e,t){var r=e.active_now||!e.activated&&e.date_active&&!e.expired,a=!e.activated&&(e.date_expired||e.expired),o="";e.active_now?o=h("Active"):r?o=h("Use it"):e.activated?o=h("Already used"):e.date_expired?o=h("Date expired"):e.expired&&(o=h("Expired"));var s=e.activated?Jx===n.url||qx===n.url:r,c=a?"danger":e.activated?"success":"";return Lh.a.createElement("div",{key:t,className:"modal-history-promocode__item"},Lh.a.createElement("div",{className:"modal-history-promocode__item-name"},e.label),Lh.a.createElement("div",{className:"modal-history-promocode__item-status"},Lh.a.createElement("div",{className:"modal-history-promocode__item-icon ".concat(c)},!a&&Lh.a.createElement(Hh,{name:"check-dark"}),!!a&&Lh.a.createElement(Hh,{name:"close-tiny"})),Qe()(e.date_activated||e.settings.date_to,"YYYY-MM-DD").format("DD.MM.YYYY")),o&&!(r&&e.hold)&&Lh.a.createElement("div",{className:"modal-history-promocode__item-using ".concat(s?"active":""),onClick:s?function(){return t=e,i({modalId:Ss.HISTORY_PROMOCODE,value:!1,data:{}}),void(Kx==n.url?window.location.href=Yc("deposit")+"?code="+t.settings.promocode:Jx==n.url?i({modalId:Ss.CASHBACK_INFORMATION,value:!0,data:$x($x({},t),{},{promocode:t.settings.promocode,url:n.url})}):qx==n.url?i({modalId:Ss.TURNOVER_INFORMATION,value:!0,data:$x($x({},t),{},{promocode:t.settings.promocode,url:n.url})}):i({modalId:Ss.FORM_PROMOCODE,value:!0,data:{name:n.name,promocode:t.settings.promocode,url:n.url}}));var t}:function(){}},o,!!s&&Lh.a.createElement(Hh,{name:"pager-next"})))})))))};tR.propTypes={isOpen:Jh.a.bool},tR.defaultProps={isOpen:!0};var nR=Object(Gh.b)((function(e){return{bonus:e.global.bonus}}),{changeModalState:$h})(tR),iR=(i(634),function(e){var t=e.isOpen,n=e.changeModalState,i=e.currency,r=e.reviewAmount;return Lh.a.createElement(HN,{onClose:function(){n({modalId:Ss.INFO_PROMOCODE,value:!1})},isOpen:t,closeButton:!0,closeButtonImage:!1,classNameContainer:"modal-promocode-info"},Lh.a.createElement(Lh.a.Fragment,null,Lh.a.createElement("div",{className:"modal-promocode-info__icon"},Lh.a.createElement(Hh,{name:"modal-promocode-present"})),Lh.a.createElement("div",{className:"modal-promocode-info__block"},Lh.a.createElement("div",{className:"modal-promocode-info__title"},h("Free risk for {amountCurrency} trade",r+i)),Lh.a.createElement("div",{className:"modal-promocode-info__free"},h("Free promo code")),Lh.a.createElement("div",{className:"modal-promocode-info__text"},h("Every day we do our best to make the platform faster and more comfortable to use."),Lh.a.createElement("br",null),h("Do you like it so far? Spread a word!")),Lh.a.createElement("div",{className:"modal-promocode-info__text"},h("Write a review about QUOTEX anywhere on the internet and get a free promo code to cancel any {amountCurrency} loss trade.",r+i)),Lh.a.createElement("div",{className:"modal-promocode-info__text"},h("Send the link to our customer support center and just wait for us to check it. You will be rewarded with a promo code.")),Lh.a.createElement("a",{href:Yc("support"),className:"modal-promocode-info__button"},Lh.a.createElement(Hh,{name:"promocode-help"}),h("Contact customer support")))))});iR.propTypes={isOpen:Jh.a.bool},iR.defaultProps={isOpen:!0};var rR=Object(Gh.b)((function(e){var t=e.global;return{currency:t.currency,reviewAmount:t.reviewAmount}}),{changeModalState:$h})(iR);i(636);function aR(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],i=!0,r=!1,a=void 0;try{for(var o,s=e[Symbol.iterator]();!(i=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);i=!0);}catch(e){r=!0,a=e}finally{try{i||null==s.return||s.return()}finally{if(r)throw a}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return oR(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return oR(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function oR(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var sR=function(e){var t=e.activeTab,n=e.onTabChange,i=e.onSearchTermChange,r=e.isMobile,a=e.isHideTradingUI?Ba.filter((function(e){return"cryptocurrency"!==e})):Ba,o=aR(Object(Bh.useState)(!1),2),s=o[0],c=o[1],l=Object(Bh.useRef)();return Object(Bh.useEffect)((function(){s&&!r&&l.current.focus()}),[s]),Lh.a.createElement("div",{className:"asset-select__search"+(s?" active":"")},Lh.a.createElement("div",{className:"asset-select__search-button"},Lh.a.createElement(Hh,{name:"search"})),Lh.a.createElement("input",{type:"text",className:"asset-select__search-input",placeholder:h("Search"),ref:l,onBlur:function(e){e.target.value.trim().length||c(!1)},onChange:function(e){e.target.value.trim().length&&(s?console.log("Do search :>> ",'"'.concat(l.current.value,'"')):(n("search"),c(!0))),e.target.value.trim().length||(n("currency"),c(!1)),i(e)},autoFocus:!r}),Lh.a.createElement("div",{className:"asset-select__search-filters "+(s?"":"active")},a.map((function(e){return Lh.a.createElement("button",{className:"asset-select__search-filter "+(t===e?"active":""),key:e,onClick:function(){return n(e)}},function(e){switch(e){case"stock":return h("Stocks");case"commodity":return h("Commodities");case"currency":return h("Currencies");case"cryptocurrency":return h("Crypto");case"favorites":return h("fav")}}(e))}))))};function cR(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],i=!0,r=!1,a=void 0;try{for(var o,s=e[Symbol.iterator]();!(i=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);i=!0);}catch(e){r=!0,a=e}finally{try{i||null==s.return||s.return()}finally{if(r)throw a}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return lR(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return lR(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function lR(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var uR=function(){return Lh.a.createElement("div",{className:"asset-select__empty"},Lh.a.createElement(Hh,{name:"coins"}),Lh.a.createElement("p",null,h("Nothing has been found for current query, try another asset name.")))},hR=function(e){var t=e.asset,n=e.onChangeSymbol,i=e.isFavorite,r=e.onFavoriteToggled,a=e.timeZone,o=e.levelPercent,s=e.isMobile,c=t.symbol,l=t.label,u=t.active,d=t.day_change,f=t.payout_1,p=t.payout_5,m=t.fixed,y=t.assetsList,g=Object(Bh.useRef)(),v=function(e){var t="";if(e){var n=Math.abs(e),i=Math.floor(n/3600),r=5*Math.round(n%3600/60/5);t=(e>0?"+":"-")+i,r&&(t+=":"+(r<10?"0":"")+r)}return t}(a),b=$e(21600,a,!0),E=$e(54e3,a,!0),A=h("From")+" "+b+" "+h("To")+" "+E+"  (UTC"+v+")",w=cR(Object(Bh.useState)(!1),2),_=w[0],O=w[1];return Lh.a.createElement("div",{className:"assets-table__item"+(u?"":" opacity")},Lh.a.createElement("div",{className:"assets-table__name",onClick:function(e){return function(e,t){if(g.current&&g.current.contains(e.target)&&s)return O(!_);O(!1),n(t)}(e,c)}},Lh.a.createElement(Nd,{className:"assets-table__flags flags",flags:y}),Lh.a.createElement("span",null,l),!!m&&Lh.a.createElement(Lh.a.Fragment,null,Lh.a.createElement("div",{className:"assets-table__fixed",ref:g},Lh.a.createElement(Hh,{name:"fix-price"}),Lh.a.createElement("div",{className:"assets-table__fixed-tooltip ".concat(_?"active":"")},Lh.a.createElement("div",null,h("Fixed profitability")),Lh.a.createElement("div",null,A))))),Lh.a.createElement("div",{className:"assets-table__change assets-table__change--".concat(d>=0?"up":"down")},Lh.a.createElement(Hh,{name:"arrow-".concat(d>=0?"up":"down")}),Lh.a.createElement("span",null,d,"%")),Lh.a.createElement("div",{className:"assets-table__percent text-center"},Lh.a.createElement("span",null,f+o,"%")),u&&Lh.a.createElement("div",{className:"assets-table__percent",onClick:function(){return r(c)}},Lh.a.createElement("span",null,p+o,"%"),Lh.a.createElement(Hh,{name:"favorite"+(i?"-filled":"")})))},dR=Object(Gh.b)((function(e){return{assetBySymbol:om(e),assetsSymbols:sm(e),favoriteSymbols:e.favorites.list,timeZone:e.global.timeZone,levelsList:e.global.levelsList,liveBalance:e.global.liveBalance,isMobile:e.global.isMobile}}))((function(e){var t,n,i,r=e.assetBySymbol,a=e.assetsSymbols,o=e.searchTerm,s=e.activeTab,c=e.assetSortType,l=e.onChangeSymbol,u=e.favoriteSymbols,d=e.onFavoriteToggled,f=e.onTabSort,p=e.timeZone,m=e.levelsList,y=e.liveBalance,g=e.isMobile,v=function(e,t,n,i){return t.slice().sort((function(t,i){if("fiveMinutes"===n){var r=e[t].payout_5,a=e[i].payout_5;return r===a?0:a-r}if("fiveMinutesAsc"===n){var o=e[t].payout_5,s=e[i].payout_5;return o===s?0:o-s}if("alphabetAsc"===n){var c=e[t].label,l=e[i].label;return c===l?0:c<l?1:-1}if("alphabet"===n){var u=e[t].label,h=e[i].label;return u===h?0:u<h?-1:1}if("changing"===n){var d=e[t].day_change,f=e[i].day_change;return d===f?0:f-d}if("changingAsc"===n){var p=e[t].day_change,m=e[i].day_change;return p===m?0:p-m}if("oneMinute"===n){var y=e[t].payout_1,g=e[i].payout_1;return y===g?0:g-y}if("oneMinuteAsc"===n){var v=e[t].payout_1,b=e[i].payout_1;return v===b?0:v-b}return 0})).sort((function(t){return e[t].active?-1:1})).sort((function(e){return i.includes(e)?-1:1})).map((function(t){return e[t]}))}(r,a,c,u);switch(s){case"search":t=function(e,t){return 0===t.length?e:e.filter((function(e){var n=e.symbol,i=e.label;return n.toLowerCase().includes(t)||i.toLowerCase().includes(t)}))}(v,o);break;case"favorites":t=function(e,t){return e.filter((function(e){var n=e.symbol;return t.includes(n)}))}(v,u);break;default:t=(n=cy()(v,(function(e){return e.type})),i={},Ba.forEach((function(e){n[e]&&(i[e]=n[e])})),i)[s]||[]}var b,E=(b=t).filter((function(e){var t=e.is_otc,n=e.active,i=e.otc_id,r=e.real_id;if(t&&!n||!t&&!n&&i>0)return!1;if(t&&r>0){var a=b.findIndex((function(e){return e.id===r}));if(a>=0&&b[a].active)return!1}return!0}));if(!E.length)return Lh.a.createElement(uR,null);var A=[],w=[],_=[];E.forEach((function(e){e.active?u.includes(e.symbol)?A.push(e):w.push(e):_.push(e)}));var O=Md({levelsList:m,liveBalance:y});return Lh.a.createElement("div",{className:"asset-select__content-wrapper"},Lh.a.createElement("div",{className:"asset-select__content"},Lh.a.createElement("div",{className:"assets-table"},Lh.a.createElement("div",{className:"assets-table__header"},Lh.a.createElement("div",{className:"assets-table__header-item"},Lh.a.createElement("a",{onClick:function(){return f("alphabet"===c?"alphabetAsc":"alphabet")}},h("Asset")),"alphabet"===c||"alphabetAsc"===c?Lh.a.createElement(Hh,{name:"sort-mark",rotate:"alphabetAsc"===c}):""),Lh.a.createElement("div",{className:"assets-table__header-item mobile-none"},Lh.a.createElement("a",{onClick:function(){return f("changing"===c?"changingAsc":"changing")}},h("24h changing")),"changingAsc"===c||"changing"===c?Lh.a.createElement(Hh,{name:"sort-mark",rotate:"changingAsc"===c}):""),Lh.a.createElement("div",{className:"assets-table__header-item -end"},Lh.a.createElement("a",{onClick:function(){return f("oneMinute"===c?"oneMinuteAsc":"oneMinute")}},h("Rev. from 1 min")),"oneMinute"===c||"oneMinuteAsc"===c?Lh.a.createElement(Hh,{name:"sort-mark",rotate:"oneMinuteAsc"===c}):""),Lh.a.createElement("div",{className:"assets-table__header-item -end"},Lh.a.createElement("a",{onClick:function(){return f("fiveMinutes"===c?"fiveMinutesAsc":"fiveMinutes")}},h("from 5 min")),"fiveMinutes"===c||"fiveMinutesAsc"===c?Lh.a.createElement(Hh,{name:"sort-mark",rotate:"fiveMinutesAsc"===c}):"")),A.map((function(e,t){return Lh.a.createElement(hR,{key:t,asset:e,onChangeSymbol:l,isFavorite:u.includes(e.symbol),onFavoriteToggled:d,timeZone:p,levelPercent:e.fixed?0:O,isMobile:g})})),!(!A.length||!w.length&&!_.length)&&Lh.a.createElement("hr",null),w.reverse().map((function(e,t){return Lh.a.createElement(hR,{key:t,asset:e,onChangeSymbol:l,isFavorite:u.includes(e.symbol),onFavoriteToggled:d,timeZone:p,levelPercent:e.fixed?0:O,isMobile:g})})),!(!w.length||!_.length)&&Lh.a.createElement("hr",null),_.map((function(e,t){return Lh.a.createElement(hR,{key:t,asset:e,onChangeSymbol:l,isFavorite:u.includes(e.symbol),onFavoriteToggled:d,timeZone:p,levelPercent:e.fixed?0:O,isMobile:g})})))))}));function fR(e){return(fR="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function pR(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function mR(e,t){return(mR=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function yR(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=bR(e);if(t){var r=bR(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return gR(this,n)}}function gR(e,t){return!t||"object"!==fR(t)&&"function"!=typeof t?vR(e):t}function vR(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function bR(e){return(bR=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ER(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var AR=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&mR(e,t)}(a,e);var t,n,i,r=yR(a);function a(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),ER(vR(t=r.call(this,e)),"onTabChange",(function(e){return t.setState({activeTab:e})})),ER(vR(t),"onTabSort",(function(e){return t.props.changeAssetSortType({sortType:e})})),ER(vR(t),"changeSymbol",(function(e){var n=t.props,i=n.chartId,r=n.changeSymbol,a=n.changeSymbolReplace,o=n.currentSymbol,s=n.changeTabFixedSymbols;r({symbol:e,chartId:i}),t.props.navigationSymbols.includes(e)||(a?(t.changeNavSymbol(o,e),s(o)):t.addNavSymbol(e)),t.props.toggleDropdown()})),ER(vR(t),"onSearchTermChange",(function(e){var n=e.target.value;t.setState({searchTerm:t.normalizeSearchString(n)})})),ER(vR(t),"normalizeSearchString",(function(e){return e.replace("/","").toLowerCase().trim()})),ER(vR(t),"onFavoriteToggled",(function(e){t.props.favoriteSymbols.includes(e)?t.removeFavorite(e):t.addFavorite(e)})),ER(vR(t),"addNavSymbol",(function(e){t.props.addNavSymbol(e)})),ER(vR(t),"changeNavSymbol",(function(e,n){t.props.changeNavSymbol({prevSymbol:e,symbol:n})})),ER(vR(t),"addFavorite",(function(e){t.props.addFavoriteSymbol(e)})),ER(vR(t),"removeFavorite",(function(e){t.props.removeFavoriteSymbol(e)})),t.state={activeTab:e.activeTab,searchTerm:""},t}return t=a,(n=[{key:"componentDidUpdate",value:function(e){e.isOpen!==this.props.isOpen&&this.props.isOpen&&this.setState({activeTab:this.props.activeTab})}},{key:"render",value:function(){var e=this.props,t=e.currentSymbol,n=e.isOpen,i=e.assetSortType,r=e.isMobile,a=e.isLandscape,o=e.isHideTradingUI,s=this.state.activeTab;return Lh.a.createElement("div",null,n&&Lh.a.createElement("div",{className:"asset-select__dropdown asset-select__dropdown--dark",ref:this.props.dropdownRef,style:{left:"".concat(this.props.offsetLeft,"px")}},r&&Lh.a.createElement("div",{className:"asset-select__dropdown__mobile-title"},h("Select trade pair"),Lh.a.createElement("div",{onClick:this.props.toggleDropdown},Lh.a.createElement(Hh,{name:"close",className:"asset-select__dropdown__mobile-close"}))),Lh.a.createElement("div",{className:"asset-select__dropdown__mobile-block"},Lh.a.createElement(sR,{activeTab:s,assetSortType:i,onTabChange:this.onTabChange,onSearchTermChange:this.onSearchTermChange,isMobile:r,isLandscape:a,isHideTradingUI:o}),Lh.a.createElement(dR,{searchTerm:this.state.searchTerm,activeTab:s,assetSortType:i,currentSymbol:t,onTabSort:this.onTabSort,onChangeSymbol:this.changeSymbol,onFavoriteToggled:this.onFavoriteToggled}))))}}])&&pR(t.prototype,n),i&&pR(t,i),a}(Lh.a.Component),wR=Id((function(e){return{currentSymbol:e.chartSettings.chartById.graph.currentAsset.symbol,favoriteSymbols:e.favorites.list,navigationSymbols:e.navigationSymbols.list,chartId:"graph",assetSortType:e.global.assetSortType,isMobile:e.global.isMobile,isLandscape:e.global.isLandscape,isHideTradingUI:e.global.isHideTradingUI}}),{changeSymbol:Lu,addFavoriteSymbol:function(e){return{type:"FAVORITES.NEW",payload:e}},addNavSymbol:ju,removeNavSymbol:Fu,changeNavSymbol:function(e){return{type:"NAVIGATION.CHANGE",payload:e}},removeFavoriteSymbol:function(e){return{type:"FAVORITES.REMOVE",payload:e}},changeAssetSortType:function(e){return{type:"SYMBOLS.SORT.CHANGE",payload:{sortType:e.sortType}}},changeTabFixedSymbols:Gu},Rd)(AR);function _R(){return(_R=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}var OR=function(e){var t=e.isOpen,n=e.data;return!n||n&&!n.toggleDropdown||n&&n.toggleDropdown&&"function"==typeof n.toggleDropdown==!1?null:Lh.a.createElement(HN,{isOpen:t,closeButton:!0,onClose:n.toggleDropdown,title:h("Select trade pair"),closeOnEsc:!0,closeOnOutsideClick:!1,className:"modal-assets-dropdown__container",classNameContainer:"modal-assets-dropdown"},Lh.a.createElement(wR,_R({isOpen:t},n)))};i(638);function SR(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],i=!0,r=!1,a=void 0;try{for(var o,s=e[Symbol.iterator]();!(i=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);i=!0);}catch(e){r=!0,a=e}finally{try{i||null==s.return||s.return()}finally{if(r)throw a}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return CR(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return CR(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function CR(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var TR=function(e){var t=function(e){var t={deadline:Qe()(e).format("X"),day:86400,left:0,calc:function(){t.left=t.deadline-Qe()().format("X")},countdown:function(){if(t.left<t.day)return ze(Math.max(t.left,0));var e=Math.floor(t.left/t.day);return"".concat(e," ").concat(f(e,h("day"),h("days2"),h("days5")))}},n={id:null,delay:60,callback:null,calc:function(){return n.delay!=(n.delay=t.left<20?1:t.left<t.day?5:60)},schedule:function(){(n.calc()||t.left<0||!n.id)&&(n.clear(),t.left>0&&(n.id=setInterval((function(){t.calc(),n.callback(t.left,t.countdown()),n.schedule()}),1e3*n.delay)))},clear:function(){n.id&&(n.id=clearInterval(n.id))}};return{start:function(e){e.apply&&(t.calc(),e(t.left,t.countdown()),n.callback=e,n.schedule())},stop:function(){n.clear()},countdown:t.countdown}}(e.datetime),n=SR(Object(Bh.useState)(t.countdown()),2),i=n[0],r=n[1];return Object(Bh.useEffect)((function(){return t.start((function(e,t){r(t)})),function(){t.stop()}})),Lh.a.createElement(Lh.a.Fragment,null,i)},kR=Object(Bl.a)((function(e,t){var n,i,r;return null!==(n=null===(i=e.global.promocodes)||void 0===i?void 0:i.find((function(e){return e.id===t})))&&void 0!==n?n:null===(r=e.global.activePromocodes)||void 0===r?void 0:r.find((function(e){return e.id===t}))}),(function(e){return e}));function IR(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],i=!0,r=!1,a=void 0;try{for(var o,s=e[Symbol.iterator]();!(i=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);i=!0);}catch(e){r=!0,a=e}finally{try{i||null==s.return||s.return()}finally{if(r)throw a}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return PR(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return PR(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function PR(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var NR=function(e){var t=Object(Gh.c)(),n=IR(Object(Bh.useState)(null),2),i=n[0],r=n[1],a=IR(Object(Bh.useState)(""),2),o=a[0],s=a[1],c=IR(Object(Bh.useState)(""),2),l=c[0],u=c[1],d=e.data.id;Object(Bh.useEffect)((function(){d&&(r(e.data.url),t(el(d)))}),[d]);var f=Object(Gh.d)((function(e){return kR(e,d)})),p=function(){t($h({modalId:Ss.CASHBACK_INFORMATION,value:!1,data:null})),o&&window.location.reload()},m=!f.activated&&f.date_active&&!f.expired,y=!f.activated&&(f.date_expired||f.expired),g="";f.active_now?g=h("Active now"):m?g=h("Activate"):f.activated?g=h("Already used"):f.date_expired?g=h("Date expired"):f.expired&&(g=h("Expired"));var v=Object(Bh.useCallback)((function(e){var t=e.error,n=e.field,i=e.message;return t&&"promocode"===n?(u(i),!1):s(i)}),[u,s]);return Lh.a.createElement(HN,{onClose:p,isOpen:!0,closeButton:!0,closeButtonImage:!1,classNameContainer:"modal-cashback-information ".concat(l||o?"not-active":"")},Lh.a.createElement(Lh.a.Fragment,null,Lh.a.createElement("div",{className:"".concat(l||o?"opacity":"")},Lh.a.createElement("div",{className:"modal-cashback-information__header"},Lh.a.createElement("div",{className:"modal-cashback-information__header-icon"},Lh.a.createElement(Hh,{name:"market-cashback"})),Lh.a.createElement("div",null,Lh.a.createElement("div",{className:"modal-cashback-information__header-title"},h("Cashback Information")),Lh.a.createElement("div",{className:"modal-cashback-information__header-promo"},f.settings.promocode))),Lh.a.createElement("div",{className:"modal-cashback-information__body"},Lh.a.createElement("div",{className:"modal-cashback-information__body-block"},Lh.a.createElement("div",{className:"modal-cashback-information__body-block__title"},h("{percent}% of loss",{percent:f.settings.param1})),m&&Lh.a.createElement("div",{className:"modal-cashback-information__body-block__button",onClick:function(){u(""),t(Qc({url:i,data:{promocode:f.settings.promocode,activate:!0},setError:v}))},style:{cursor:"pointer"}},g),!m&&Lh.a.createElement("div",{className:"modal-cashback-information__body-block__button not-active"},!(!f.activated&&!y)&&Lh.a.createElement("div",{className:"modal-cashback-information__body-block__button-icon"},f.activated&&Lh.a.createElement(Hh,{name:"check-tiny"}),!!y&&Lh.a.createElement(Hh,{name:"close-tiny"})),g),!f.activated&&Lh.a.createElement(Lh.a.Fragment,null,Lh.a.createElement("div",{className:"modal-cashback-information__body-block__date"},Lh.a.createElement("div",{className:"modal-cashback-information__body-block__label"},h("Expires:")),Lh.a.createElement("div",null,Qe()(f.settings.date_to,"YYYY-MM-DD").format("DD.MM.YYYY"))),Lh.a.createElement("div",{className:"modal-cashback-information__body-block__date"},Lh.a.createElement("div",{className:"modal-cashback-information__body-block__label"},h("Validity:")),Lh.a.createElement("div",null,ze(60*f.settings.param2)))),!!f.activated&&Lh.a.createElement(Lh.a.Fragment,null,!!f.date_activated&&Lh.a.createElement("div",{className:"modal-cashback-information__body-block__date"},Lh.a.createElement("div",{className:"modal-cashback-information__body-block__label"},h("Activated:")),Lh.a.createElement("div",null,Qe()(f.date_activated,"YYYY-MM-DD").format("DD.MM.YYYY"))),!!f.active_now&&Lh.a.createElement("div",{className:"modal-cashback-information__body-block__date"},Lh.a.createElement("div",{className:"modal-cashback-information__body-block__label"},h("Remaining:")),Lh.a.createElement("div",null,Lh.a.createElement(TR,{datetime:Qe()(f.date_execute,"YYYY-MM-DD hh:mm:ss").subtract(60*(new Date).getTimezoneOffset(),"seconds")}))))),Lh.a.createElement("div",{className:"modal-cashback-information__body-cashback"},!!f.activated&&Lh.a.createElement("div",{className:"modal-cashback-information__body-losses"},f.cashback.amount<0?pa({amount:f.cashback.amount,currency:"$"}):h("No losses"),Lh.a.createElement("div",{className:"modal-cashback-information__body-losses__icon"},Lh.a.createElement(Hh,{name:"modal-cashback-question"}),Lh.a.createElement("div",{className:"modal-cashback-information__body-tooltip"},!!f.active_now&&f.cashback.amount>=0&&h("The current trading result during the validity period of the promo code — cashback is not accumulating."),!!f.active_now&&f.cashback.amount<0&&h("The current trading result during the validity period of the promo code — cashback is accumulating."),!f.active_now&&h("The trading result during the validity period of the promo code.")))),Lh.a.createElement("div",{className:"modal-cashback-information__body-cashback__block"},Lh.a.createElement("div",{className:"modal-cashback-information__body-cashback__sum"},ma({amount:f.cashback.cashback,currency:"$"})),Lh.a.createElement(Hh,{className:"modal-cashback-information__body-cashback__icon",name:"market-cashback"}),Lh.a.createElement("div",{className:"modal-cashback-information__body-cashback__text"},h("Cashback"))))),!(f.deposited&&f.date_deposited)&&Lh.a.createElement("div",{className:"modal-cashback-information__footer"},Lh.a.createElement(Hh,{name:"info-cirle"}),Lh.a.createElement("div",{className:"modal-cashback-information__footer-text"},h("Your cashback will be credited to your account only at the end of the promo code validity period")))),o&&Lh.a.createElement(WN,{type:"success",onClickButton:p,buttonText:h("Ok, close window")},o),l&&Lh.a.createElement(WN,{type:"warning",onClickButton:p,buttonText:h("Ok, close window")},l)))};i(640);function xR(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],i=!0,r=!1,a=void 0;try{for(var o,s=e[Symbol.iterator]();!(i=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);i=!0);}catch(e){r=!0,a=e}finally{try{i||null==s.return||s.return()}finally{if(r)throw a}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return RR(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return RR(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function RR(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var DR=function(e){var t=Object(Gh.c)(),n=xR(Object(Bh.useState)(null),2),i=n[0],r=n[1],a=xR(Object(Bh.useState)(""),2),o=a[0],s=a[1],c=xR(Object(Bh.useState)(""),2),l=c[0],u=c[1],d=e.data.id;Object(Bh.useEffect)((function(){d&&(r(e.data.url),t(el(d)))}),[d]);var f=Object(Gh.d)((function(e){return kR(e,d)})),p=function(){t($h({modalId:Ss.TURNOVER_INFORMATION,value:!1,data:null})),o&&window.location.reload()},m=!f.activated&&f.date_active&&!f.expired,y=!f.activated&&(f.date_expired||f.expired),g="";f.active_now?g=h("Active now"):m?g=h("Activate"):f.activated?g=h("Already used"):f.date_expired?g=h("Date expired"):f.expired&&(g=h("Expired"));var v=Object(Bh.useCallback)((function(e){var t=e.error,n=e.field,i=e.message;return t&&"promocode"===n?(u(i),!1):s(i)}),[u,s]);return Lh.a.createElement(HN,{onClose:p,isOpen:!0,closeButton:!0,closeButtonImage:!1,classNameContainer:"modal-turnover-information ".concat(l||o?"not-active":"")},Lh.a.createElement(Lh.a.Fragment,null,Lh.a.createElement("div",{className:"".concat(l||o?"opacity":"")},Lh.a.createElement("div",{className:"modal-turnover-information__header"},Lh.a.createElement("div",{className:"modal-turnover-information__header-icon",style:{background:"#d04ac3"}},Lh.a.createElement(Hh,{name:"market-procent"})),Lh.a.createElement("div",null,Lh.a.createElement("div",{className:"modal-turnover-information__header-title"},h("Percentage of turnover")),Lh.a.createElement("div",{className:"modal-turnover-information__header-promo"},f.settings.promocode))),Lh.a.createElement("div",{className:"modal-turnover-information__body"},Lh.a.createElement("div",{className:"modal-turnover-information__body-block"},Lh.a.createElement("div",{className:"modal-turnover-information__body-block__title"},h("{percent}% of turnover",{percent:f.settings.param1})),m&&Lh.a.createElement("div",{className:"modal-turnover-information__body-block__button",onClick:function(){u(""),t(Qc({url:i,data:{promocode:f.settings.promocode,activate:!0},setError:v}))},style:{cursor:"pointer"}},g),!m&&Lh.a.createElement("div",{className:"modal-turnover-information__body-block__button not-active"},!(!f.activated&&!y)&&Lh.a.createElement("div",{className:"modal-turnover-information__body-block__button-icon"},f.activated&&Lh.a.createElement(Hh,{name:"check-tiny"}),!!y&&Lh.a.createElement(Hh,{name:"close-tiny"})),g),!f.activated&&Lh.a.createElement(Lh.a.Fragment,null,Lh.a.createElement("div",{className:"modal-turnover-information__body-block__date"},Lh.a.createElement("div",{className:"modal-turnover-information__body-block__label"},h("Expires:")),Lh.a.createElement("div",null,Qe()(f.settings.date_to,"YYYY-MM-DD").format("DD.MM.YYYY"))),Lh.a.createElement("div",{className:"modal-cashback-information__body-block__date"},Lh.a.createElement("div",{className:"modal-cashback-information__body-block__label"},h("Validity:")),Lh.a.createElement("div",null,ze(60*f.settings.param2)))),!!f.activated&&Lh.a.createElement(Lh.a.Fragment,null,!!f.date_activated&&Lh.a.createElement("div",{className:"modal-turnover-information__body-block__date"},Lh.a.createElement("div",{className:"modal-turnover-information__body-block__label"},h("Activated:")),Lh.a.createElement("div",null,Qe()(f.date_activated,"YYYY-MM-DD").format("DD.MM.YYYY"))),!!f.active_now&&Lh.a.createElement("div",{className:"modal-turnover-information__body-block__date"},Lh.a.createElement("div",{className:"modal-turnover-information__body-block__label"},h("Remaining:")),Lh.a.createElement("div",null,Lh.a.createElement(TR,{datetime:Qe()(f.date_execute,"YYYY-MM-DD hh:mm:ss").subtract(60*(new Date).getTimezoneOffset(),"seconds")}))))),Lh.a.createElement("div",{className:"modal-turnover-information__body-cashback"},!!f.activated&&Lh.a.createElement("div",{className:"modal-turnover-information__body-losses"},pa({amount:f.cashback.amount,currency:"$"}),Lh.a.createElement("div",{className:"modal-turnover-information__body-losses__icon"},Lh.a.createElement(Hh,{name:"modal-cashback-question"}),Lh.a.createElement("div",{className:"modal-turnover-information__body-tooltip"},!!f.active_now&&h("The current trading turnover during the validity period of the promo code."),!f.active_now&&h("The trading turnover during the validity period of the promo code.")))),Lh.a.createElement("div",{className:"modal-turnover-information__body-cashback__block"},Lh.a.createElement("div",{className:"modal-turnover-information__body-cashback__sum"},ma({amount:f.cashback.cashback,currency:"$"})),Lh.a.createElement(Hh,{className:"modal-turnover-information__body-cashback__icon",name:"market-cashback"}),Lh.a.createElement("div",{className:"modal-turnover-information__body-cashback__text"},h("Cashback"))))),!(f.deposited&&f.date_deposited)&&Lh.a.createElement("div",{className:"modal-turnover-information__footer"},Lh.a.createElement(Hh,{name:"info-cirle"}),Lh.a.createElement("div",{className:"modal-turnover-information__footer-text"},h("Your cashback will be credited to your account only at the end of the promo code validity period")))),o&&Lh.a.createElement(WN,{type:"success",onClickButton:p,buttonText:h("Ok, close window")},o),l&&Lh.a.createElement(WN,{type:"warning",onClickButton:p,buttonText:h("Ok, close window")},l)))},MR=(i(642),Object(Gh.b)(null,{changeModalState:$h})((function(e){var t=e.changeModalState,n=e.data;if(!n)return!1;var i=n.level,r=n.levelsList,a=n.currency;return Lh.a.createElement(HN,{onClose:function(){t({modalId:Ss.ACCOUNT_LEVELS,value:!1,data:null})},isOpen:!0,closeButton:!0,closeButtonImage:!1,classNameContainer:"modal-account-levels"},Lh.a.createElement(Lh.a.Fragment,null,Lh.a.createElement("div",{className:"modal-account-levels__header"},Lh.a.createElement("div",{className:"modal-account-levels__header-icon"},Lh.a.createElement(Hh,{name:"information"})),Lh.a.createElement("div",{className:"modal-account-levels__header-title"},h("Account levels"))),Lh.a.createElement("div",null,Lh.a.createElement("div",{className:"modal-account-levels__item ".concat("standart"===i?"active":"")},Lh.a.createElement("div",{className:"modal-account-levels__item-block"},Lh.a.createElement("div",{className:"modal-account-levels__item-icon__default"},Lh.a.createElement(Hh,{name:"modal-bonus-level-standart"})),Lh.a.createElement("div",{className:"modal-account-levels__item-status"},h("standart"===i?"Active":"Inactive"))),Lh.a.createElement("div",null,Lh.a.createElement("div",{className:"modal-account-levels__item-title"},Lh.a.createElement("div",{className:"modal-account-levels__item-title__text"},h("Standart"))),Lh.a.createElement("div",{className:"modal-account-levels__item-subtitle"},h("Level for beginners")),Lh.a.createElement("div",{className:"modal-account-levels__item-bonus"},Lh.a.createElement("div",{className:"modal-account-levels__item-bonus__label pro"},Lh.a.createElement(Hh,{name:"modal-bonus-label-percent"})),Lh.a.createElement("div",{className:"modal-account-levels__item-bonus__value"},h("Basic percentage of profitability for all instruments"))))),Lh.a.createElement("div",{className:"modal-account-levels__item ".concat("pro"===i?"active":"")},Lh.a.createElement("div",{className:"modal-account-levels__item-block"},Lh.a.createElement("div",{className:"modal-account-levels__item-icon"},Lh.a.createElement(Hh,{name:"modal-bonus-level-pro"}),Lh.a.createElement("div",{className:"modal-account-levels__item-icon__profit pro"},"+2%")),Lh.a.createElement("div",{className:"modal-account-levels__item-status"},h("pro"===i?"Active":"Inactive"))),Lh.a.createElement("div",null,Lh.a.createElement("div",{className:"modal-account-levels__item-title"},Lh.a.createElement("div",{className:"modal-account-levels__item-title__text"},h("Pro")),Lh.a.createElement("div",{className:"modal-account-levels__item-title__balance"},h("Balance from {amount}",ga({amount:r[1],currency:a})))),Lh.a.createElement("div",{className:"modal-account-levels__item-subtitle"},h("Level for casual traders")),Lh.a.createElement("div",{className:"modal-account-levels__item-bonus"},Lh.a.createElement("div",{className:"modal-account-levels__item-bonus__label pro"},"+2%"),Lh.a.createElement("div",{className:"modal-account-levels__item-bonus__value"},h("Increased percentage of profitability for all instruments"))),Lh.a.createElement("div",{className:"modal-account-levels__item-bonus"},Lh.a.createElement("div",{className:"modal-account-levels__item-bonus__label pro"},Lh.a.createElement(Hh,{name:"modal-bonus-label"})),Lh.a.createElement("div",{className:"modal-account-levels__item-bonus__value"},h("Promo codes from the market in mailings and promotions"))))),Lh.a.createElement("div",{className:"modal-account-levels__item ".concat("vip"===i?"active":"")},Lh.a.createElement("div",{className:"modal-account-levels__item-block"},Lh.a.createElement("div",{className:"modal-account-levels__item-icon"},Lh.a.createElement(Hh,{name:"modal-bonus-level-vip"}),Lh.a.createElement("div",{className:"modal-account-levels__item-icon__profit vip"},"+4%")),Lh.a.createElement("div",{className:"modal-account-levels__item-status"},h("vip"===i?"Active":"Inactive"))),Lh.a.createElement("div",null,Lh.a.createElement("div",{className:"modal-account-levels__item-title"},Lh.a.createElement("div",{className:"modal-account-levels__item-title__text"},h("Vip")),Lh.a.createElement("div",{className:"modal-account-levels__item-title__balance"},h("Balance from {amount}",ga({amount:r[2],currency:a})))),Lh.a.createElement("div",{className:"modal-account-levels__item-subtitle"},h("Level for professional traders")),Lh.a.createElement("div",{className:"modal-account-levels__item-bonus"},Lh.a.createElement("div",{className:"modal-account-levels__item-bonus__label vip"},"+4%"),Lh.a.createElement("div",{className:"modal-account-levels__item-bonus__value"},h("Increased percentage of profitability for all instruments"))),Lh.a.createElement("div",{className:"modal-account-levels__item-bonus"},Lh.a.createElement("div",{className:"modal-account-levels__item-bonus__label vip"},Lh.a.createElement(Hh,{name:"modal-bonus-label"})),Lh.a.createElement("div",{className:"modal-account-levels__item-bonus__value"},h("Promo codes from the market in mailings and promotions"))))))))}))),BR=(i(644),Object(Gh.b)((function(e,t){var n=t.data,i=e.assets,r=i.assetBySymbol,a=i.symbols,o=!!n.asset&&n.asset.symbol;o||(o=n.asset.id);var s=null;return a.includes(o)&&(s=r[o]),{asset:s}}),{changeModalState:$h})((function(e){var t=e.changeModalState,n=e.data,i=e.asset,r=n.deal,a=n.timeZone,o=i.assetsList,s=i.label,c=i.digits,l=r.command,u=r.id,d=r.amount,f=r.profit,p=r.currency,m=r.openPrice,y=r.closePrice,g=ly(p),v=qe(r.openTimestamp,a,!0),b=qe(r.closeTimestamp,a,!0),E=et(r.closeTimestamp-r.openTimestamp),A=Math.round(y*Math.pow(10,c)-m*Math.pow(10,c)),w=r.closeTimestamp-r.openTimestamp+(r.closeTimestamp-r.openTimestamp)/100*30,_=r.closeTimestamp+(r.closeTimestamp-r.openTimestamp)/100*5;return Lh.a.createElement(HN,{onClose:function(){t({modalId:Ss.TRADE_INFORMATION,value:!1,data:null})},isOpen:!0,closeButton:!0,closeButtonImage:!1,classNameContainer:"modal-trade-information"},Lh.a.createElement(Lh.a.Fragment,null,Lh.a.createElement("div",{className:"modal-trade-information__title"},Lh.a.createElement("div",null,h("Trade ID")),Lh.a.createElement("div",{className:"modal-trade-information__subtitle"},r.id)),Lh.a.createElement("div",{className:"modal-trade-information__block"},Lh.a.createElement("div",{className:"modal-trade-information__item"},Lh.a.createElement("div",{className:"modal-trade-information__label"},h("Asset"),":"),Lh.a.createElement("div",{className:"modal-trade-information__item-content"},Lh.a.createElement(Nd,{flags:o,className:"modal-trade-information__item-flags"}),Lh.a.createElement("div",null,s))),Lh.a.createElement("div",{className:"modal-trade-information__item"},Lh.a.createElement("div",{className:"modal-trade-information__label"},h("Type"),":"),Lh.a.createElement("div",{className:"modal-trade-information__item-content"},Lh.a.createElement(Hh,{name:"arrow-".concat(by(l)?"up":"down","-circle"),className:"modal-trade-information__circle + ".concat(by(l)?"up":"down")}),pa({amount:d,currency:g}))),Lh.a.createElement("div",{className:"modal-trade-information__item"},Lh.a.createElement("div",{className:"modal-trade-information__label"},h("Duration"),":"),Lh.a.createElement("div",{className:"modal-trade-information__item-content"},E)),Lh.a.createElement("div",{className:"modal-trade-information__item"},Lh.a.createElement("div",{className:"modal-trade-information__label"},h("Result"),":"),Lh.a.createElement("div",{className:"modal-trade-information__item-content ".concat(f>=0?"up":"down")},da({profit:f,amount:d,currency:g})))),Lh.a.createElement("div",{className:"modal-trade-information__mobile"},Lh.a.createElement("div",{className:"modal-trade-information__mobile-block"},Lh.a.createElement("div",{className:"modal-trade-information__mobile-item"},Lh.a.createElement(Nd,{flags:o,className:"modal-trade-information__item-flags"})),Lh.a.createElement("div",{className:"modal-trade-information__mobile-item"},Lh.a.createElement(Hh,{name:"arrow-".concat(by(l)?"up":"down","-circle"),className:"modal-trade-information__circle + ".concat(by(l)?"up":"down")}),pa({amount:d,currency:g}))),Lh.a.createElement("div",{className:"modal-trade-information__mobile-block"},Lh.a.createElement("div",null,Lh.a.createElement("span",{className:"modal-trade-information__mobile-label"},h("Duration"),":"),Lh.a.createElement("span",{className:"modal-trade-information__mobile-value"},E)),Lh.a.createElement("div",null,Lh.a.createElement("span",{className:"modal-trade-information__mobile-label"},h("Result"),":"),Lh.a.createElement("span",{className:"modal-trade-information__mobile-value + ".concat(by(l)?"up":"down")},da({profit:f,amount:d,currency:g}))))),Lh.a.createElement("div",{className:"modal-trade-information__graph-body",id:"modal-trade-information__graph-body-".concat(u)},Lh.a.createElement(pN,{assetId:i.id,canvasId:"modal-trade-information__graph-body-canvas-".concat(u),deal:r,duration:w,endTime:_,topMargin:20,bottomMargin:20,allowHide:!1})),Lh.a.createElement("div",{className:"modal-trade-information__block"},Lh.a.createElement("div",{className:"modal-trade-information__item"},Lh.a.createElement("div",{className:"modal-trade-information__label"},h("Opening quote"),":"),Lh.a.createElement("div",{className:"modal-trade-information__value"},r.openPrice),Lh.a.createElement("div",{className:"modal-trade-information__text"},v)),Lh.a.createElement("div",{className:"modal-trade-information__item"},Lh.a.createElement("div",{className:"modal-trade-information__label"},h("Closing quote"),":"),Lh.a.createElement("div",{className:"modal-trade-information__value"},r.closePrice),Lh.a.createElement("div",{className:"modal-trade-information__text"},b)),Lh.a.createElement("div",{className:"modal-trade-information__item"},Lh.a.createElement("div",{className:"modal-trade-information__label"},h("Difference"),":"),Lh.a.createElement("div",{className:"modal-trade-information__value"},A+" "+h("points")))),Lh.a.createElement("div",{className:"modal-trade-information__mobile-time"},Lh.a.createElement("div",{className:"modal-trade-information__mobile-date"},Lh.a.createElement("div",{className:"modal-trade-information__label"},h("Opening quote"),":"),Lh.a.createElement("div",{className:"modal-trade-information__value"},r.openPrice),Lh.a.createElement("div",{className:"modal-trade-information__text"},v)),Lh.a.createElement("div",{className:"modal-trade-information__mobile-date"},Lh.a.createElement("div",{className:"modal-trade-information__label"},h("Closing quote"),":"),Lh.a.createElement("div",{className:"modal-trade-information__value"},r.closePrice),Lh.a.createElement("div",{className:"modal-trade-information__text"},b))),Lh.a.createElement("div",{className:"modal-trade-information__mobile-difference"},Lh.a.createElement("div",{className:"modal-trade-information__label"},h("Difference"),":"),Lh.a.createElement("div",{className:"modal-trade-information__value"},A+" "+h("points")))))}))),LR=(i(646),function(){return Lh.a.createElement("div",{className:"mobile-trade-list"},Lh.a.createElement(PN,{className:"mobile-trade-list__list"}))}),jR=(i(648),i(330)),FR=i.n(jR),GR=function(e){var t=e.isOpen,n=Object(Gh.c)(),i=Object(Gh.d)((function(e){return e.global.telegramChat}));return Lh.a.createElement(HN,{onClose:function(){n($h({modalId:Ss.JOIN_TELEGRAM,value:!1}))},isOpen:t,closeButton:!0,closeButtonImage:!1,classNameContainer:"modal-join-telegram"},Lh.a.createElement(Lh.a.Fragment,null,Lh.a.createElement("img",{className:"modal-join-telegram__bg",src:"/trade-room/files/".concat(FR.a),alt:"bg"}),Lh.a.createElement("div",{className:"modal-join-telegram__container"},Lh.a.createElement("div",{className:"modal-join-telegram__header"},Lh.a.createElement("div",{className:"modal-join-telegram__header-icon"},Lh.a.createElement(Hh,{name:"telegram-modal"})),Lh.a.createElement("div",null,h("Join us!"))),Lh.a.createElement("a",{href:"https://t.me/".concat(i),target:"_blank",className:"modal-join-telegram__telegram"},"@".concat(i)),Lh.a.createElement("div",{className:"modal-join-telegram__block"},h("Subscribe to our official Telegram channel.")),Lh.a.createElement("a",{className:"modal-join-telegram__button",href:"https://t.me/".concat(i),target:"_blank"},Lh.a.createElement(Hh,{name:"check"}),h("Join now")))))};var VR=Object(Gh.b)((function(e){return{modals:e.modals}}),null)((function(e){var t=e.modals;return Lh.a.createElement(Lh.a.Fragment,null,t.states[Ss.FIRST_REGISTER]&&Lh.a.createElement(hx,{isOpen:t.states[Ss.FIRST_REGISTER]}),t.states[Ss.REFILL_DEMO_WITHOUT_MONEY]&&Lh.a.createElement(Ox,{isOpen:t.states[Ss.REFILL_DEMO_WITHOUT_MONEY]}),t.states[Ss.REDEPOSIT]&&Lh.a.createElement(lx,{isOpen:t.states[Ss.REDEPOSIT]}),t.states[Ss.DEMO_TO_REAL]&&Lh.a.createElement(ax,{isOpen:t.states[Ss.DEMO_TO_REAL]}),t.states[Ss.RATING]&&Lh.a.createElement(tx,{isOpen:t.states[Ss.RATING]}),t.states[Ss.BONUS]&&Lh.a.createElement($N,{isOpen:t.states[Ss.BONUS]}),t.states[Ss.DEPOSIT_BONUS]&&Lh.a.createElement(sx,{isOpen:t.states[Ss.DEPOSIT_BONUS]}),t.states[Ss.CONFIRM_TRADE]&&Lh.a.createElement(yx,{isOpen:t.states[Ss.CONFIRM_TRADE],data:t.data}),t.states[Ss.CURRENCY_EXCHANGE]&&Lh.a.createElement(Ex,{isOpen:t.states[Ss.CURRENCY_EXCHANGE]}),t.states[Ss.ERROR_MESSAGE]&&Lh.a.createElement(Cx,{isOpen:t.states[Ss.ERROR_MESSAGE],data:t.data}),t.states[Ss.PAIR_INFORMATION]&&Lh.a.createElement(Wx,{isOpen:t.states[Ss.PAIR_INFORMATION]}),t.states[Ss.FORM_PROMOCODE]&&Lh.a.createElement(zx,{isOpen:t.states[Ss.FORM_PROMOCODE],data:t.data}),t.states[Ss.HISTORY_PROMOCODE]&&Lh.a.createElement(nR,{isOpen:t.states[Ss.HISTORY_PROMOCODE],data:t.data}),t.states[Ss.INFO_PROMOCODE]&&Lh.a.createElement(rR,{isOpen:t.states[Ss.INFO_PROMOCODE],data:t.data}),t.states[Ss.ASSETS_DROPDOWN]&&Lh.a.createElement(OR,{isOpen:t.states[Ss.ASSETS_DROPDOWN],data:t.data}),t.states[Ss.CASHBACK_INFORMATION]&&Lh.a.createElement(NR,{isOpen:t.states[Ss.CASHBACK_INFORMATION],data:t.data}),t.states[Ss.TURNOVER_INFORMATION]&&Lh.a.createElement(DR,{isOpen:t.states[Ss.TURNOVER_INFORMATION],data:t.data}),t.states[Ss.ACCOUNT_LEVELS]&&Lh.a.createElement(MR,{data:t.data}),t.states[Ss.TRADE_INFORMATION]&&Lh.a.createElement(BR,{data:t.data}),t.states[Ss.MOBILE_TRADE_LIST]&&Lh.a.createElement(LR,null),t.states[Ss.JOIN_TELEGRAM]&&Lh.a.createElement(GR,{isOpen:t.states[Ss.JOIN_TELEGRAM]}))}));var HR=Object(Gh.b)((function(e){var t=e.global,n=e.modals,i=t.sidePanelOpened;return{sidebarOpened:t.sidebarOpened,sidePanelOpened:i,isMobile:t.isMobile,isOpenSidebarName:t.isOpenSidebarName,modals:n}}),{changeSidebarName:function(e){return so.change(e),{type:"SIDEBAR_NAME.CHANGE",payload:{value:e}}}})((function(e){var t=e.sidebarOpened,n=e.sidePanelOpened,i=e.isMobile,r=e.isOpenSidebarName,a=e.changeSidebarName,o=e.modals,s=e.children,c=Object(Bh.useCallback)((function(){a(!r)}),[a,r]),l=Object(Bh.useMemo)((function(){return Object.values(o.states).filter((function(e){return!!e}))}),[o]),u=.01*window.innerHeight;document.documentElement.style.setProperty("--vh","".concat(u,"px")),window.addEventListener("resize",(function(){var e=.01*window.innerHeight;document.documentElement.style.setProperty("--vh","".concat(e,"px"))}));var h=-1!==document.location.pathname.indexOf("/trade")||-1!==document.location.pathname.indexOf("/demo-trade");return Lh.a.createElement("div",{className:"app app--fixed animate"+(t?" app--sidebar-open":"")+(n?" app--sidepanel-open":"")+(r?" app--sidebar_name-open":"")},Lh.a.createElement(Xd,{toggleSidebarName:c,isOpenSidebarName:r,isTrading:h}),Lh.a.createElement(GN,{className:"app__sidepanel"}),Lh.a.createElement("div",{className:"page app__page"+(l.length?" --fixed":"")},Lh.a.createElement(Wd,{className:"page__header",isTrading:h}),Lh.a.createElement("main",{className:"".concat(h?"page__body":"page__body page__body__cabinet")},s)),i&&Lh.a.createElement(Uh,{className:"app__navbar"}),"deal-list"!==n&&Lh.a.createElement("div",{className:"app__backdrop"}),Lh.a.createElement(VR,null))}));i(650);function UR(e){return(UR="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function WR(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function YR(e,t){return(YR=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function QR(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=zR(e);if(t){var r=zR(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return XR(this,n)}}function XR(e,t){return!t||"object"!==UR(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function zR(e){return(zR=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var KR=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&YR(e,t)}(a,e);var t,n,i,r=QR(a);function a(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(t=r.call(this,e)).ws=Li.instance,t.wsFailOpenOrder=0,t}return t=a,(n=[{key:"componentDidMount",value:function(){var e=this;this.wsFailOpenOrder=this.ws.addEventListener("".concat(S).concat(G),(function(t){return e.failOpenOrder(t)}))}},{key:"componentWillUnmount",value:function(){this.ws.removeEventListener("".concat(S).concat(G),this.wsFailOpenOrder)}},{key:"failOpenOrder",value:function(e){this.props.isDemo?this.handleDemoFailOpenOrder(e):this.handleFailOpenOrder(e)}},{key:"handleDemoFailOpenOrder",value:function(e){0===this.props.liveBalance&&"not_money"===e.error&&this.props.changeModalState({modalId:Ss.REFILL_DEMO_WITHOUT_MONEY,value:!0}),this.props.liveBalance>0&&"not_money"===e.error&&this.props.changeModalState({modalId:Ss.DEMO_TO_REAL,value:!0})}},{key:"handleFailOpenOrder",value:function(e){"not_money"===e.error&&(this.props.lastDeposit?this.props.changeModalState({modalId:Ss.REDEPOSIT,value:!0}):this.props.changeModalState({modalId:Ss.FIRST_REGISTER,value:!0}))}},{key:"render",value:function(){return Lh.a.createElement(Lh.a.Fragment,null)}}])&&WR(t.prototype,n),i&&WR(t,i),a}(Lh.a.Component);var JR=Object(Gh.b)((function(e){var t=e.global,n=t.liveBalance,i=t.demoBalance,r=t.isDemo;return{lastDeposit:t.lastDeposit,isDemo:r,liveBalance:n,demoBalance:i}}),{changeModalState:$h})(KR),qR=(i(652),function(e){var t=e.label,n=h("Chart {asset} isn’t available at the moment!",'<span class="not-available__color-red">'+t+"</span>");return Lh.a.createElement("div",{className:"not-available"},Lh.a.createElement("div",{className:"not-available__content"},Lh.a.createElement(Hh,{className:"not-available__icons",name:"not-available"}),Lh.a.createElement("div",{className:"not-available__title"},Lh.a.createElement("div",{dangerouslySetInnerHTML:{__html:n}})),Lh.a.createElement("div",{className:"not-available__subtitle"},h("For technical reasons, we cannot show the chart of this pair, please choose another trading pair."))))});function ZR(){return(ZR=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}var $R=Id(null,null,Rd)((function(e){var t=e.toggleDropdown,n=e.innerRef;return Lh.a.createElement("button",{className:"asset-select__button",onClick:function(){return t(0,!1,!0)},ref:n},Lh.a.createElement(Hh,{name:"plus"}))})),eD=function(e,t){return Lh.a.createElement($R,ZR({innerRef:t},e))};eD.displayName="AssetsIcon";var tD=Lh.a.forwardRef(eD),nD=(i(654),i(656),i(658),i(660),function(e){return e.deals.openedIds}),iD=function(e){return e.deals.openedById},rD=function(e,t){return t.symbol},aD=function(e){return e.quotes.quoteBySymbol},oD=function(e){return e.global.currentTime},sD=Object(Bl.a)([iD,nD,rD],(function(e,t,n){return t.filter((function(t){return e[t].asset===n})).map((function(t){return e[t]}))})),cD=(Object(Bl.a)([sD,function(e,t){return t.price}],(function(e,t){var n=0,i=0,r=0,a=0;return e.forEach((function(e){var o=parseFloat(e.openPrice);by(e.command)?(i+=e.amount,t>o&&(a+=e.profit+e.amount)):(r+=e.amount,t<o&&(a+=e.profit+e.amount)),n+=e.amount})),n=DE(n),a=DE(a),i=DE(i),r=DE(r),{sum:n,call:i,put:r,possibleProfit:a}})),Object(Bl.a)([nm,im,aD,iD,nD,oD],(function(e,t,n,i,r,a){return function(o){if(!t||t&&!t.includes(o))return null;var s=e[o],c=s.label,l=s.active,u=s.payout,h=s.payout_1,d=s.payout_5,f={asset:s,label:c,active:l,symbol:o,payout:u,payout_1:h,payout_5:d,deals:0,hasDeals:!1,totalBet:0,profit:0,estimatedProfit:0,progress:0,state:0},p=n[o];if(p){var m=r.filter((function(e){return i[e].asset===o})).map((function(e){return i[e]}));f.profit=m.reduce((function(e,t){var n=parseFloat(t.openPrice);return by(t.command)&&p.price>n||!by(t.command)&&p.price<n?e+t.profit+t.amount:e}),0),f.deals=m.length,f.hasDeals=m.length>0,f.totalBet=f.hasDeals?m.reduce((function(e,t){return e+t.amount}),0):0,f.estimatedProfit=_v(f.profit),f.progress=lD(m,a),f.state=uD(f)}return f}}))),lD=(Object(Bl.a)([nm,im,aD,iD,nD,oD],(function(e,t,n,i,r,a){return function(o){if(!t.includes(o))return null;var s=e[o],c=s.label,l=s.active,u=s.payout,h=s.payout_1,d=s.payout_5,f={asset:s,label:c,active:l,symbol:o,payout:u,payout_1:h,payout_5:d,hasDeals:!1,totalBet:0,profit:0,estimatedProfit:0,progress:0,state:0},p=n[o];if(p){var m=r.filter((function(e){return i[e].asset===o})).map((function(e){return i[e]}));f.profit=m.reduce((function(e,t){var n=parseFloat(t.openPrice);return by(t.command)&&p.price>n||!by(t.command)&&p.price<n?e+t.profit+t.amount:e}),0),f.hasDeals=m.length>0,f.totalBet=f.hasDeals?m.reduce((function(e,t){return e+t.amount}),0):0,f.estimatedProfit=_v(f.profit),f.progress=lD(m,a),f.state=uD(f)}return f}})),function(e,t){if(!e.length)return 0;var n=e[0];e.forEach((function(e){n.closeTimestamp>e.closeTimestamp&&(n=e)}));var i=n.closeTimestamp-n.openTimestamp,r=n.closeTimestamp-t;return Math.min(Number(parseInt(100-r/i*100).toFixed(2)),100)}),uD=function(e){var t=e.estimatedProfit,n=e.totalBet;return e.hasDeals?0===t?2:t>0&&t<n?3:t>n?4:1:0},hD=Id((function(e,t,n){var i=e.chartSettings.chartById,r=(n in i?i[n]:{timePeriod:0}).timePeriod,a=cD(e)(t.symbol),o=a.asset,s=a.profit,c=a.progress,l=a.deals,u=a.hasDeals,h=e.global,d=h.levelsList,f=h.liveBalance;return{chartId:n,symbol:t.symbol,assetsCount:t.assetsCount,onClickDeleteAssets:t.onClickDeleteAssets,toggleDropdown:t.toggleDropdown,asset:o?{active:o.active,assetsList:o.assetsList,label:o.label,payout_1:o.payout_1,payout_5:o.payout_5,fixed:o.fixed}:null,profit:s,progress:c,deals:l,hasDeals:u,timePeriod:r,currency:e.global.currency,isSymbolVisible:e.chartSettings.visibleSymbols.includes(t.symbol),currentSymbol:e.chartSettings.chartById[n].currentAsset.symbol,levelsList:d,liveBalance:f}}),{changeSymbol:Lu},Rd)((function(e){var t=e.chartId,n=e.symbol,i=e.assetsCount,r=e.onClickDeleteAssets,a=e.toggleDropdown,o=e.asset,s=e.profit,c=e.progress,l=e.deals,u=e.hasDeals,h=e.timePeriod,d=e.currency,f=e.isSymbolVisible,p=e.changeSymbol,m=e.levelsList,y=e.liveBalance,g=e.leftTab,v=e.count,b=e.onChangeTabFixedSymbols,E=e.isFixed,A=e.handelActiveTabIndex,w=Object(Bh.useRef)(),_=Object(Bh.useCallback)((function(){var e=w.current.offsetLeft,t=w.current.parentNode.parentNode.parentNode.offsetWidth,n=e+50,i=t-n>500?n:t-500;i<0&&(i=n),a(i,!0)}),[w,a]),O=o.fixed?0:Md({levelsList:m,liveBalance:y}),S=xd({payout_1:o.payout_1,payout_5:o.payout_5,time:h,levelPercent:O});return Lh.a.createElement("div",{className:"tab desktop"+(f?" active":E?" fixed":"")+(!f&&c>95&&s>0?" --success":!f&&c>95&&0===s?" --danger":""),ref:w,style:{left:g+"px",zIndex:v}},Lh.a.createElement("div",{onClick:function(){f&&_(),p({symbol:n,chartId:t}),A(v)},className:"tab__container"},Lh.a.createElement("div",{className:"tab__flags"},o.assetsList&&o.assetsList.map((function(e,t){return Lh.a.createElement(Pd,{key:t,country:e,className:2===o.assetsList.length?"tab__flag":"tab__flag-one"})}))),Lh.a.createElement("div",{className:"tab__block"},Lh.a.createElement("div",{className:"tab__block-label"},Lh.a.createElement("div",{className:"tab__label"},o.label),f&&Lh.a.createElement("div",{className:"tab__label-caret"},Lh.a.createElement(Hh,{name:"caret"}))),Lh.a.createElement("div",{className:"tab__block-payout"},Lh.a.createElement("div",{className:"tab__payout"},S,"%"),u&&Lh.a.createElement("div",{className:"tab__money"+(s>0?" --success":" --danger")},s>0?"+".concat(pa({amount:s,currency:d})):pa({amount:s,currency:d})))),l>1&&Lh.a.createElement("div",{className:"tab__count"},"+",l-1),c>0&&Lh.a.createElement("div",{className:"tab__progress"+(s>0?" --success":" --danger")},Lh.a.createElement("div",{className:"tab__progress-bar",style:{height:100-c+"%"}}))),i&&Lh.a.createElement("div",{className:"tab__close",onClick:r},Lh.a.createElement(Hh,{name:"close-tiny"})),i&&Lh.a.createElement("div",{className:"tab__pin ".concat(E?"active":""),onClick:b},Lh.a.createElement(Hh,{name:"pin"})))})),dD=i(331);function fD(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],i=!0,r=!1,a=void 0;try{for(var o,s=e[Symbol.iterator]();!(i=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);i=!0);}catch(e){r=!0,a=e}finally{try{i||null==s.return||s.return()}finally{if(r)throw a}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return pD(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return pD(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function pD(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var mD=Id((function(e,t,n){var i=t.assets,r=e.assets.symbols;if(i.length&&r.length){var a=i.filter((function(e){return!r.includes(e)}));a.length&&(i=i.filter((function(e){return!a.includes(e)})))}var o=e.navigationSymbols.tabFixedList;if(o.length&&i.length){var s=o.filter((function(e){return!i.includes(e)}));s.length&&(o=o.filter((function(e){return!s.includes(e)})))}return{chartId:n,assets:i,toggleDropdown:t.toggleDropdown,currentSymbol:e.chartSettings.chartById[n].currentAsset.symbol,activeTabSymbol:t.assets.indexOf(e.chartSettings.chartById[n].currentAsset.symbol),tabFixedList:o}}),{removeNavSymbol:Fu,changeSymbol:Lu,changeTabFixedSymbols:Gu},Rd)((function(e){var t=e.chartId,n=e.assets,i=e.toggleDropdown,r=e.currentSymbol,a=e.removeNavSymbol,o=e.changeSymbol,s=e.activeTabSymbol,c=e.changeTabFixedSymbols,l=e.tabFixedList,u=fD(Object(Bh.useState)(s),2),h=u[0],d=u[1],f=Object(Bh.useCallback)((function(e){e.clone.classList.contains("active")&&d(e.newIndex)}),[]),p=fD(Object(Bh.useState)(n.map((function(e,t){return{id:t,symbol:e}}))),2),m=p[0],y=p[1];Object(Bh.useEffect)((function(){var e=m.map((function(e){return e.symbol})),t=e.filter((function(e){return!n.includes(e)})).concat(n.filter((function(t){return!e.includes(t)})));(e.length!==n.length||t.length)&&y(n.map((function(e,t){return{id:t,symbol:e}}))),s!==h&&d(s)}),[m,n,y,s,h]);var g=Object(Bh.useRef)(),v=Object(Bh.useCallback)((function(e){if(a(e),r===e){var i=n.indexOf(e);-1!==i&&n[i=i>0?i-1:i+1]&&o({chartId:t,symbol:n[i]})}}),[t,n,a,o,r]),b=Object(Bh.useCallback)((function(e){c(e)}),[c]),E=0,A=fD(Object(Bh.useState)(0),2),w=A[0],_=A[1];Object(Bh.useEffect)((function(){function e(){_(g.current.parentNode.offsetWidth-50)}return g.current&&_(g.current.parentNode.offsetWidth-50),window.addEventListener("resize",e),function(){return window.removeEventListener("resize",e)}}),[w,_,g]);var O=Object(Bh.useMemo)((function(){return l.map((function(e){return m.findIndex((function(t){return t.symbol===e}))}))}),[l,m]);return Lh.a.createElement("div",{className:"tabs",ref:g},Lh.a.createElement(dD.ReactSortable,{className:"tabs__items",list:m,setList:y,animation:150,delay:2,onChange:f},m.map((function(e,t){var r=O.filter((function(e){return e===h})),a=O.filter((function(e){return e===m.length-1})),o=O.filter((function(e){return e===m.length-1&&e===h})),s=r.length||a.length||m.length-1===h?1:0,c=!r.length&&o.length?1:0,u=r.length&&a.length?1:0,f=2+l.length-s-c-u,p=Math.floor((w-148*f)/(m.length-f)),y=0,g=O.filter((function(t){return t+1===e.id}));return p<148&&t?t===h+1||g.length?(y=E+148,E+=148):t&&(y=E+p,E+=p):t&&(y=E+148,E+=148),Lh.a.createElement(hD,{key:"nav-".concat(e.index,"-").concat(e.symbol),symbol:e.symbol,assetsCount:n.length>1,onClickDeleteAssets:function(){return t=e.symbol,l.filter((function(e){return e===t})).length&&b(t),void v(t);var t},toggleDropdown:i,leftTab:y,count:t,onChangeTabFixedSymbols:function(){return b(e.symbol)},isFixed:!!l.length&&!!l.filter((function(t){return t===e.symbol})).length,handelActiveTabIndex:d})}))))}));function yD(){return(yD=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}function gD(e){return(gD="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function vD(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function bD(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function ED(e,t){return(ED=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function AD(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=OD(e);if(t){var r=OD(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return wD(this,n)}}function wD(e,t){return!t||"object"!==gD(t)&&"function"!=typeof t?_D(e):t}function _D(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function OD(e){return(OD=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function SD(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var CD=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ED(e,t)}(a,e);var t,n,i,r=AD(a);function a(){var e;vD(this,a);for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return SD(_D(e=r.call.apply(r,[this].concat(n))),"dropdownRef",Lh.a.createRef()),SD(_D(e),"state",{activeTab:e.props.currentAssetType,offsetLeftDropdown:0,changeSymbolReplace:!1}),SD(_D(e),"toggleDropdown",(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=arguments.length>2?arguments[2]:void 0;if(e.props.modals.states[Ss.ASSETS_DROPDOWN])return e.props.changeModalState({modalId:Ss.ASSETS_DROPDOWN,value:!1});e.props.isOpenAssets?document.removeEventListener("click",e.handleOutsideClick,!1):document.addEventListener("click",e.handleOutsideClick,!1),e.setState({offsetLeftDropdown:t,changeSymbolReplace:n}),i&&e.setState({activeTab:"currency"}),e.props.toggleIsOpenMobileDropdown(),e.props.changePanelAssets(!e.props.isOpenAssets)})),SD(_D(e),"handleOutsideClick",(function(t){var n;e.dropdownRef&&!(null===(n=e.dropdownRef.current)||void 0===n?void 0:n.contains(t.target))&&(document.removeEventListener("click",e.handleOutsideClick,!1),e.props.changePanelAssets(!e.props.isOpenAssets),e.props.toggleIsOpenMobileDropdown())})),e}return t=a,(n=[{key:"componentDidUpdate",value:function(){this.state.activeTab!==this.props.currentAssetType&&this.setState({activeTab:this.props.currentAssetType})}},{key:"render",value:function(){var e=this,t=this.state,n=t.offsetLeftDropdown,i=t.changeSymbolReplace,r=t.activeTab,a=this.props,o=a.assets,s=a.isMobile,c=a.innerRef,l=a.isOpenAssets;return Lh.a.createElement("div",{className:"trading-chart__assets"},s&&Lh.a.createElement("button",{className:"asset-select__button asset-select__mobile-button",onClick:function(){return e.props.changeModalState({modalId:Ss.ASSETS_DROPDOWN,value:!0,data:{activeTab:r,dropdownRef:e.dropdownRef,offsetLeft:0,changeSymbolReplace:i,toggleDropdown:e.toggleDropdown}})}},Lh.a.createElement(Hh,{name:"plus"})),Lh.a.createElement("div",{className:"asset-select"+(l?" active":"")},Lh.a.createElement(tD,{ref:c,isOpen:l,toggleDropdown:this.toggleDropdown}),Lh.a.createElement(wR,{activeTab:r,isOpen:l,dropdownRef:this.dropdownRef,offsetLeft:n,changeSymbolReplace:i,toggleDropdown:this.toggleDropdown})),!!o.length&&Lh.a.createElement(mD,{assets:o,toggleDropdown:this.toggleDropdown}))}}])&&bD(t.prototype,n),i&&bD(t,i),a}(Lh.a.PureComponent),TD=Id((function(e,t,n){return{chartId:n,isMobile:e.global.isMobile,isOpenAssets:e.global.isOpenAssets,modals:e.modals,assets:e.navigationSymbols.list,currentAssetType:lm(e)(n)}}),{changePanelAssets:function(e){return{type:"CHANGE_PANEL_ASSETS",payload:e}},changeModalState:$h},Rd)(CD),kD=function(e,t){return Lh.a.createElement(TD,yD({innerRef:t},e))};kD.displayName="AssetsList";var ID=Lh.a.forwardRef(kD),PD=(i(662),Object(Gh.b)(null,{drawingEdit:Uu,changeSelectedIndicatorReqId:Kc,drawingDelete:function(e){return{type:"DRAW.DELETE",payload:{id:e}}}})((function(e){var t=e.drawing,n=e.changeSelectedIndicatorReqId,i=e.drawingDelete;return Lh.a.createElement("div",{className:"trading-ind"},Lh.a.createElement("span",{className:"trading-ind__name"},uh[t.type].label),Lh.a.createElement("span",{className:"trading-ind__color",style:{backgroundColor:t.settings.lines.main.color}}),Lh.a.createElement("span",{className:"trading-ind__param"},t.settings.lines.main.lineWidth),Lh.a.createElement("button",{onClick:function(){n(!1),setTimeout((function(){return n({selectedIndicatorReqId:t.requestId,sidePanelOpened:!0})}),10)},className:"trading-ind__action trading-ind__action--edit"},Lh.a.createElement(Hh,{name:"pencil"})),Lh.a.createElement("button",{onClick:function(){i(t.id)},className:"trading-ind__action trading-ind__action--remove"},Lh.a.createElement(Hh,{name:"close-small"})))}))),ND=function(e){var t=e.indicator,n=t.settings,i=t.type;return Lh.a.createElement(Lh.a.Fragment,null,Lh.a.createElement("span",{className:"trading-ind__name"},h("".concat(i))),Lh.a.createElement("span",{className:"trading-ind__color",style:{backgroundColor:n.lines.main.color}}),Lh.a.createElement("span",{className:"trading-ind__param"},n.ma),Lh.a.createElement("span",{className:"trading-ind__param"},n.period))},xD=function(e){var t=e.indicator,n=t.settings,i=n.jaws,r=n.teeth,a=n.lips,o=n.lines;return Lh.a.createElement(Lh.a.Fragment,null,Lh.a.createElement("span",{className:"trading-ind__name"},h("".concat(t.type))),Lh.a.createElement("span",{className:"trading-ind__color",style:{backgroundColor:o.jaws.color}}),Lh.a.createElement("span",{className:"trading-ind__param"},i.period),Lh.a.createElement("span",{className:"trading-ind__color",style:{backgroundColor:o.teeth.color}}),Lh.a.createElement("span",{className:"trading-ind__param"},r.period),Lh.a.createElement("span",{className:"trading-ind__color",style:{backgroundColor:o.lips.color}}),Lh.a.createElement("span",{className:"trading-ind__param"},a.period))},RD=function(e){var t=e.indicator,n=t.settings,i=n.period,r=n.deviation;return Lh.a.createElement(Lh.a.Fragment,null,Lh.a.createElement("span",{className:"trading-ind__name"},h("".concat(t.type))),Lh.a.createElement("span",{className:"trading-ind__color",style:{backgroundColor:t.settings.lines.top.color}}),Lh.a.createElement("span",{className:"trading-ind__color",style:{backgroundColor:t.settings.lines.bottom.color}}),Lh.a.createElement("span",{className:"trading-ind__param"},i),Lh.a.createElement("span",{className:"trading-ind__color",style:{backgroundColor:t.settings.lines.middle.color}}),Lh.a.createElement("span",{className:"trading-ind__param"},r))},DD=function(e){var t=e.indicator,n=t.settings,i=n.period,r=n.deviation;return Lh.a.createElement(Lh.a.Fragment,null,Lh.a.createElement("span",{className:"trading-ind__name"},h("".concat(t.type))),Lh.a.createElement("span",{className:"trading-ind__color",style:{backgroundColor:t.settings.lines.top.color}}),Lh.a.createElement("span",{className:"trading-ind__color",style:{backgroundColor:t.settings.lines.bottom.color}}),Lh.a.createElement("span",{className:"trading-ind__param"},i),Lh.a.createElement("span",{className:"trading-ind__color",style:{backgroundColor:t.settings.lines.middle.color}}),Lh.a.createElement("span",{className:"trading-ind__param"},r),Lh.a.createElement("span",{className:"trading-ind__param"},t.settings.ma))},MD=function(e){var t=e.indicator;return Lh.a.createElement(Lh.a.Fragment,null,Lh.a.createElement("span",{className:"trading-ind__name"},h("".concat(t.type))),Lh.a.createElement("span",{className:"trading-ind__color",style:{backgroundColor:t.settings.lines.up.color}}),Lh.a.createElement("span",{className:"trading-ind__color",style:{backgroundColor:t.settings.lines.down.color}}))},BD=function(e){var t=e.indicator,n=t.settings,i=n.tenkanSen,r=n.kijunSen,a=n.senkouSpanB;return Lh.a.createElement(Lh.a.Fragment,null,Lh.a.createElement("span",{className:"trading-ind__name"},h("".concat(t.type))),Lh.a.createElement("span",{className:"trading-ind__color",style:{backgroundColor:t.settings.lines.tenkanSen.color}}),Lh.a.createElement("span",{className:"trading-ind__param"},i),Lh.a.createElement("span",{className:"trading-ind__color",style:{backgroundColor:t.settings.lines.kijunSen.color}}),Lh.a.createElement("span",{className:"trading-ind__param"},r),Lh.a.createElement("span",{className:"trading-ind__color",style:{backgroundColor:t.settings.lines.chikouSpan.color}}),Lh.a.createElement("span",{className:"trading-ind__color",style:{backgroundColor:t.settings.lines.senkouSpanA.color}}),Lh.a.createElement("span",{className:"trading-ind__color",style:{backgroundColor:t.settings.lines.senkouSpanB.color}}),Lh.a.createElement("span",{className:"trading-ind__param"},a))},LD=function(e){var t=e.indicator,n=t.settings,i=n.emaPeriod,r=n.atrPeriod;return Lh.a.createElement(Lh.a.Fragment,null,Lh.a.createElement("span",{className:"trading-ind__name"},h("".concat(t.type))),Lh.a.createElement("span",{className:"trading-ind__color",style:{backgroundColor:t.settings.lines.bottom.color}}),Lh.a.createElement("span",{className:"trading-ind__color",style:{backgroundColor:t.settings.lines.middle.color}}),Lh.a.createElement("span",{className:"trading-ind__color",style:{backgroundColor:t.settings.lines.top.color}}),Lh.a.createElement("span",{className:"trading-ind__param"},i),Lh.a.createElement("span",{className:"trading-ind__param"},r))},jD=function(e){var t=e.indicator,n=t.settings,i=n.acceleration,r=n.accelerationMax;return Lh.a.createElement(Lh.a.Fragment,null,Lh.a.createElement("span",{className:"trading-ind__name"},h("".concat(t.type))),Lh.a.createElement("span",{className:"trading-ind__color",style:{backgroundColor:t.settings.lines.main.color}}),Lh.a.createElement("span",{className:"trading-ind__param"},i),Lh.a.createElement("span",{className:"trading-ind__param"},r))},FD=function(e){var t=e.indicator,n=t.settings.period;return Lh.a.createElement(Lh.a.Fragment,null,Lh.a.createElement("span",{className:"trading-ind__name"},h("".concat(t.type))),Lh.a.createElement("span",{className:"trading-ind__color",style:{backgroundColor:t.settings.lines.bottom.color}}),Lh.a.createElement("span",{className:"trading-ind__color",style:{backgroundColor:t.settings.lines.middle.color}}),Lh.a.createElement("span",{className:"trading-ind__color",style:{backgroundColor:t.settings.lines.top.color}}),Lh.a.createElement("span",{className:"trading-ind__param"},n))},GD=function(e){var t=e.indicator,n=t.settings,i=n.deviation,r=n.depth,a=n.backstep;return Lh.a.createElement(Lh.a.Fragment,null,Lh.a.createElement("span",{className:"trading-ind__name"},h("".concat(t.type))),Lh.a.createElement("span",{className:"trading-ind__color",style:{backgroundColor:t.settings.lines.main.color}}),Lh.a.createElement("span",{className:"trading-ind__param"},i),Lh.a.createElement("span",{className:"trading-ind__param"},r),Lh.a.createElement("span",{className:"trading-ind__param"},a))},VD=function(e){var t=e.indicator,n=t.settings,i=n.period,r=n.multiplier;return Lh.a.createElement(Lh.a.Fragment,null,Lh.a.createElement("span",{className:"trading-ind__name"},h("".concat(t.type))),Lh.a.createElement("span",{className:"trading-ind__color",style:{backgroundColor:t.settings.lines.upper.color}}),Lh.a.createElement("span",{className:"trading-ind__color",style:{backgroundColor:t.settings.lines.lower.color}}),Lh.a.createElement("span",{className:"trading-ind__param"},i),Lh.a.createElement("span",{className:"trading-ind__param"},r))},HD=w.CHART.INDICATORS.INDICATORS_LIST,UD=Object(Gh.b)((function(e){return{isMobile:e.global.isMobile}}),{deleteIndicator:Ku,changeSelectedIndicatorReqId:Kc})((function(e){var t=e.indicator,n=e.deleteIndicator,i=e.changeSelectedIndicatorReqId;return Lh.a.createElement("div",{className:"trading-ind"},t.type===HD.MOVING_AVERAGE&&Lh.a.createElement(ND,{indicator:t}),t.type===HD.ALLIGATOR&&Lh.a.createElement(xD,{indicator:t}),t.type===HD.BOLLINGER_BANDS&&Lh.a.createElement(RD,{indicator:t}),t.type===HD.ENVELOPE&&Lh.a.createElement(DD,{indicator:t}),t.type===HD.FRACTAL&&Lh.a.createElement(MD,{indicator:t}),t.type===HD.ICHIMOKU_CLOUD&&Lh.a.createElement(BD,{indicator:t}),t.type===HD.KELTNER_CHANNEL&&Lh.a.createElement(LD,{indicator:t}),t.type===HD.DONCHIAN_CHANNEL&&Lh.a.createElement(FD,{indicator:t}),t.type===HD.SUPERTREND&&Lh.a.createElement(VD,{indicator:t}),t.type===HD.PARABOLIC_SAR&&Lh.a.createElement(jD,{indicator:t}),t.type===HD.ZIG_ZAG&&Lh.a.createElement(GD,{indicator:t}),Lh.a.createElement("button",{onClick:function(){i(!1),setTimeout((function(){return i({selectedIndicatorReqId:t.requestId,sidePanelOpened:!0})}),100)},className:"trading-ind__action trading-ind__action--edit"},Lh.a.createElement(Hh,{name:"pencil"})),Lh.a.createElement("button",{onClick:function(){n(t.id)},className:"trading-ind__action trading-ind__action--remove"},Lh.a.createElement(Hh,{name:"close-small"})))})),WD=Id((function(e,t,n){var i,r=(i=n,Object(Bl.a)([Jl,Zl],(function(e,t){return!t||t&&!Array.isArray(t)?[]:t.filter((function(t){var n=e[t],r=n.chartId,a=n.type;return r===i&&!Kl(a)})).map((function(t){return e[t]}))}))),a=au(n);return function(e){var t=e.global.isMobile,i=e.chartSettings.chartById[n],o=i.isIndicatorsMinimized,s=i.isIndicatorsShowing;return{isMobile:t,chartId:n,isIndicatorsMinimized:o,isIndicatorsShowing:s,indicators:r(e),drawings:a(e,{chartId:n}),isBackgroundGraph:e.global.isBackgroundGraph}}}),{changeIndicatorsMinimized:pl,changeIndicatorsShowing:function(e){return{type:"CHART.CHANGE_INDICATORS_SHOWING",payload:{chartId:e.chartId,value:e.value}}}},Rd)((function(e){var t=e.isMobile,n=e.chartId,i=e.indicators,r=e.drawings,a=e.isBackgroundGraph,o=e.isIndicatorsMinimized,s=e.isIndicatorsShowing,c=e.changeIndicatorsMinimized,l=e.changeIndicatorsShowing,u=i.length+r.length>0;if(!u)return null;t||(r=[]);var h=i.length+r.length;return Lh.a.createElement(Lh.a.Fragment,null,!a&&Lh.a.createElement("div",{className:"trading-chart__indicators"},u&&Lh.a.createElement("div",{className:"trading-chart__indicators-container"},h>0&&Lh.a.createElement("div",{className:"trading-chart__indicators-minimize ".concat(o?"minimized":""),onClick:function(){c({chartId:n,value:!o})}},o&&u?Lh.a.createElement(Lh.a.Fragment,null,Lh.a.createElement("div",{className:"trading-chart__indicators-minimize-count"},h),Lh.a.createElement(Hh,{name:"arrow-right-blue"})):Lh.a.createElement(Hh,{name:"arrow-left-blue"})),Lh.a.createElement("div",{className:"trading-chart__indicators-showing ".concat(s?"active":""," ").concat(0===h?"hideBorder":""),onClick:function(){l({chartId:n,value:!s})}},Lh.a.createElement(Hh,{name:s?"eye":"eye-cross"}))),!o&&i.map((function(e){return Lh.a.createElement(UD,{key:e.id,indicator:e})})),!o&&r.map((function(e){return Lh.a.createElement(PD,{key:e.id,drawing:e})}))))}));i(664);function YD(e){return(YD="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function QD(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function XD(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?QD(Object(n),!0).forEach((function(t){eM(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):QD(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function zD(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function KD(e,t){return(KD=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function JD(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=$D(e);if(t){var r=$D(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return qD(this,n)}}function qD(e,t){return!t||"object"!==YD(t)&&"function"!=typeof t?ZD(e):t}function ZD(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function $D(e){return($D=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function eM(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var tM=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&KD(e,t)}(a,e);var t,n,i,r=JD(a);function a(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),eM(ZD(t=r.call(this,e)),"handleClick",(function(e){var n=t.props.onClick;n&&n(e)})),eM(ZD(t),"dismissNotification",(function(e){t.setState(XD(XD({},t.state),{},{animation:{name:"notificationHide",duration:t.hideDuration}})),setTimeout((function(){t.props.onDelete(e)}),t.hideDuration)})),t.showDuration=800,t.hideDuration=400,t.state={animation:{name:"notificationShow",duration:t.showDuration},closed:!1},t}return t=a,(n=[{key:"componentDidMount",value:function(){var e=this;setTimeout((function(){e.dismissNotification(e.props.notificationId)}),this.props.timeout+this.showDuration)}},{key:"render",value:function(){var e=this.props,t=e.type,n=e.message,i=e.dismissible,r=this.state,a=r.closed,o=r.animation;return Lh.a.createElement("div",{className:"notification"+(t?" notification--".concat(t):"")+(a?" notification--closed":""),onClick:this.handleClick,style:{animationName:o.name,animationDuration:o.duration+"ms"}},Lh.a.createElement("p",{className:"notification__content"},n),i&&Lh.a.createElement("button",{className:"notification__close",onClick:this.dismissNotification},Lh.a.createElement(Hh,{name:"close-tiny"})))}}])&&zD(t.prototype,n),i&&zD(t,i),a}(Lh.a.Component);tM.propTypes={message:Jh.a.string.isRequired,type:Jh.a.oneOf(["primary","success","warning","danger"]),onClick:Jh.a.func},tM.defaultProps={dismissible:!0};var nM=tM;function iM(e){return(iM="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function rM(e){return function(e){if(Array.isArray(e))return aM(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return aM(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return aM(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function aM(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function oM(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function sM(e,t){return(sM=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function cM(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=hM(e);if(t){var r=hM(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return lM(this,n)}}function lM(e,t){return!t||"object"!==iM(t)&&"function"!=typeof t?uM(e):t}function uM(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function hM(e){return(hM=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var dM=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&sM(e,t)}(a,e);var t,n,i,r=cM(a);function a(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(uM(t=r.call(this,e)),"onDeleteNotification",(function(e){t.setState({notifications:t.state.notifications.filter((function(t){return t.id!==e}))})})),t.ws=Li.instance,t.state={notifications:[]},t.wsStartOpenOrder=0,t.wsSuccessOpenOrder=0,t.wsFailOpenOrder=0,t.wsSuccessCloseOrder=0,t.wsSuccessCancelOrder=0,t.wsFailCancelOrder=0,t.wsFailRolloverOrder=0,t.wsFailDoubleOrder=0,t}return t=a,(n=[{key:"componentDidMount",value:function(){var e=this;this.wsStartOpenOrder=this.ws.addEventListener("".concat(O).concat(G),(function(){})),this.wsSuccessOpenOrder=this.ws.addEventListener("".concat(_).concat(G),(function(t){e.props.isMobile||e.successOpenOrder(t)})),this.wsFailOpenOrder=this.ws.addEventListener("".concat(S).concat(G),(function(t){return e.failOpenOrder(t)})),this.wsSuccessCancelOrder=this.ws.addEventListener("".concat(_).concat(W),(function(){e.successCancelOrder()})),this.wsFailCancelOrder=this.ws.addEventListener("".concat(S).concat(W),(function(t){e.failCancelOrder(t)})),this.wsFailRolloverOrder=this.ws.addEventListener("".concat(S).concat(be),(function(t){e.failRolloverOrder(t)})),this.wsFailDoubleOrder=this.ws.addEventListener("".concat(S).concat(Ee),(function(t){e.failDoubleOrder(t)})),this.wsSuccessPendingCreate=this.ws.addEventListener("".concat(_).concat(Ae),(function(t){e.successPendingCreate(t)})),this.wsFailPendingCreate=this.ws.addEventListener("".concat(S).concat(Ae),(function(t){e.failPendingCreate(t)})),this.wsFailPendingCancel=this.ws.addEventListener("".concat(S).concat(_e),(function(t){e.failPendingCancel(t)})),this.wsSuccessPendingCancel=this.ws.addEventListener("".concat(_).concat(_e),(function(t){e.successPendingCancel(t)}))}},{key:"componentWillUnmount",value:function(){this.ws.removeEventListener("".concat(O).concat(G),this.wsStartOpenOrder),this.ws.removeEventListener("".concat(_).concat(G),this.wsSuccessOpenOrder),this.ws.removeEventListener("".concat(S).concat(G),this.wsFailOpenOrder),this.ws.removeEventListener("".concat(_).concat(W),this.wsSuccessCancelOrder),this.ws.removeEventListener("".concat(S).concat(W),this.wsFailCancelOrder),this.ws.removeEventListener("".concat(S).concat(be),this.wsFailRolloverOrder),this.ws.removeEventListener("".concat(S).concat(Ee),this.wsFailDoubleOrder),this.ws.removeEventListener("".concat(_).concat(Ae),this.wsSuccessPendingCreate),this.ws.removeEventListener("".concat(S).concat(Ae),this.wsFailPendingCreate),this.ws.removeEventListener("".concat(S).concat(_e),this.wsFailPendingCancel),this.ws.removeEventListener("".concat(_).concat(_e),this.wsSuccessPendingCancel)}},{key:"successCancelOrder",value:function(){var e={id:Ie(0,1e6),message:h("Trade sold successfully"),type:"success"};this.addNotification(e)}},{key:"failCancelOrder",value:function(e){var t=e.error,n=h("You cannot sell a trade");"cancel_hedged"===t&&(n=h("You cannot sell a hedged trade"));var i={id:Ie(0,1e6),message:n,type:"danger"};this.addNotification(i)}},{key:"failRolloverOrder",value:function(e){var t=e.error,n={id:Ie(0,1e6),message:h(t),type:"danger"};this.addNotification(n)}},{key:"failDoubleOrder",value:function(e){var t=e.error,n={id:Ie(0,1e6),message:h(t),type:"danger"};this.addNotification(n)}},{key:"successOpenOrder",value:function(e){var t="",n="";if(this.props.assetBySymbol[e.asset]){var i=this.props.assetBySymbol[e.asset];t=i.label,n=i.digits}var r={id:Ie(0,1e6),message:"".concat(h("Trade opened with price:")," ").concat(Ov(e.openPrice,n)," ").concat(t),type:"success"};this.addNotification(r)}},{key:"failOpenOrder",value:function(e){var t="";switch(e.error){case"not_money":t=h("Not enough funds");break;case"expiration":t=h("Incorrect time");break;case"unexpected":t=h("Unexpected error");break;case"min_amount":t="".concat(h("Min amount:")," ").concat(this.props.currency).concat(e.amount);break;case"max_amount":t="".concat(h("Max amount:")," ").concat(this.props.currency).concat(e.amount)}var n={id:Ie(0,1e6),message:t,type:"danger"};this.addNotification(n)}},{key:"successPendingCreate",value:function(e){var t={id:Ie(0,1e6),message:"".concat(h("Pending order successfully created")),type:"success"};this.addNotification(t)}},{key:"failPendingCreate",value:function(e){var t="".concat(h("Cannot open pending order"));switch(e.error){case"open_time":t="".concat(h("Minimal opening time from 1 minute"));break;case"max_amount":t="".concat(h("Max amount:")," ").concat(this.props.currency).concat(e.amount);break;case"min_amount":t="".concat(h("Min amount:")," ").concat(this.props.currency).concat(e.amount)}var n={id:Ie(0,1e6),message:t,type:"danger"};this.addNotification(n)}},{key:"failPendingCancel",value:function(e){var t={id:Ie(0,1e6),message:"".concat(h("Cannot cancel pending order")),type:"danger"};this.addNotification(t)}},{key:"successPendingCancel",value:function(e){var t={id:Ie(0,1e6),message:"".concat(h("Pending order successfully cancelled")),type:"success"};this.addNotification(t)}},{key:"addNotification",value:function(e){this.setState({notifications:[].concat(rM(this.state.notifications),[e])})}},{key:"render",value:function(){var e=this,t=this.state.notifications;return t.length?Lh.a.createElement("div",{className:"trading-chart__notifications"},t.map((function(t){return Lh.a.createElement(nM,{key:t.id,notificationId:t.id,message:t.message,type:t.type,onDelete:e.onDeleteNotification,timeout:2e3})}))):null}}])&&oM(t.prototype,n),i&&oM(t,i),a}(Lh.a.Component),fM=Object(Gh.b)((function(e){var t=e.global;return{currency:t.currency,isMobile:t.isMobile,assetBySymbol:om(e)}}))(dM);i(666);function pM(e){return(pM="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function mM(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function yM(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?mM(Object(n),!0).forEach((function(t){_M(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):mM(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function gM(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function vM(e,t){return(vM=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function bM(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=wM(e);if(t){var r=wM(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return EM(this,n)}}function EM(e,t){return!t||"object"!==pM(t)&&"function"!=typeof t?AM(e):t}function AM(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function wM(e){return(wM=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _M(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var OM=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&vM(e,t)}(a,e);var t,n,i,r=bM(a);function a(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),_M(AM(t=r.call(this,e)),"dismissNotification",(function(e){t.setState(yM(yM({},t.state),{},{animation:{name:"notificationHide",duration:t.hideDuration}})),setTimeout((function(){t.props.onDelete(e)}),t.hideDuration)})),t.showDuration=800,t.hideDuration=400,t.state={animation:{name:"notificationShow",duration:t.showDuration}},t}return t=a,(n=[{key:"componentDidMount",value:function(){var e=this;setTimeout((function(){e.dismissNotification(e.props.notificationId)}),this.props.timeout+this.showDuration)}},{key:"render",value:function(){var e,t=this.state.animation,n=this.props,i=n.asset,r=n.notification,a=n.currency,o=i.assetsList,s=r.item.closeTimestamp-r.item.openTimestamp;return Lh.a.createElement("div",{className:"trades-notifications-item",style:{animationName:t.name,animationDuration:t.duration+"ms"}},Lh.a.createElement("div",{className:"trades-notifications-item__header"},Lh.a.createElement(Nd,{className:"trades-notifications-item__flags",flags:o}),Lh.a.createElement("div",{className:"trades-notifications-item__name"},i.label),Lh.a.createElement("div",{className:"trades-notifications-item__time"},Je(s))),Lh.a.createElement("div",{className:"trades-notifications-item__total trades-notifications-item__total--".concat((e=r.item,e.amount+e.profit>0>0?"up":"down"))},da({profit:r.item.profit,amount:r.item.amount,currency:a})),Lh.a.createElement("button",{className:"trades-notifications-item__close",onClick:this.dismissNotification},Lh.a.createElement(Hh,{name:"close"})))}}])&&gM(t.prototype,n),i&&gM(t,i),a}(Lh.a.Component);OM.propTypes={},OM.defaultProps={};var SM=Object(Gh.b)((function(e,t){var n=e.assets,i=e.global,r=t.notification,a=n.assetBySymbol,o=null;return n.symbols.includes(r.item.asset)&&(o=a[r.item.asset]),{asset:o,currency:i.currency}}))(OM);i(668);function CM(e){return(CM="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function TM(e){return function(e){if(Array.isArray(e))return kM(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return kM(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return kM(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function kM(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function IM(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function PM(e,t){return(PM=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function NM(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=DM(e);if(t){var r=DM(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return xM(this,n)}}function xM(e,t){return!t||"object"!==CM(t)&&"function"!=typeof t?RM(e):t}function RM(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function DM(e){return(DM=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var MM=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&PM(e,t)}(a,e);var t,n,i,r=NM(a);function a(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(RM(t=r.call(this,e)),"onDeleteNotification",(function(e){t.setState({notifications:t.state.notifications.filter((function(t){return t.id!==e}))})})),t.ws=Li.instance,t.state={notifications:[]},t.wsStartOpenOrder=0,t.wsSuccessOpenOrder=0,t.wsFailOpenOrder=0,t.wsSuccessCloseOrder=0,t}return t=a,(n=[{key:"componentDidMount",value:function(){var e=this;this.wsSuccessCloseOrder=this.ws.addEventListener("".concat(_).concat(F),(function(t){e.successCloseOrder(t)}))}},{key:"componentWillUnmount",value:function(){this.ws.removeEventListener("".concat(_).concat(F),this.wsSuccessCloseOrder)}},{key:"successCloseOrder",value:function(e){var t={id:Ie(0,1e6),item:e.deals[0]};this.addNotification(t,3)}},{key:"addNotification",value:function(e){this.setState({notifications:[].concat(TM(this.state.notifications),[e])})}},{key:"render",value:function(){var e=this,t=this.state.notifications;return t.length?Lh.a.createElement("div",{className:"trades-notifications"},t.map((function(t){return Lh.a.createElement(SM,{key:t.id,notification:t,notificationId:t.id,onDelete:e.onDeleteNotification,timeout:3e3})}))):null}}])&&IM(t.prototype,n),i&&IM(t,i),a}(Lh.a.Component),BM=(i(670),Object(Gh.b)((function(e){var t=e.global;return{currentTime:t.currentTime,timeZone:t.timeZone}}))((function(e){var t=e.currentTime,n=e.timeZone;return t?qm(t+n,!0):null}))),LM=Object(Gh.b)((function(e){return{timeZone:e.global.timeZone}}))((function(e){var t=e.timeZone,n="";if(t){var i=Math.abs(t),r=Math.floor(i/3600),a=5*Math.round(i%3600/60/5);n=(t>0?"+":"-")+r,a&&(n+=":"+(a<10?"0":"")+a)}return Lh.a.createElement("div",{className:"trading-chart__server-time"},Lh.a.createElement("div",{className:"server-time online"},Lh.a.createElement(BM,null)," ",Lh.a.createElement("span",null,"UTC",n)))})),jM=(i(672),Object(Gh.b)(null,{changeModalState:$h})((function(e){var t=e.changeModalState;return Lh.a.createElement("div",{className:"pair-information",onClick:function(){t({modalId:Ss.PAIR_INFORMATION,value:!0})}},Lh.a.createElement(Hh,{name:"pair-information"}),Lh.a.createElement("div",{className:"pair-information__text"},h("Pair Information")))})));function FM(e){return(FM="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function GM(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function VM(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function HM(e,t){return(HM=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function UM(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=QM(e);if(t){var r=QM(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return WM(this,n)}}function WM(e,t){return!t||"object"!==FM(t)&&"function"!=typeof t?YM(e):t}function YM(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function QM(e){return(QM=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function XM(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var zM=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&HM(e,t)}(a,e);var t,n,i,r=UM(a);function a(){var e;GM(this,a);for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return XM(YM(e=r.call.apply(r,[this].concat(n))),"mobileOpenerRef",Lh.a.createRef()),XM(YM(e),"state",{isOpenMobileDropdown:!1}),XM(YM(e),"toggleIsOpenMobileDropdown",(function(){var t=e.props.isMobile;e.setState({isOpenMobileDropdown:t&&!e.state.isOpenMobileDropdown})})),e}return t=a,(n=[{key:"render",value:function(){var e=this.state.isOpenMobileDropdown;return Lh.a.createElement(Lh.a.Fragment,null,Lh.a.createElement("div",{className:"trading-chart__top"+(e?" mobile":"")},Lh.a.createElement(ID,{ref:this.mobileOpenerRef,toggleIsOpenMobileDropdown:this.toggleIsOpenMobileDropdown}),Lh.a.createElement(LM,null),Lh.a.createElement(jM,null),Lh.a.createElement(WD,null),Lh.a.createElement(fM,null)),!this.props.isMobile&&Lh.a.createElement(MM,null))}}])&&VM(t.prototype,n),i&&VM(t,i),a}(Lh.a.Component),KM=Object(Gh.b)((function(e){return{isMobile:e.global.isMobile}}))(zM),JM=(i(674),function(e){var t=e.from,n=e.to;return Lh.a.createElement("div",{className:"market-depth-vertical"},Lh.a.createElement("div",{className:"market-depth-vertical__ask-value"},t,"%"),Lh.a.createElement("div",{className:"market-depth-vertical__ask",style:{height:t+"%"}}),Lh.a.createElement("div",{className:"market-depth-vertical__bid-value"},n,"%"),Lh.a.createElement("div",{className:"market-depth-vertical__bid",style:{height:n+"%"}}))});JM.propTypes={from:Jh.a.number.isRequired,to:Jh.a.number.isRequired},JM.defaultProps={from:50,to:50};var qM=JM,ZM=(i(676),function(e){var t=e.from,n=e.to;return Lh.a.createElement("div",{className:"market-depth-horizontal"},Lh.a.createElement("div",{className:"market-depth-horizontal__ask-value"},t,"%"),Lh.a.createElement("div",{className:"market-depth-horizontal__ask",style:{width:"".concat(t,"%")}}),Lh.a.createElement("div",{className:"market-depth-horizontal__bid-value"},n,"%"),Lh.a.createElement("div",{className:"market-depth-horizontal__bid",style:{width:"".concat(n,"%")}}))});ZM.propTypes={from:Jh.a.number.isRequired,to:Jh.a.number.isRequired},ZM.defaultProps={from:50,to:50};function $M(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],i=!0,r=!1,a=void 0;try{for(var o,s=e[Symbol.iterator]();!(i=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);i=!0);}catch(e){r=!0,a=e}finally{try{i||null==s.return||s.return()}finally{if(r)throw a}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return eB(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return eB(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function eB(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var tB=Id((function(e,t,n){var i=e.chartSettings.chartById[n].currentAsset;return{chartId:n,forecast:am(e,{chartId:n}),symbol:i.symbol}}),{subscribeMarketForecast:ll,unsubscribeMarketForecast:ul},Rd)((function(e){var t=e.chartId,n=e.symbol,i=e.forecast,r=e.subscribeMarketForecast,a=e.unsubscribeMarketForecast,o=$M(Object(Bh.useState)(0),2),s=o[0],c=o[1],l=$M(Object(Bh.useState)(0),2),u=l[0],h=l[1];return Object(Bh.useEffect)((function(){return r({chartId:t}),function(){a({chartId:t})}}),[n]),Object(Bh.useEffect)((function(){c(100-i),h(i)}),[i]),Lh.a.createElement(Lh.a.Fragment,null,Lh.a.createElement(qM,{from:s,to:u}))}));function nB(e){return(nB="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function iB(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function rB(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function aB(e,t){return(aB=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function oB(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=cB(e);if(t){var r=cB(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return sB(this,n)}}function sB(e,t){return!t||"object"!==nB(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function cB(e){return(cB=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var lB=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&aB(e,t)}(a,e);var t,n,i,r=oB(a);function a(){return iB(this,a),r.apply(this,arguments)}return t=a,(n=[{key:"render",value:function(){return Lh.a.createElement("div",{className:"trading-chart__left"},Lh.a.createElement(tB,null))}}])&&rB(t.prototype,n),i&&rB(t,i),a}(Lh.a.Component);function uB(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],i=!0,r=!1,a=void 0;try{for(var o,s=e[Symbol.iterator]();!(i=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);i=!0);}catch(e){r=!0,a=e}finally{try{i||null==s.return||s.return()}finally{if(r)throw a}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return hB(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return hB(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function hB(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function dB(e){var t=uB(Object(Bh.useState)({width:void 0,height:void 0}),2),n=t[0],i=t[1];return Object(Bh.useEffect)((function(){function t(){var t=document.getElementById(e),n=t?t.getBoundingClientRect():{width:0,height:0};i({width:n.width,height:n.height})}return window.addEventListener("resize",t),t(),function(){return window.removeEventListener("resize",t)}}),[]),n}var fB=function(e,t,n){return t.reduce((function(t,i){var r=i.settings;return t+function(e,t,n){var i=cl(t.yShiftAddingValue,0,100,0,e.height);return"isMinimized"in t&&t.isMinimized?w.CHART.CHART_BOTTOM_PX_MINIMIZED:n?w.CHART.CHART_BOTTOM_PX_M+i:w.CHART.CHART_BOTTOM_PX+i}(e,r,n)}),0)},pB=Id((function(e,t,n){var i=ru(n);return function(e){return{chartId:n,isMobile:e.isMobile,bottomIndicators:i(e)}}}),{zoomButtonClicked:function(e){return{type:"ZOOM/BTN",payload:{chartId:e.chartId,zoomStatus:e.action}}}},Rd)((function(e){var t=e.chartId,n=e.zoomButtonClicked,i=e.bottomIndicators,r=e.isMobile,a=i.length>0,o=fB(dB(t),i,r);return Lh.a.createElement("div",{className:"trading-chart__button-zoom",style:{bottom:20+(a?o+20:0)+"px"}},Lh.a.createElement("div",{className:"trading-chart__button-zoom__icon",onClick:function(e){e.stopPropagation(),n({chartId:t,action:Yi})}},Lh.a.createElement(Hh,{name:"minus-zoom"})),Lh.a.createElement("div",{className:"trading-chart__button-zoom__icon",onClick:function(e){e.stopPropagation(),n({chartId:t,action:Wi})}},Lh.a.createElement(Hh,{name:"plus-zoom"})))}));i(678);function mB(e){return(mB="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function yB(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function gB(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function vB(e,t){return(vB=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function bB(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=AB(e);if(t){var r=AB(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return EB(this,n)}}function EB(e,t){return!t||"object"!==mB(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function AB(e){return(AB=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var wB=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&vB(e,t)}(a,e);var t,n,i,r=bB(a);function a(){return yB(this,a),r.apply(this,arguments)}return t=a,(n=[{key:"componentDidMount",value:function(){var e=this,t=this.props,n=t.timeout,i=t.onDelete;setTimeout((function(){i&&i(e.props.id)}),n)}},{key:"render",value:function(){var e=this,t=this.props,n=t.asset,i=t.price,r=t.onDelete;return Lh.a.createElement("div",{className:"notification-tracked-value"},Lh.a.createElement(Hh,{name:"close",className:"notification-tracked-value__close",onClick:function(){r&&r(e.props.id)}}),Lh.a.createElement("div",{className:"notification-tracked-value__header"},Lh.a.createElement("div",{className:"notification-tracked-value__flags"},n.assetsList.map((function(e,t){return Lh.a.createElement(Pd,{key:t,country:e,className:"notification-tracked-value__flag"})}))),Lh.a.createElement("div",null,n.label)),Lh.a.createElement("div",null,h("Price reached {price}",i)," "))}}])&&gB(t.prototype,n),i&&gB(t,i),a}(Lh.a.Component);wB.propTypes={},wB.defaultProps={};var _B=Object(Gh.b)((function(e,t){var n=e.assets,i=e.global,r=t.asset,a=n.assetBySymbol,o=null;return n.symbols.includes(r)&&(o=a[r]),{isMobile:i.isMobile,asset:o}}))(wB);function OB(e){return(OB="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function SB(e){return function(e){if(Array.isArray(e))return CB(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return CB(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return CB(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function CB(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function TB(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function kB(e,t){return(kB=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function IB(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=xB(e);if(t){var r=xB(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return PB(this,n)}}function PB(e,t){return!t||"object"!==OB(t)&&"function"!=typeof t?NB(e):t}function NB(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function xB(e){return(xB=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var RB=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&kB(e,t)}(a,e);var t,n,i,r=IB(a);function a(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(NB(t=r.call(this,e)),"onNotificationActivate",(function(e){t.setState({notifications:[].concat(SB(t.state.notifications),[e])}),Bo.play(Mo)})),t.socket=Li.instance,t.state={notifications:[]},t}return t=a,(n=[{key:"componentDidMount",value:function(){this.socket.addEventListener(ye,this.onNotificationActivate)}},{key:"componentWillUnmount",value:function(){this.socket.removeEventListener(ye,this.onNotificationActivate)}},{key:"render",value:function(){var e=this,t=this.props.isMobile;if(!this.state.notifications.length)return null;var n=function(t){var n=e.state.notifications,i=n.find((function(e){return e.id===t}));i&&(n.splice(n.indexOf(i),1),e.setState({notifications:n}))},i=[].concat(this.state.notifications);return i.length>3&&i.splice(0,i.length-3),t?null:Lh.a.createElement("div",{style:{position:"absolute",zIndex:5,left:50,bottom:50}},Lh.a.createElement("div",{className:"trading-chart__notifications",style:{flexDirection:"row",gap:15}},i.map((function(e){return Lh.a.createElement(_B,{key:e.id,id:e.id,price:e.price,asset:e.asset,onDelete:n,timeout:3e3})}))))}}])&&TB(t.prototype,n),i&&TB(t,i),a}(Lh.a.Component),DB=Object(Gh.b)((function(e){return{isMobile:e.global.isMobile}}))(RB);function MB(e){return(MB="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function BB(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function LB(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function jB(e,t){return(jB=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function FB(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=VB(e);if(t){var r=VB(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return GB(this,n)}}function GB(e,t){return!t||"object"!==MB(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function VB(e){return(VB=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var HB=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&jB(e,t)}(a,e);var t,n,i,r=FB(a);function a(){return BB(this,a),r.apply(this,arguments)}return t=a,(n=[{key:"render",value:function(){return Lh.a.createElement(Lh.a.Fragment,null,Lh.a.createElement(DB,null),Lh.a.createElement(pB,null))}}])&&LB(t.prototype,n),i&&LB(t,i),a}(Lh.a.Component);i(680),i(682);function UB(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],i=!0,r=!1,a=void 0;try{for(var o,s=e[Symbol.iterator]();!(i=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);i=!0);}catch(e){r=!0,a=e}finally{try{i||null==s.return||s.return()}finally{if(r)throw a}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return WB(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return WB(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function WB(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var YB=function(e){var t=e.value,n=e.options,i=e.onChange,r=e.selectType,a=e.classNameContainer,o=e.disabled,s=e.isMobileOpenPopover,c=UB(Object(Bh.useState)(!1),2),l=c[0],u=c[1],h=Object(Bh.useCallback)((function(){if(o)return null;u(!l)}),[o,l,u]);Object(Bh.useEffect)((function(){s&&h()}),[s]);var d=Object(Bh.useRef)(),f=Object(Bh.useCallback)((function(e){d.current&&!d.current.contains(e.target)&&u(!1)}),[d,u]);Object(Bh.useEffect)((function(){return document.addEventListener("click",f,!0),function(){document.removeEventListener("click",f,!0)}}));var p=Object(Bh.useCallback)((function(e){return n.filter((function(t){return t.value===e}))[0].label}),[n]),m=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";switch(e){case"2":return Lh.a.createElement(Hh,{name:"chart-type-ha",className:t});case"3":return Lh.a.createElement(Hh,{name:"chart-type-bar",className:t});case"4":return Lh.a.createElement(Hh,{name:"chart-type-area",className:t});case"5":return Lh.a.createElement(Hh,{name:"chart-type-candle",className:t});default:return null}};return Lh.a.createElement("div",{className:a+(l?" active arrow":"")+(o?" disabled":""),onClick:h,ref:d},"options-type-graph"===r?m(t,"trading-chart-settings__item-icon"):p(t),l&&!o&&Lh.a.createElement(Lh.a.Fragment,null,"options-time"===r&&Lh.a.createElement("div",{className:"popover-select__settings popover-select__settings-time"},n.map((function(e,n){return function(e,n){return Lh.a.createElement("div",{key:n,onClick:function(){return i(e.value)},className:"popover-select__settings-time-item"+(t===e.value?" active":"")},e.label)}(e,n)}))),"options-type-graph"===r&&Lh.a.createElement("div",{className:"popover-select__settings popover-select__settings-type"},n.map((function(t,n){return function(t,n){return Lh.a.createElement("div",{key:n,onClick:function(){return i(t.value)},className:"popover-select__settings-type-item"+(e.value===t.value?" active":"")},m(t.value,"popover-select__settings-type-item__icon"),t.label)}(t,n)})))))};i(684),i(686);function QB(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],i=!0,r=!1,a=void 0;try{for(var o,s=e[Symbol.iterator]();!(i=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);i=!0);}catch(e){r=!0,a=e}finally{try{i||null==s.return||s.return()}finally{if(r)throw a}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return XB(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return XB(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function XB(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var zB=function(e){var t=e.chartPeriod,n=e.chartPeriods,i=e.chartType,r=e.chartTypeList,a=e.openDrawingsList,o=e.onChangeChartPeriods,s=e.onChangesChartType,c=e.toggleSettings,l=i===yi.Area.toString(),u=QB(Object(Bh.useState)(l?"type":"time"),2),h=u[0],d=u[1],f=Object(Bh.useCallback)((function(e){d(e)}),[d]),p=Object(Bh.useCallback)((function(e){return n.filter((function(t){return t.value===e}))[0].label}),[n]),m=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";switch(e){case"2":return Lh.a.createElement(Hh,{name:"chart-type-ha",className:t});case"3":return Lh.a.createElement(Hh,{name:"chart-type-bar",className:t});case"4":return Lh.a.createElement(Hh,{name:"chart-type-area",className:t});case"5":return Lh.a.createElement(Hh,{name:"chart-type-candle",className:t});default:return null}};return Lh.a.createElement("div",{className:"trading-chart-settings-mobile-horizontal__settings"},Lh.a.createElement("div",null,Lh.a.createElement("div",{className:"trading-chart-settings-mobile-horizontal__settings-button"+("drawings"===h?" active":""),onClick:function(){return a("drawings")}},Lh.a.createElement(Hh,{name:"pencil",className:"trading-chart-settings__item-icon"})),Lh.a.createElement("div",{className:"trading-chart-settings-mobile-horizontal__settings-button"+("time"===h?" active":"")+(l?" disabled":""),onClick:l?function(){}:function(){return f("time")}},p(t)),Lh.a.createElement("div",{className:"trading-chart-settings-mobile-horizontal__settings-button"+("type"===h?" active":""),onClick:function(){return f("type")}},m(i)),Lh.a.createElement("div",{className:"trading-chart-settings-mobile-horizontal__settings-button"+("indicators"===h?" active":""),onClick:function(){return a("indicators")}},Lh.a.createElement(Hh,{name:"chart-ruler",className:"trading-chart-settings__item-icon"})),Lh.a.createElement("div",{className:"trading-chart-settings-mobile-horizontal__settings-button__ellipsis",onClick:function(){return c("")}},Lh.a.createElement(Hh,{name:"ellipsis"}),Lh.a.createElement("div",{className:"trading-chart-settings-mobile-horizontal__settings-button__close"},Lh.a.createElement(Hh,{name:"close"})))),"drawings"===h&&Lh.a.createElement("div",{className:"trading-chart-settings-mobile-horizontal__settings-drawings"},Lh.a.createElement(Cm,{toggleSettingsMobile:c})),"time"===h&&Lh.a.createElement("div",{className:"trading-chart-settings-mobile-horizontal__settings-time"},n.map((function(e,n){return Lh.a.createElement("div",{key:n,onClick:function(){return o(e.value)},className:"trading-chart-settings-mobile-horizontal__settings-time__item"+(t===e.value?" active":"")},e.label)}))),"type"===h&&Lh.a.createElement("div",{className:"trading-chart-settings-mobile-horizontal__settings-type"},r.map((function(e,t){return Lh.a.createElement("div",{key:t,onClick:function(){return s(e.value)},className:"trading-chart-settings-mobile-horizontal__settings-type__item"+(i===e.value?" active":"")},m(e.value),e.label)}))),"indicators"===h&&Lh.a.createElement("div",{className:"trading-chart-settings-mobile-horizontal__settings-indicators"},Lh.a.createElement(wm,null)))};function KB(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],i=!0,r=!1,a=void 0;try{for(var o,s=e[Symbol.iterator]();!(i=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);i=!0);}catch(e){r=!0,a=e}finally{try{i||null==s.return||s.return()}finally{if(r)throw a}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return JB(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return JB(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function JB(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var qB=Object(Gh.b)((function(e){var t=e.deals.openedById;return{isModalTradeActive:e.modals.states[Ss.MOBILE_TRADE_LIST],countOpenTrades:Object.keys(t).length+Object.keys(e.pendingTrade.list).length,sidePanelOpened:e.global.sidePanelOpened,isBackgroundGraph:e.global.isBackgroundGraph,isHideTradingUI:e.global.isHideTradingUI}}),{changeIsBackgroundGraph:Zc,changeSidePanelOpened:zc,changeModalState:$h})((function(e){var t=e.isBackgroundGraph,n=e.changeIsBackgroundGraph,i=e.isHideTradingUI,r=e.sidePanelOpened,a=e.changeSidePanelOpened,o=e.countOpenTrades,s=e.changeModalState,c=e.isModalTradeActive,l=e.chartPeriod,u=e.chartPeriods,h=e.chartType,d=e.chartTypeList,f=e.openDrawingsList,p=e.setChartTime,m=e.setChartType,y=KB(Object(Bh.useState)(""),2),g=y[0],v=y[1];Object(Bh.useEffect)((function(){!t&&g&&v("")}),[t,v]);var b=Object(Bh.useCallback)((function(e){var t=g===e?"":e;v(t),n(!!t)}),[g,v,n]);return Lh.a.createElement("div",{className:"trading-chart-settings-mobile-horizontal"+(t?" active":"")},!g&&Lh.a.createElement("div",{className:"trading-chart-settings-mobile-horizontal__item"+("settings"===g?" active":""),onClick:function(){return b("settings")}},"settings"!==g&&Lh.a.createElement(Hh,{name:"ellipsis",className:"trading-chart-settings-mobile-horizontal__item-icon"}),"settings"===g&&Lh.a.createElement(Hh,{name:"close",className:"trading-chart-settings-mobile-horizontal__item-icon close"})),!i&&!g&&Lh.a.createElement("div",{className:"trading-chart-settings-mobile-horizontal__item horizontal"+("deal-list"===r?" active":""),onClick:function(){a("deal-list"!==r&&"deal-list")}},Lh.a.createElement(Hh,{name:"mobile-deal-list",className:"trading-chart-settings-mobile-horizontal__item-icon"}),"deal-list"===r&&Lh.a.createElement("div",{className:"trading-chart-settings-mobile-horizontal__item-icon__close"},Lh.a.createElement(Hh,{name:"close"})),!r&&Lh.a.createElement("div",{className:"trading-chart-settings-mobile-horizontal__item-icon__count"},Lh.a.createElement("div",null,o))),!i&&!g&&Lh.a.createElement("div",{className:"trading-chart-settings-mobile-horizontal__item vertical"+(c?" active":""),onClick:function(){s({modalId:Ss.MOBILE_TRADE_LIST,value:!c})}},Lh.a.createElement(Hh,{name:"mobile-deal-list",className:"trading-chart-settings-mobile-horizontal__item-icon"}),c&&Lh.a.createElement("div",{className:"trading-chart-settings-mobile-horizontal__item-icon__close"},Lh.a.createElement(Hh,{name:"close"})),!c&&Lh.a.createElement("div",{className:"trading-chart-settings-mobile-horizontal__item-icon__count"},Lh.a.createElement("div",null,o))),"settings"===g&&Lh.a.createElement(zB,{chartPeriod:l,chartPeriods:u,chartType:h,chartTypeList:d,openDrawingsList:f,onChangeChartPeriods:function(e){b(""),p(e)},onChangesChartType:function(e){m(e)},toggleSettings:function(){return b("")}}))}));function ZB(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],i=!0,r=!1,a=void 0;try{for(var o,s=e[Symbol.iterator]();!(i=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);i=!0);}catch(e){r=!0,a=e}finally{try{i||null==s.return||s.return()}finally{if(r)throw a}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return $B(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return $B(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function $B(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var eL=function(e,t,n){return t.reduce((function(t,i){var r=i.settings;return t+function(e,t,n){var i=cl(t.yShiftAddingValue,0,100,0,e.height);return"isMinimized"in t&&t.isMinimized?w.CHART.CHART_BOTTOM_PX_MINIMIZED:n?w.CHART.CHART_BOTTOM_PX_M+i:w.CHART.CHART_BOTTOM_PX+i}(e,r,n)}),0)},tL=Id((function(e,t,n){var i=ru(n);return function(e){var t=e.chartSettings.chartById[n],r=t.chartType,a=t.chartPeriod;return{chartId:n,isMobile:e.global.isMobile,sidePanelOpened:e.global.sidePanelOpened,chartType:r.toString(),chartPeriod:a.toString(),bottomIndicators:i(e)}}}),{changeChartType:function(e){return{type:"CHART.CHANGE_TYPE",payload:{chartId:e.chartId,chartType:e.chartType}}},changeChartPeriod:function(e){return{type:"CHART.CHANGE_PERIOD",payload:{chartId:e.chartId,chartPeriod:e.chartPeriod}}},changeSidePanelOpened:zc},Rd)((function(e){var t=e.isMobile,n=e.chartId,i=e.chartType,r=e.chartPeriod,a=e.changeChartType,o=e.changeChartPeriod,s=e.bottomIndicators,c=e.sidePanelOpened,l=e.changeSidePanelOpened,u=ZB(Object(Bh.useState)(!1),2),h=u[0],d=u[1],f=Object(Bh.useCallback)((function(){d(!h)}),[d,h]),p=Object(Bh.useCallback)((function(e){l(c!==e&&e),t&&f()}),[t,f,c,l]),m=Object(Bh.useMemo)((function(){return Object.keys(vi).map((function(e){var t=vi[e],n=bi[t];return{value:String(t),label:n}}))}),[vi,bi]),y=Object(Bh.useCallback)((function(e){t&&f(),o({chartPeriod:parseInt(e,10),chartId:n})}),[t,f,o,n]),g=Object(Bh.useMemo)((function(){return Object.keys(yi).map((function(e){var t=yi[e],n=gi[t];return{value:String(t),label:n}}))}),[yi,gi]),v=Object(Bh.useCallback)((function(e){t&&f(),a({chartType:parseInt(e,10),chartId:n})}),[t,f,a,n]),b=s.length>0,E=eL(dB(n),s,t),A=t?20:30+(b?E:0);return Lh.a.createElement(Lh.a.Fragment,null,Lh.a.createElement("div",{className:"trading-chart-settings"+(h?" active":""),style:{bottom:A+"px"}},Lh.a.createElement("div",{className:"trading-chart-settings__toggle",onClick:f},Lh.a.createElement(Hh,{name:"ellipsis",className:"trading-chart-settings__item-icon"})),Lh.a.createElement("div",{onClick:function(){return p("drawings")},className:"trading-chart-settings__item"+("drawings"===c?" active":"")},Lh.a.createElement(Hh,{name:"pencil",className:"trading-chart-settings__item-icon"})),Lh.a.createElement(YB,{value:r,options:m,onChange:y,selectType:"options-time",classNameContainer:"trading-chart-settings__item",disabled:i===yi.Area.toString(),isMobileOpenPopover:t&&h&&i!==yi.Area.toString()}),Lh.a.createElement(YB,{value:i,options:g,onChange:v,selectType:"options-type-graph",classNameContainer:"trading-chart-settings__item",isMobileOpenPopover:t&&h&&i===yi.Area.toString()}),Lh.a.createElement("div",{onClick:function(){return p("indicators")},className:"trading-chart-settings__item"+("indicators"===c?" active":"")},Lh.a.createElement(Hh,{name:"chart-ruler",className:"trading-chart-settings__item-icon"}))),Lh.a.createElement(qB,{chartPeriod:r,chartPeriods:m,setChartTime:y,chartType:i,chartTypeList:g,setChartType:v,openDrawingsList:p}))})),nL=Id((function(e,t,n){return function(e){var t=e.global.isMobile,i=e.chartSettings.chartById[n].currentAsset.obj;return{active:i.active,label:i.label,isMobile:t}}}),null,Rd)((function(e){var t=e.active,n=e.label,i=e.isMobile;return Lh.a.createElement(Lh.a.Fragment,null,!t&&Lh.a.createElement(qR,{label:n}),Lh.a.createElement(KM,null),!!t&&!i&&Lh.a.createElement(lB,null),!!t&&Lh.a.createElement(HB,null),!!t&&Lh.a.createElement(tL,null))}));function iL(e){return(iL="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function rL(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function aL(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function oL(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function sL(e,t){return(sL=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function cL(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=uL(e);if(t){var r=uL(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return lL(this,n)}}function lL(e,t){return!t||"object"!==iL(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function uL(e){return(uL=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var hL=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&sL(e,t)}(a,e);var t,n,i,r=cL(a);function a(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(t=r.call(this,e)).ws=Li.instance,t.wsSuccessCloseDealId=0,t.wsUpdateClosedSocialId=0,t.wsUpdateOpenedSocialId=0,t.wsOpenSocialDealId=0,t.wsSuccessRolloverDealId=0,t.wsSuccessDoubleDealId=0,t}return t=a,(n=[{key:"componentDidMount",value:function(){var e=this;this.wsSuccessCloseDealId=this.ws.addEventListener("".concat(_).concat(F),(function(t){return e.successCloseDeals(t)})),this.wsSuccessRolloverDealId=this.ws.addEventListener("".concat(_).concat(be),(function(){return e.setDeals()})),this.wsSuccessDoubleDealId=this.ws.addEventListener("".concat(_).concat(Ee),(function(){return e.setDeals()}))}},{key:"componentWillUnmount",value:function(){this.ws.removeEventListener("".concat(_).concat(F),this.wsSuccessCloseDealId),this.ws.removeEventListener("".concat(_).concat(be),this.wsSuccessRolloverDealId),this.ws.removeEventListener("".concat(_).concat(Ee),this.wsSuccessDoubleDealId)}},{key:"componentDidUpdate",value:function(){this.setDeals()}},{key:"setDeals",value:function(){var e=this,t=this.props,n=t.openedById,i=t.openedIds;if(t.plot){var r=i.filter((function(t){return n[t].asset===e.props.symbol})).map((function(t){return e.convertOpened(n[t])}));this.props.plot.setOptions(r)}}},{key:"convertPendingOptions",value:function(e){var t=this,n={asset:null,profit:0,amount:0,time:0,id:0};return e.forEach((function(e){n.asset=e.asset,n.amount=parseFloat((n.amount+e.amount).toFixed(2)),n.time=parseFloat("".concat(e.closeTimestamp,".").concat(We(e.closeMs))),n.needToAnimate=!0,n.value=t.props.plot.pointsManager.currentValue,n.id="".concat(e.asset).concat(e.closeTimestamp)})),n}},{key:"successCloseDeals",value:function(e){var t=this;if(this.props.plot){var n=this.props.currency,i=e.deals.filter((function(e){return e.asset===t.props.symbol})).map((function(e){var t=e.asset,i=e.amount,r=e.profit,a=e.closeTimestamp,o=e.closeMs,s=e.closePrice;return{id:"".concat(t).concat(a),asset:t,currency:n,amount:i,profit:r+i,time:parseFloat("".concat(a,".").concat(We(o))),value:s}})),r=cy()(i,(function(e){return e.id})),a=Object.keys(r).map((function(e){var n=0,i=0;r[e].forEach((function(e){var t=e.amount,r=e.profit;n+=t,i+=r}));var a=r[e][0],o=a.asset,s=a.currency,c=a.time,l=a.value,u=parseFloat(n.toFixed(2)),h=parseFloat(i.toFixed(2));return sa(s)&&(u=ca({amount:n,currency:t.props.currency}),h=ca({amount:i,currency:t.props.currency})),{asset:o,amount:u,profit:h,time:c,value:l,needToAnimate:!0,id:e}}));a.length>0&&this.props.plot.setOptionsClosed(a)}}},{key:"convertOpened",value:function(e){return Object.assign(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?rL(Object(n),!0).forEach((function(t){aL(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):rL(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e),{value:e.openPrice,time:parseFloat("".concat(e.openTimestamp,".").concat(We(e.openMs))),closeTime:e.closeTimestamp,isCall:la(e.command),text:KP(e.amount,this.props.currency),needToAnimate:!0})}},{key:"render",value:function(){return null}}])&&oL(t.prototype,n),i&&oL(t,i),a}(Lh.a.Component),dL=Id((function(e){var t=e.deals;return{currency:e.global.currency,openedById:t.openedById,openedIds:t.openedIds}}),{changeModalState:$h},Rd)(hL),fL=function(e){var t=e.visible,n=e.handler;return Lh.a.createElement("div",{className:"trading-chart__button-arrow "+(t?"":"hidden"),onClick:n},Lh.a.createElement(Hh,{name:"arrow-right"}))},pL=i(106);function mL(){var e=document.createEvent("HTMLEvents");e.initEvent("resize",!0,!1),document.dispatchEvent(e)}i(688);var yL=function(e){var t=e.indicator,n=t.settings,i=n.periodShort,r=n.periodLong,a=n.opacity,o=n.isMinimized,s=n.isVisibility;return Lh.a.createElement(Lh.a.Fragment,null,o||!s?null:Lh.a.createElement(Lh.a.Fragment,null,Lh.a.createElement("span",{className:"trading-ind__name"},h("".concat(t.type))),Lh.a.createElement("span",{className:"trading-ind__param"},a),Lh.a.createElement("span",{className:"trading-ind__param"},i),Lh.a.createElement("span",{className:"trading-ind__param"},r)))},gL=function(e){var t=e.indicator,n=t.settings,i=n.adxSmoothing,r=n.diLength,a=n.lines,o=n.isMinimized,s=n.isVisibility;return Lh.a.createElement(Lh.a.Fragment,null,o||!s?null:Lh.a.createElement(Lh.a.Fragment,null,Lh.a.createElement("span",{className:"trading-ind__name"},h("".concat(t.type))),Lh.a.createElement("span",{className:"trading-ind__color",style:{backgroundColor:a.adx.color}}),Lh.a.createElement("span",{className:"trading-ind__param"},i),Lh.a.createElement("span",{className:"trading-ind__color",style:{backgroundColor:a.minusDI.color}}),Lh.a.createElement("span",{className:"trading-ind__color",style:{backgroundColor:a.plusDI.color}}),Lh.a.createElement("span",{className:"trading-ind__param"},r)))},vL=function(e){var t=e.indicator,n=t.settings,i=n.isMinimized,r=n.isVisibility;return Lh.a.createElement(Lh.a.Fragment,null,i||!r?null:Lh.a.createElement(Lh.a.Fragment,null,Lh.a.createElement("span",{className:"trading-ind__name"},h("".concat(t.type))),Lh.a.createElement("span",{className:"trading-ind__color",style:{backgroundColor:n.lines.macd.color}}),Lh.a.createElement("span",{className:"trading-ind__param"},n.fastPeriod),Lh.a.createElement("span",{className:"trading-ind__param"},n.slowPeriod),Lh.a.createElement("span",{className:"trading-ind__color",style:{backgroundColor:n.lines.signal.color}}),Lh.a.createElement("span",{className:"trading-ind__param"},n.signalPeriod)))},bL=function(e){var t=e.indicator,n=t.settings,i=n.isMinimized,r=n.isVisibility;return Lh.a.createElement(Lh.a.Fragment,null,i||!r?null:Lh.a.createElement(Lh.a.Fragment,null,Lh.a.createElement("span",{className:"trading-ind__name"},h("".concat(t.type))),Lh.a.createElement("span",{className:"trading-ind__color",style:{backgroundColor:n.lines.kPeriod.color}}),Lh.a.createElement("span",{className:"trading-ind__param"},n.kPeriod),Lh.a.createElement("span",{className:"trading-ind__color",style:{backgroundColor:n.lines.dPeriod.color}}),Lh.a.createElement("span",{className:"trading-ind__param"},n.dPeriod),Lh.a.createElement("span",{className:"trading-ind__param"},n.ma,":",n.mPeriod),Lh.a.createElement("span",{className:"trading-ind__param"},n.overboughtLevel),Lh.a.createElement("span",{className:"trading-ind__param"},n.oversoldLevel)))},EL=function(e){var t=e.indicator,n=t.settings,i=n.isMinimized,r=n.isVisibility;return Lh.a.createElement(Lh.a.Fragment,null,i||!r?null:Lh.a.createElement(Lh.a.Fragment,null,Lh.a.createElement("span",{className:"trading-ind__name"},h("".concat(t.type))),Lh.a.createElement("span",{className:"trading-ind__color",style:{backgroundColor:n.lines.up.color}}),Lh.a.createElement("span",{className:"trading-ind__color",style:{backgroundColor:n.lines.down.color}}),Lh.a.createElement("span",{className:"trading-ind__param"},n.period)))},AL=function(e){var t=e.indicator,n=t.settings,i=n.isMinimized,r=n.isVisibility;return Lh.a.createElement(Lh.a.Fragment,null,i||!r?null:Lh.a.createElement(Lh.a.Fragment,null,Lh.a.createElement("span",{className:"trading-ind__name"},h("".concat(t.type))),Lh.a.createElement("span",{className:"trading-ind__color",style:{backgroundColor:n.lines.main.color}}),Lh.a.createElement("span",{className:"trading-ind__param"},n.period)))},wL=function(e){var t=e.indicator,n=t.settings,i=n.isMinimized,r=n.isVisibility;return Lh.a.createElement(Lh.a.Fragment,null,i||!r?null:Lh.a.createElement(Lh.a.Fragment,null,Lh.a.createElement("span",{className:"trading-ind__name"},h("".concat(t.type))),Lh.a.createElement("span",{className:"trading-ind__color",style:{backgroundColor:n.lines.main.color}}),Lh.a.createElement("span",{className:"trading-ind__param"},n.period)))},_L=function(e){var t=e.indicator,n=t.settings,i=n.isMinimized,r=n.isVisibility;return Lh.a.createElement(Lh.a.Fragment,null,i||!r?null:Lh.a.createElement(Lh.a.Fragment,null,Lh.a.createElement("span",{className:"trading-ind__name"},h("".concat(t.type))),Lh.a.createElement("span",{className:"trading-ind__color",style:{backgroundColor:n.lines.main.color}}),Lh.a.createElement("span",{className:"trading-ind__param"},n.period)))},OL=function(e){var t=e.indicator,n=t.settings,i=n.isMinimized,r=n.isVisibility;return Lh.a.createElement(Lh.a.Fragment,null,i||!r?null:Lh.a.createElement(Lh.a.Fragment,null,Lh.a.createElement("span",{className:"trading-ind__name"},h("".concat(t.type))),Lh.a.createElement("span",{className:"trading-ind__color",style:{backgroundColor:n.lines.main.color}}),Lh.a.createElement("span",{className:"trading-ind__param"},n.period)))},SL=function(e){var t=e.indicator,n=t.settings,i=n.isMinimized,r=n.isVisibility;return Lh.a.createElement(Lh.a.Fragment,null,i||!r?null:Lh.a.createElement(Lh.a.Fragment,null,Lh.a.createElement("span",{className:"trading-ind__name"},h("".concat(t.type))),Lh.a.createElement("span",{className:"trading-ind__color",style:{backgroundColor:n.lines.main.color}}),Lh.a.createElement("span",{className:"trading-ind__param"},n.period)))},CL=function(e){var t=e.indicator,n=t.settings,i=n.isMinimized,r=n.isVisibility;return Lh.a.createElement(Lh.a.Fragment,null,i||!r?null:Lh.a.createElement(Lh.a.Fragment,null,Lh.a.createElement("span",{className:"trading-ind__name"},h("".concat(t.type))),Lh.a.createElement("span",{className:"trading-ind__color",style:{backgroundColor:n.lines.main.color}}),Lh.a.createElement("span",{className:"trading-ind__param"},n.period),Lh.a.createElement("span",{className:"trading-ind__param"},n.overboughtLevel),Lh.a.createElement("span",{className:"trading-ind__param"},n.oversoldLevel)))},TL=function(e){var t=e.indicator,n=t.settings,i=n.isMinimized,r=n.isVisibility;return Lh.a.createElement(Lh.a.Fragment,null,i||!r?null:Lh.a.createElement(Lh.a.Fragment,null,Lh.a.createElement("span",{className:"trading-ind__name"},h("".concat(t.type))),Lh.a.createElement("span",{className:"trading-ind__color",style:{backgroundColor:n.lines.main.color}}),Lh.a.createElement("span",{className:"trading-ind__param"},n.period)))},kL=function(e){var t=e.indicator,n=t.settings,i=n.isMinimized,r=n.isVisibility;return Lh.a.createElement(Lh.a.Fragment,null,i||!r?null:Lh.a.createElement(Lh.a.Fragment,null,Lh.a.createElement("span",{className:"trading-ind__name"},h("".concat(t.type))),Lh.a.createElement("span",{className:"trading-ind__color",style:{backgroundColor:n.lines.viMinus.color}}),Lh.a.createElement("span",{className:"trading-ind__color",style:{backgroundColor:n.lines.viPlus.color}}),Lh.a.createElement("span",{className:"trading-ind__param"},n.period)))},IL=function(e){var t=e.indicator,n=t.settings,i=n.isMinimized,r=n.isVisibility;return Lh.a.createElement(Lh.a.Fragment,null,i||!r?null:Lh.a.createElement(Lh.a.Fragment,null,Lh.a.createElement("span",{className:"trading-ind__name"},h("".concat(t.type))),Lh.a.createElement("span",{className:"trading-ind__color",style:{backgroundColor:n.lines.lowerBand.color}}),Lh.a.createElement("span",{className:"trading-ind__color",style:{backgroundColor:n.lines.upperBand.color}}),Lh.a.createElement("span",{className:"trading-ind__color",style:{backgroundColor:n.lines.main.color}}),Lh.a.createElement("span",{className:"trading-ind__param"},n.period)))},PL=function(e){var t=e.indicator,n=t.settings,i=n.opacity,r=n.isMinimized,a=n.isVisibility;return Lh.a.createElement(Lh.a.Fragment,null,r||!a?null:Lh.a.createElement(Lh.a.Fragment,null,Lh.a.createElement("span",{className:"trading-ind__name"},h("".concat(t.type))),Lh.a.createElement("span",{className:"trading-ind__param"},i)))},NL=function(e){var t=e.indicator,n=t.settings,i=n.isMinimized,r=n.isVisibility;return Lh.a.createElement(Lh.a.Fragment,null,i||!r?null:Lh.a.createElement(Lh.a.Fragment,null,Lh.a.createElement("span",{className:"trading-ind__name"},h("".concat(t.type))),Lh.a.createElement("span",{className:"trading-ind__color",style:{backgroundColor:n.lines.main.color}}),Lh.a.createElement("span",{className:"trading-ind__param"},n.period)))},xL=function(e){var t=e.indicator,n=t.settings,i=n.isMinimized,r=n.isVisibility;return Lh.a.createElement(Lh.a.Fragment,null,i||!r?null:Lh.a.createElement(Lh.a.Fragment,null,Lh.a.createElement("span",{className:"trading-ind__name"},h("".concat(t.type))),Lh.a.createElement("span",{className:"trading-ind__color",style:{backgroundColor:n.lines.upper.color}}),Lh.a.createElement("span",{className:"trading-ind__color",style:{backgroundColor:n.lines.lower.color}}),Lh.a.createElement("span",{className:"trading-ind__param"},n.length),Lh.a.createElement("span",{className:"trading-ind__param"},n.fastLength),Lh.a.createElement("span",{className:"trading-ind__param"},n.slowLength),Lh.a.createElement("span",{className:"trading-ind__param"},n.factorUpper),Lh.a.createElement("span",{className:"trading-ind__param"},n.factorLower)))},RL=function(e){var t=e.indicator,n=t.settings,i=n.length,r=n.opacity,a=n.isMinimized,o=n.isVisibility;return Lh.a.createElement(Lh.a.Fragment,null,a||!o?null:Lh.a.createElement(Lh.a.Fragment,null,Lh.a.createElement("span",{className:"trading-ind__name"},h("".concat(t.type))),Lh.a.createElement("span",{className:"trading-ind__param"},i),Lh.a.createElement("span",{className:"trading-ind__param"},r)))};function DL(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function ML(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?DL(Object(n),!0).forEach((function(t){BL(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):DL(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function BL(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var LL=w.CHART.INDICATORS.INDICATORS_LIST,jL=Id((function(e,t,n){return{chartId:n,isMobile:e.global.isMobile,theme:e.global.theme}}),{changeIndicatorHeight:function(e){return{type:"INDICATOR.H.CHANGE",payload:{id:e.id,expanded:e.expanded}}},deleteIndicator:Ku,editIndicator:zu},Rd)((function(e){var t=e.chartId,n=e.editIndicatorHandler,i=e.deleteIndicator,r=e.editIndicator,a=e.indicator,o=e.isMobile,s=e.theme,c=a.id,l=a.type,u=a.settings,h=dB(t),d="isMinimized"in u&&u.isMinimized,f=!("isVisibility"in u)||u.isVisibility,p=cl(u.yShiftAddingValue,0,100,0,h.height),m=d?w.CHART.CHART_BOTTOM_PX_MINIMIZED:o?w.CHART.CHART_BOTTOM_PX_M+p:w.CHART.CHART_BOTTOM_PX+p,y="light"===s?"light":"dark",g=d?"-up":"-down",v=f?"eye":"eye-cross";return Lh.a.createElement(Lh.a.Fragment,null,Lh.a.createElement("div",{className:d?"indicator-item__minified":"indicator-item",key:c,style:{height:m+"px"}},Lh.a.createElement("div",{className:"trading-ind"},Lh.a.createElement("button",{onClick:function(){var e=a.settings,t="isMinimized"in e&&e.isMinimized;r(a.id,ML(ML({},e),{},{isMinimized:!t}),!0)},className:"trading-ind__action trading-ind__action--minimize"},Lh.a.createElement(Hh,{name:y+g})),Lh.a.createElement("button",{onClick:function(){var e=a.settings,t="isVisibility"in e&&e.isVisibility;r(a.id,ML(ML({},e),{},{isVisibility:!t}),!0)},className:"trading-ind__action trading-ind__action--visibility ".concat("light"===s?"--black":"--white")},Lh.a.createElement(Hh,{name:v})),l===LL.AWESOME_OSCILLATOR&&Lh.a.createElement(yL,{indicator:a}),l===LL.VOLUME_OSCILLATOR&&Lh.a.createElement(PL,{indicator:a}),l===LL.WEIS_WAVE_VOLUME_OSCILLATOR&&Lh.a.createElement(RL,{indicator:a}),l===LL.MACD&&Lh.a.createElement(vL,{indicator:a}),l===LL.ADX&&Lh.a.createElement(gL,{indicator:a}),l===LL.STOCHASTIC_OSCILLATOR&&Lh.a.createElement(bL,{indicator:a}),l===LL.AROON&&Lh.a.createElement(EL,{indicator:a}),l===LL.BEARS_POWER&&Lh.a.createElement(AL,{indicator:a}),l===LL.BULLS_POWER&&Lh.a.createElement(wL,{indicator:a}),l===LL.CCI&&Lh.a.createElement(_L,{indicator:a}),l===LL.DEMARKER&&Lh.a.createElement(OL,{indicator:a}),l===LL.MOMENTUM&&Lh.a.createElement(SL,{indicator:a}),l===LL.RSI&&Lh.a.createElement(CL,{indicator:a}),l===LL.RATE_OF_CHANGE&&Lh.a.createElement(TL,{indicator:a}),l===LL.VORTEX&&Lh.a.createElement(kL,{indicator:a}),l===LL.WILLIAMS_R&&Lh.a.createElement(IL,{indicator:a}),l===LL.ATR&&Lh.a.createElement(NL,{indicator:a}),l===LL.SCHAFF_TREND_CYCLE&&Lh.a.createElement(xL,{indicator:a}),d?null:Lh.a.createElement(Lh.a.Fragment,null,Lh.a.createElement("button",{onClick:n,className:"trading-ind__action trading-ind__action--edit"},Lh.a.createElement(Hh,{name:"pencil"})),Lh.a.createElement("button",{onClick:function(){return i(a.id)},className:"trading-ind__action trading-ind__action--remove"},Lh.a.createElement(Hh,{name:"close-small"}))))))})),FL=(i(690),Id((function(e,t,n){var i=ru(n);return function(e){return{indicators:i(e)}}}),{changeSelectedIndicatorReqId:Kc},Rd)((function(e){var t=e.indicators,n=e.changeSelectedIndicatorReqId,i=(e.plot,function(e){return function(){n(!1),setTimeout((function(){return n({selectedIndicatorReqId:e.requestId,sidePanelOpened:!0})}),100)}});return t.length?Lh.a.createElement("div",{className:"indicator-list"},t.sort((function(e,t){return e.type in Xl&&t.type in Xl&&Xl[e.type].isBottom&&Xl[t.type].isBottom&&Xl[t.type].priority-Xl[e.type].priority})).map((function(e){return Lh.a.createElement(jL,{key:e.id,indicator:e,editIndicatorHandler:i(e)})}))):null}))),GL=(i(692),new Yh.a({id:"loader",use:"loader-usage",viewBox:"-3 -3 106 106",content:'<symbol viewBox="-3 -3 106 106" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" id="loader">\n    <circle class="loader-path" cx="50" cy="50" r="50" fill="#FFFFFF" stroke="#EFEFEF" stroke-width="1"></circle>\n\n    <circle class="loader-path" cx="50" cy="50" r="50" fill="none" stroke="#026FD3" stroke-width="1" stroke-dasharray="75,350">\n        <animateTransform attributeName="transform" attributeType="XML" type="rotate" from="0 50 50" to="-360 50 50" dur="2s" fill="freeze" calcMode="spline" keySplines="0.4 0 0.61 1;0.4 0 0.61 1" repeatCount="indefinite" />\n        <animate attributeName="stroke-dashoffset" values="0;55;0" dur="2s" fill="freeze" calcMode="spline" keySplines="0.4 0 0.61 1;0.4 0 0.61 1" repeatCount="indefinite"></animate>\n    </circle>\n\n    <image x="34" y="34" width="32" height="32" xlink:href="data:image/gif;base64,R0lGODlhIAAgAPcAAPHx8fLz8vT09Pr6+fr8/v38/f3+//3///77/P/9/v/+//////f49/r7++7u7/Hx8vv//v39/vf6+vH49/P09/b29P/9++z7/e7u7fTz9P77//76+vn59/35+Pjz9PTw7vvz9v/4///9/NP7/v/7+O3y8ubo5+/z8/Pv8/ns7uzu7+vr7ebs7u/q6+X7/fXx8+Tf3+/k5evj5fnp7vL8/vb//uv8//Hz8/r8/N38/vPz7/fz7/rw7/Tz8P3v9unz9/Xz8f759PH37+z59P3j7dXJzf3s9v3z+/vf5/jS3t67xbnAxvvd4pQFMpANNqIQP5wXQKIaRezs7vL7+/Xt6tvQ1erS2vLK1Prk6PTd4eTP1v7o9unL09/Hz9a6w+THz+2/zv3q6/jP2o5/hpwKOIYPNLGhqZwDMZUkRqINPKoPQJQYP/7R5YkDLp0NO5cNOPjs6MOeqv/j9taSp7GNmd6es8+Wp+mtv+y8yNeots2qtM2dq9SgsMGytZBndP281aeIkPSfu3cBJGcPLc9Se8Juh1YcLohBV10CHrFGZqIENZEAK7EYS4xSZHgOL7tifMKLns2LoFUMI+hxmXo8T4gAJ6kbSX8BJq1qfoodP96DoW4CIbEyW7xwhvisxGofN3sfPM9wj6kEOJAzUG07S6ZPaqthd7xXd+qSr6MqTr8eUrw2YfZvnfqDrb1NcbNVcqx3h7Zhes9jhqc9XKQyVsY5aNY/cW5gawAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACH/C05FVFNDQVBFMi4wAwEAAAAh+QQFBwAEACwAAAAAIAAgAAAG/0DDQkgcGovIo1K4bBYKgEqjmTRUFwVjgSEIBLpUpbMg5GK8jgBAMLgSkZHstAFYM9QVNSBi4DeVBRENAwV0UhF1hHkDCxVtS1V1gw1CdABGDGRplGJCA3cOK2xxfAUYAIGpERUOZwwLDWREAgCnDAN+QgUOe0R8EXdeAnELRhgYAmR+T1mnWc9GDRV1b0NrWNjSDLG8fBUMv5V1RkYAAbhEUAANEc4L5nJkA+a6RF6xWHx1T90GdbkL5l3qU+5cBAGO3q1rh+pdgEBdGtAJUG/IvQIrMLTZt6vXP3X6BkYoiCsRooXu4J18Qg+LvQCxEqnj53HPTEtDRgoxVxJAT6J2KR+ejEnRpUWY6mKi6hgyzj6cBHcaNCmJYRaVkqAUJXNUqVKaTW+Oi+qw50+rDgNlbcnVwEWZHPt9fDpWZ6NQtc4lRduyDoBWUob4GqBmhc+ZTP2tm3cKwDZyRQrMa6UHaMO/Xb7cQuKLyABafsG6PbPilhZiVCIMqHAsAANzCL+cc+MGy51juJGBqx2GiLRWvGD2Fjy80pe2pK4ULw6QSBAAIfkEBQYAAAAsAAAAACAAIAAACJIAAQgcSLCgwYMIEypcaNAAw4cABghUgGMBRIgLOiwwgMPhRYQVj2j4Q6gFgo8ID0AgAqiMIBQJUB5ssOCPoUGFCmy0KHNghRVb5gSSs6BAz4IsVIBIYGCBhhAFIhwVOGEIAgRTaiTYIHEqQp4KdX4EqzCC0YsNHgYQeNar27dw48qdS7eu3bt48+rdy7ev37oBAQAh+QQFBwABACwAAAAAHAAcAAAIqAATKBBIcODAAAgTKlyI0KBAAwcDKGBIUWHBBAsEVtyYcOACAwto1KgBgeNGggs21LiAsIBJigoQFBh5ZEGAUy8pJkBYw8CWAI4GBdCQU6FHOagsXRrUCcHEoggJlkJUaZUnhAigNhTYpE2cIxB6utRK8IkbOSEuXFiQVWtCGCYY2AyQoK3bAAIEKBx7NwAGAAoH9B1MuLDhw4gTK17MuLHjx3MR8yUcEAAh+QQFBwAEACwAAAAAGwAVAAAHcIAEgoOEhYaHiImKi4yNjo+QkZKTlJWUNJaEmJEKCQpNb1dHNTQIGwKPnglRTUQhQxcFA6iOnQplZUwhNRcbs6mdTmtEBixDGxy0kFVVFQsBFQMDAZLTCwYBAdLUkRiCCwDaDdyUDgDblt6ZguYDkYEAIfkEBQYABwAsAAAAAB0AHQAAB/+AB4KDhIWGh4iJiouMjY6PkJGSk5SVlpIRDYIRlhcLBQMVBYwDhWlpRQsGOKwMN6WMAYRkZEQGKhIEEgyKo4IMsoNNZ1YaOBLIDA+NmrNkRhoPDLsUDo6yCgkKtMUM0xICjs3aCWq1CSo3EhMC1qTY2mVlLQsBAt434oLkZWgwGiYCMKhww92iAcEORChSJcCCDBkGLmNGqEAFDAsGZHgwwJVBRQgFFYgQIECDAgACDGhGcZBFlbAOhGw0s4DFCt4AAICEAcOgTKE6BmuQUFHJCqVGhgp3QGUDAA5iNoigs9BJToYwOA2AYQBKAA2I7pQ5AKuBQWcFNYjp4B4GAN4TSqrFmijCyEEOemJwMHaTL0GBAAAh+QQFBwAEACwAAAAAHAAdAAAH+oAEgoOEhYaHiImKi4yNjo+QkZKTlJWWlgWREZFPBFoLEhA4DQIADZmRWQY3EjgMAhgRDYsDhGdnWAkSEg0SDwAFqInCg0QaFAwNDDcOspJZCQKDzI3EnYI3AhIMj7OETlgLGBUMr47EBE7QKwIDDBUAjbMKCQprTjMLAdIEAecE9RK0cSLDwIoAr0rJI0DPnpMYCQS981cNID0na2IYRMhvIcAEfuIYWLAiQ4WOiwA4EJQggQYfLTxUMEmREYB4ABE0WDBggAABE00NKrBApaFZBRBEMBCsgsQAwAo4ALA0AAaJAxYQikCUaDkGUHE+KrB0aYEGaGs9CgQAIfkEBQcABAAsAAAAAA0AHQAACJ8ACQgcSLCgwYMIEypcyLChw4cQFapJkyXBlBoGcBRMM3CCQAkIFzBgyICBRoNuGmIRONKgEyczFABA2IbhmzcpFJQYcvBmCw0seBpMk0ZOCBU3OBhUswiTGAA3BlQo+GpTJTelPDVYIGCmQDmBVC2SNEfkQAMRDCzQAMgPEwABBi4ocABHiBBHtgRYMbBAhK1qB0gVECAuwQVoCygWGBAAIfkEBQYABAAsAAAAAAwAIAAACH4ACQgcSLCgwYMIEypcyLChw4cQI0qcSHEgBw4CDmIIgBDAAhYEOizgKNDNmxUGWLBAsKHCQSJsjhzJaJASJR8hSAocdOnNGUVGNLgkyKnNmTNxjOi0AcEAgVGbSCVZ6mJBAjan9GzRSSCCQAMLGgQg6XTgggIRDAxQWKAiwYAAIfkEBQcAAgAsAAAAABwAIAAACP8ABQgcSLCgwYMIEypcyLChw4cQI0qcSLGixYsFF2AUWEDEB4FWFDBogGMAEB0PESz4QObMQA4DGACB2PHjwAocOFTQgaFhgwAqPygig0VAhQoDdvZ0WJMMGYE6cDLg6RPoSoJRGVQIsHThAAE1nTjBsgCDDhAeTlYN6gRrhw5Auir8WvPN2DCvXPFAoAMlw59B7WbBssnR3rgN6Yro8eYNESKKFHnY0LdBgYWAFwB5KuDOmTRUDPAs8HXuwA2lJFVqqUZAgqgNBgBwiGCLAFWLBoYwu6A0wwQFamgUgGbTpVV9dBi43FABghpTFCT4I8vJpjFAIjSY/VuBgQMElYwjkSgdvMAaEkKEoJhAAQQICRJMqUFR+vsFCd5TfF+jhn6JAQEAIfkEBQcABAAsAAAAABwAIAAACP8ACQgcSLCgwYMIEypcyLChw4cQI0qcSLGiRQIFBvoYmFHiAIFECAwR+FFijzNksCSoUIEDg4pksiTQoYNBBYYFGggUMBDKGywKaLIEokPiGydYDGDQwfKmRCdOsizYYqRDB6JGo/KABQuECCATj2YJs8lRi68fBkQAAKBBBIZvBIYps6aFwA8NCgQAUKAjw7Ft3sTYQHNAAQAO1AZ4GHiHCJIN9jaIvJAMGSJEAgNZoAPDgMgADC926OQNEAMVPA8QEJoyQZ0GLw0EsYAKlQEbBAQQHbGPhg4ICgyo0Hr0w0W16rAxsIA1Awk3HrAO4NRgggRsCCi6ZOgQDAMPHlBmYEABQADVbwsuMHAAwgIwjcoIarQcxQ0KAm5wNLiA4BQCRrSyBixbvNDCA/ctBMGCEBgQwRQNssDCFCyoAIAADPh10IIDDQBBDVPUAGIJLJiHAAIMJaAAewPh4KIBDDzwWXoCdRQQACH5BAUGAA8ALAAACQAdABcAAAj/AB8IHEjwwYYCBRMqXNhgIcEFCj88eSOwg4UOHCo43PjgTRMsCRaIEMGB44MGAxYwqABgoEckGubU4bFBBwaOLRO6+RjG0CeaOgQi3FhAQM6OH5FcchIDQYCbJgcECECwSRgmTtakcGpyoFGBPcg0QcKmyRsQC4DoaBABA4ACEBNKpfogbBo2YszySAAEQ4ECDgBEMLDwa12BSMI0GTikBFu3CBQcHTg3IZImbnYYGMLib+ACCSZ7FY3kgVkPC8KEGYBAxdsFoocuNKtZ9YYBABwMBgBggQHeAxgYHlhJoKIjYVydAtGhRAkcEERjgLpQ0YMsjja96KCiBIToAIIHegAwtSCEhKqapPFxxLkE8AEcCBzwN+4DCBI0aBi4qFKaGAa4J4EABdnHURuXWMIKG0dUwEB5DwwQgUMHFBRIKpdcQokd4xHYFUESHGDAC5F8gogjJkCQ0ocDHQABAgmEwMYpk0xBg28stlhDDQj4dkADODRAAEGECRQQACH5BAUHAAIALAAACgAfABYAAAj/AAUIHEiwoEGDAQy+eWNiQYcNAwYAOXiQAUUBJgxkybJAxMWCESiSOYPESBk0KRAAEBjy44CDI5EgKVPGh4GEHwc2uEiESZMnGBbkHCqwZ5M0HAwQFWixIBAyaZgkEbhjgQ4MGxIsLZiGjEyBLTpgWIFA68emOalsOGLEQAIAAAq03DrwDYgOdOh0QBAAQIMGOAmipbhI4IdNjlZsWLFiwE6DL4nKAAVqBQcVKwoANlhhqCiBZ84AWMCDh4EFgekOFKUmQAAZMBYk6Kya4BlRcjxlQpngxgPBmgsQXaTmjydHNTXcADlwgdKhamw1IRP2o9ycrQRUWvRTxovaB0OBG9pURsYG8AQ3GDgiwJWAEBsiCEd/usZAHEQDAgAh+QQFBwACACwAAAsAIAAVAAAIzAAFCBxIkEMADAUiEFzIsCFDHQILEAzgsCJDihYzZpQ4UaNDNwJ1YNiAYOEDjwzJAOFgEEGCiAVOoiS46M0HD3/+HElQogTJmQ2p7DjUKMWGngg2YAQ6kEeLNmuwhADgoEGDpUwFdGhRpsyMIytWROCYtUkTDzLeRCHC5tGjECGwAm3yAUYbN3KUIHKE5EjWgYoEpmG05U+TKCZq/F24qIkRMW3eqJiymGaTI1wWqTEBofJAMmRCdDmj6ERnzwzdtCiJuqGH1rBjy24YEAAh+QQFBgAEACwAAAkAIAAXAAAI/wAJCBxIkECDCAUTKlzIUGCBhgqdxFhwZMOUCQEAIHgoMEIAiASdNIkxEIIEACYQIBjYACRBN02YbCF4xAeCBA4ENvjokgBMAkwIcuFyE4CKCAN6CnTiRCAZMjx40EqUIgQAABsGBOAJ0kmbMEzOnPGRZZOjGSEyZNiwQYDSN26yZBFoJMkbKES2zKkTIgRXkG7eYMGy6I0PJk3wgpH0qarSgVjCtHljBEuTJ3LAZELjQ8NjyJOPYHmDGc+mMjJCfCZAhEgbJz5ikHmyRQyZKCxqrCaYwsqiRUauLHKTe/WlgT6InCFj5MsZUSsU7K4kUA+TSml8OFdUwcBj3QTPCDOk/acJGbTfpyhIIFDUbzJsyp8/spvh8Bgd6i8cDuOF/oWOwODZfwURIgsPAxKY0AEuBQQAIfkEBQcABAAsAAAJACAAFwAACP8ACQgcSLCgigcNCipcyHAgAIQJGy58IzCEBhwLjhgxAGFAhhwjAAiMAACAgQEMKQoMg+VACViwatTg8DGHAIcAIi4kc0agkzVYrAgStOUIGzY4KBAsOYABQ54CLwnMAsXJliuDQK0woLBpyiYCFSkKE+aMGjl/2rjxoaGr04lNiDARaySLWTlg2jxp0bYgyqdumAgks4VAkyd420ABsMBtQzJIBg9EnBfK1psEGzCokFLgIjdGiAzE4ygTw6aYFaoES4AIGYFgBmWKsVAzZ4lNmvjIQkbNVb0scDBMLTGMwCZGxBxWIVzhZoaIBooaqMhzGoYAHIhUKMczwUUFMwx6LPCXAADiAyEsrDTwTJoUGgIEEDBfYIPyBCFISJDgj8AzTbghhxg9CYTZdhIxVIYgjBCiiCiasPHADQIwMEABBSSoUCACVSKKKIjEIoAEjY2koUIzRPLJJZdQUseJDUFQQ18DyXEEQSXCOJAGCeBwgAELJFBAc+MpFBAAIfkEBQcABAAsBwABABkAHwAACP8ACQgUGGGgwYMIEQ5IyJBhBQYBIgaoQLFhQgcBBAAQWKBAAIsMGVQIAMBABAYgDw4YsMCAAwwRCqRE2MDAggclIzSYabDBggErbgyQydPCADlyQoQwYsTkUIENCjIUMeAQJR9W/GCqIJArgQYsURo8ItBEpTdywCxShALBR4EZBzAQYJAIkgUwKkHZcuUMow8JBLwlufDgmjVhtLSBknaRGgwKEDKYa7DNJbJOGIM5o8ZB4IReEWbeAmZxioST6SYcLXDNDA1vDVZcvXdgCg2SK6gWvRfMJSgxYKu0+EYgmIEhGMY+WHwLz+cENhIoAABAA7HPpRcmEJqnCRMCGFRbx/ASOoYACygTWD6zAYAPL2LvTJlG4BIMCzA8tzRwEhpDf7zQQQExSdXQJQMJckkjYizQQUsLgKSCQIK0IVACC2wQWUoHGDSJQCEc4WCBFtVQg0EmSmBQSwgFBAAh+QQFBgARACwLAAEAFQAfAAAI/wAjCBy4YaDBgwgFZsiQEOGECUNYYFixQkqAhgZVnBgyREAAATcwGhziAkSHLVtqTGEgQGSECxcE7lEyxIBLgRMgHMEjyAmPBTcjQIAQAo+jNSFsBj2SIEsTNR8WSMDR4MDUBi0NUiJ1REkTNx4SULiBw4AEBjgSuhko6oWCGw8aLADJgEEFg4uebPkjEIVAAA0MCHDAAGGTgWfUtEhwA4CEAydUDHww8LDBDxoGS4BwQwUFlgjlHGz8OPLkg6IjQJkRQjNnFWcpGGzyJPVA0pBVMJAggLLAN08EthEY4oaDzZ1jGyyzRiBzIyEeANig4MWHAQOyOl8jB8ylNTGOAKpYMWDDixYZ7hp8A2Vv4hYbZsTw0EE6ihcPfEdo02RLhDNptNCBDzN00EEGALzgQUI+/CcKEURAEskRR5RwghE+AICRKEcgIcknM8xwwg0++KCeQIuocQQYKR6RxBtteLHFBBJQOIBBAPpXiYpXtOGEHkdIUOMRBRTg0iaO6CEVBAggEFQif4RwBAQGJODkTQYskOVABwSFQJYSbJAAAUEJVIMGCaQ51EEBAQAh+QQFBwAAACwLAAAAFQAgAAAI/wABCBxIsKBBAzgMKjR4gMHChwKnACBCx0mUFgggFgzhpc2aFh00CiwxJQSYRWkwigQwpUYIPCg9rCxYKc3Mgoue3ASwxQCAM2pSKFh5iJLAM2l8aJhJhohARR8s6NDBQaqOChVouhmoJqoODFW/Yi3YBgoRmAKlYmAAQQiGsQbPCqSy4SsHHG6BZCXYxCyegXXXtn27t6BcAHA62MVL2KBfgWEUC3YLlyCULXgqCQSx2C2HwgTPVlrDI4amUBY46PhQgcPCv2/gxPgEqoWIrzp6FGziZsuVM4qoyLDIosaH4x9wLvINPAUMJ1BYTNnR4jhERUSYNLGEJAQVKhimAmJRuAiADyaLLDFJIuODeNcDnxz5M5DNmTOZMsHgUGMIhwEDLXLGH54IhEQeZyyCSCZVcLDAEAMAKJIfTIhgQQI3eXKEDxuIMNRKIexEkAYhDOATAAfMVEMNCSiQQAIGpEhQQAAh+QQFBwAAACwJAAAAFwAgAAAI/wAXGDggAYGBDQggQADAsKHDhgYWQFhwpI6qWjcWMGjwsKOCBDVYmJIkaJEJHAICdFxZw8ShQYoYzQixsiaLKX8KNUkT44gAhwVqAmDBIgEXhiwWCn1Yg6GXRW5uLO3IYYGGLpXcTO0ocIGSrSuJHEmQpc0ThhwGDBDBIS2QlZQaNnmSAkEFHQMsMNDBocLDBibmEsGz6EmYDTo+NPwAhEGFnw4FE3YTpkOPhkAwOK6gMvJZhoaPfMDAwYIOzRyAvGUIIguZJ1smYwHBoUfp033vPnQCRQ6eSlDCwJmjqQMJHlQ8gFDdMMzDSm/gZAEFqoUI5Ds86GbovMwaOWAuraZJEUM8FgU8UnzYwdyhd9/i4ZRfQyRB+h07KlzuCP6SE4ZkWILFAmGEgZ9QW4TnRAwykKEGFgUU+IFiK0HB0CJktNAgANYVmAIPK7XRhhGLAVBYCxZ4mMJKGF6oSBhZQMXEEYRwcognQoHQxSKK+JAFdGJAIsglkswxVSUPqbKIJId4cQQDHVXSxB94OKTIIpekEYkcFIFV0wYKeFlTAmKWaeaZNQUEACH5BAUGAAAALAgAAAAYACAAAAj/AAEIrFFjgQEfGhYIXMiwoQKBIRZsQcVolZIQAyo03AjAYAIrpSSdWWQoToUAETg2zDBpjaBFZ86Q+qOyYcEqlwTZYqVIjZgtNRm+QlGEFB8DXJq4SREi6MJNHj7IOXJEySIyLRI4XThAwQQITQWtMfJwKwAFCCBAWFCkzRqzG7eEYHNGzQeFDBkMCKDyECUfeOruQABE4ACBDGqSURPmSxsoWDbMmdPBQo8PASpMuKG2xsLFRpRUghKGxydKGETswBAgwIQTnTeCGR0Gi1gsC3hQ0VHhBmcIngW+ETj7TZgsl9ZgMaBbBxABJWILfyJntpswTMhYorIgTBjeQoRI/Qfw5skWMAKxk3lCRYR35xOiA1/YxHxxLEyUphDRAsaQITecMNBn9lViXBYG8sBfEFMMAd0BBgQHgBNQnGfgcU284YMPRjCBwwRisAECWgtRKFAbTmDohg9YNOIHDkUYQskCGhTAkBsnvoFFFm9E4YMYBh4hhiCWHNHBBQst0kSOxy3i4xVvWHJHI5dY0sEGSArUxJIAoEgEE48ZgURMi1wiSSfRNXCjDwBU4oQPYDqBBCyLLFKJLX8csQAODFXyBFKjHcFETKss4ggtfYRgAA4NHNCUQFchwcUlUWyhhCJnXKKGLAJpwCgOBjwKl0B4GYDXqAIZgOqqrLbKUUAAIfkEBQcAAAAsCQAAABcAHQAACP8AAQgceEQDhIEIEyocqErJAgQeFkoUWOkMAEAtPBQoMFEgqyeb2pwRdUmQk1Y1hkCAkGBBAgUKLyFsRUtQmykQJEgoYEBBAoV6DFRZ9MTAC0iUVjAoMeHnwi0hNBRZ5KaFgQRiGAyYUKLCgAIIBn7FKVXmgwU4JGhAMEBAixcVOAp0CcEAQrkAECCIMKDDiwwZFBrRkKQSlBkJtmzpwBhEBSCAEcAUSInSESVtoKRAQIrSDgMddnCokOGBT4RP5ICp9IQIkyZqWiwAsQPI4w8IFtgV+GQLnkpuwjAhE9vAjg+PgWDguUDgGTVyBLpx/eZJCxE6WgDhcMTHhgROLQrspOq6yRsdIkyYGA3mCoIEcpv0FvhmvBseIoh455EpkYYQYQFAhkJZNJEGCD54ocQGXSCSyREGBKhQGFkQZQQToIwCQheXcJKCBvG5IVAbAxHlgxiDfHIEh5ZscEQEYWAh3xZXkDjeE0YkgYgjR3xxSSofLCABCDKKSN+NRoiRSSYh+JhKAgjgMNATCmUWRBWGHfFHJavsIMIUHV3yxpVtuOFJKYIwAoIBYHZU4hlnVPJJJEAsUIOb9ZUokBwLiHAQAEQ5ReV4qogHgAYXuDDAAhoAilAlA52xCKQI2WCDbo0mJB4UEuHl5qcABAQAIfkEBQcAAAAsCQAAABcAHQAACP8AAQgcSLCgwYMIEypcyBChAgMLGhpMkGCBgQgFJBJ8iBGjRgAeOjQYIDDCAAUTFjIIcITHhiMUAShAcABCQg0LGshocQTEhgQI3RDk0GHDgg4d5MjZoAGoQTcpOgjsYeDngiqUTGnQkBHAmydbBLoJg2VRmhQJfIroswmNjwUIBL4RCKbSmzBIFpHhgWDBkQV9BNFKEaJrEyhhvYbJciaNDx+ePBnwIsjShg0N5AoF0OZulkVPfDAxRGqDl0pRjhjAMRBKwSyVQlsRlOnInUuDQ7AG4ASKETBtnAgE7UNLmUxG8FxKlcKATbFbrrQxKMYRmiNKKjHqu1uhkSSOMoUvUNKGUwcEBIwQabKZYSWCR4h8DDq/vv37H2MbEOha4xmCl+AHgCICoYHQfgISFBAAIfkEBQYAAAAsAAAAACAAGwAACP8AAQgcSLCgwYMIEypcyBChgQgFIxRoeHANAAMFICwwIKEBjgILJiqsNFCUQE6CygwwAAHCAQMLcGxsyIdgAh8Ct2TZYuRIiBBHEiQwsFDOEYNHxByxYkSPmSxANyBYsJDBghBdLrl5seDChQQI5DRCNOvOliNHNiycKdANAgM1aiBIoIHOqEGSMC04InJhCDaL3ITRIEcOABE0aBgBJAhNCg0IGvrAEzjMEUqHdBigUWOBHkGpNISIrHARmYJIBA4+YiTyJUsbQjRYuKiJwMpMzqTx4QOJGIGVLIEwQID2G4OLnvQGNcpHnkucZiTAsbDJcYRJEIE6eimVB5YM3QhwbDNw0UBHAIzcqcRpLsMmbrYIvD7QShk0R+604fS9OMWDSQgUwkk7LCDBfwhtUsYRX7AnAgLUIUjQFklsMhB0EhqURoYFPZGQFpV4yKF8B2lhXoYnckFQchwmZAQTJ7YIQHIJCCQiAGcUNCCHJP0XEAAh+QQFBwAAACwAAAAAIAAgAAAI0gABCBxIsKDBgwgTKiygsKHCBQ4TCloksI0gKAIXbFhQo4YBBRETbnLCwIAHAx0XJGh46kWVgVoWqSFoBM+jPwmOHGkIyhEIFAJDCEwzw4AcgV4QgaJzFGEgRgILCRxQkMcCFy40hJiFSBAnhK8GtamVcSUABUqCGrBxIUQIOag4CTJooMCbJgJRDtySsEMOGmH8XEplMMqTgVMc9jCAdYGXSwaBhJxMeXKEypgza97MubPnz6BDix5NurTp06avTEbQECJm16Rhh5YdEQKEiLQDAgAh+QQFBwAAACwAAAAAIAAeAAAI/wABCBxIsKDBgwgTHgShsOFAU58WuRnI0KFCS5feKFJT5lIqiwrbVCIEQA0jgZfWDDBQEeQjgZTyCCRjaeAhI2A6/TFgMRMog2SiDGRzRIkkUJAacmrz6WAboQVLDbqUEGITgVsKdnkDFQCNgpcMwTIIZc1BIwKddAUAooOLGmHGlKFlMNVagYcOCWwSJYyPQ408FJxLForCRU/CYBmYgGAbugWhGAagOCESigSd0DpCsEeUJ0iMoEETxgpIgWU4pSgYxQ0SJGXKnB6YuiWAHmUBIHnyZHbaVQVxvxHIm4dvJ8ALPoly+Q0UtLOdcBI8EMhnJGGc+wbgxKD1yVxXA2vobVF28CjgoYBYfDp1QSC8BWr33aSWwSdk5E+efUlVh4KmDFLJE2mosdd2BWW1ShMbIdjQKI6I4ttXCrGhEB4HhXCaH2uUYYksopyUyiCgjOGgQLRU0oYaalxSxit/nCiQAwCQ0oYTelkUEAAh+QQFBgAAACwAAAAAIAAgAAAI/wANLBBIcOABAAgPGOiQAKFDAAojGog4sGLBh0fuuHKlZUECDhMNPJRY8CJCBTJgUUrFiZQZBxwIhJRIUeRDhxVaJUJDi9MqWqNKBZqI4KFBAwUL1JhyEACMVGhCtVq1KtCpUbMkGODw0OaBijVqhEBYyAMMP14MwKCVyACIPX6OcIHEBuGGk0gf+jBz6FCHF1tCaKjC9oOBLWxCfCHVKM4WDRsQJPhqUyMaSpEaLJCwQIOWUYk8LLDhIgECTJRGncJzpEOHAgQ7rST058hAhAu0sE1ggAYNBBoA3LlKis6CDQsqzqKl5wiEGjgabDmiAQlbHgm2bOEwACEPQEFf8P8W2CDRLCPBHfqJy4Wtjw3rKyC8sEDJqFcJNERYgHDWrBbHJdAAC7TM4oMY12FRoA8JhOCDCEXcJxkOAgHhXwsIhXHAWgZesSAWsyQSRBBhMLFAEbS80oEBECwggoWzEOHDLKXwwKEPHs7Cg4KJgBBGI6YcYd8pLygAQYXmEUHEKKN0EMOCOe7IFghZUNLIEV3c55CLMIaBBSec8MCDfzgWyAMcU2YR1BFf0HIKAgscuUCXX4YZQ4hl6ohmj1nQqJibILDoYgUhYqGggX0mcqCZe/rAxCGlaNDeKQjVYJN5WITxIZlRPqkoE6McssGklQ7qHxw8LBgGngjq6R4TlPj/pdspOyxg6Zz+xYDmLEes2qGZnjpaSikIWOHmAgjUYGqMRBQIAhwhGtFqCnsGsVYiR7CRCiFA2CoQobTQgQeZTxqYBLBYkXDtH7Cg4QpINSiEgGxozALmEUYUGISxs3jJ1hHNghnFIXvIB4ABCiRghCen9MSJF9bNAoJuBh5KRBy00JLKJGIY4ZBC/CFkRimjcEIIWwYYm0gICtJCCCeHxFJEAjRcIMEBvA303EBsRLKKJQWGYUUqinLBCS1R1KIJQjTToNBkBB0AAQQIiTHGLKBNwkktqJQSKyBYiCBCATcdfNTUTB/hyStojEIVk538EcIRFpSd0EQ3HVDDkSXwMNHIKLT4cUd6TaHdVVMPNYDQkSEgEYomgeXXgAGwGf7xRFMLNPXUYVFt90BGeu5QQAAh+QQFBwAAACwAAAAAIAAgAAAI/wABCBxIEAAECAI3JDhQsKFDhxoEggkVyorAAQ8zFlzQIo6fWI/G9MmAUWPBGjUQAhgQqJCpR48KYTLVyVNBlSYhLDARy9QcT4UK/YFEs4GBAQYOPlQKgI0dEDIAdTEg41GoBB280DmShQ8SAyE2bGgIwcCRPrAwdfDgI0QCGDFfmCUSwoofWF58JEDQ0MhEU37yFIQRq1OHBTQuCITkxxQkLgkJ2vmoSUxBBXA7CUQpcAsYon70NOz0yMsGAwONCMRSWKAPHwIv1PBhBlMnDwULdfKhYcpAOoDqPtIMgA4dDgYu0FigBROkggw6daIiUESDEsNBZCnsI0VMECIQgP+vYipUwQrSP4jgwQOCieFcC4NI0anQQCwLqmAyT5CB7jAgSOdBDMP5sF0n833HAyyQdNBcJLgNVMF/YWCiVgvZHZhgIUHEcNcGzTXYn3Q8hBEUCEFIZ6BtPKQQSyEgYGHbEVbEEgkCIgwU3W4mckhFfSt2wgMVL3aAhXQbWPFIJB3kKBAH9aUAB3dH7nbgkC/GiAksCFiBSSQg9KdbCjzIF4aKV1LxHRamwLJBFl8WBGUnKQQhHw9oFoZlIT6wCUsHcEI44nTedbIBnlbqqSaMWMDiJpyQOPlkUEYYMVwH9PF5ZQq2dfhiCEzEogkHYj6ixxXSgUBgJ0eEiiAVNAGwEMOLYsTxSihN1jDQHo0FVcgGPgzXIYthxHREsYU88soYXjCwAE5HXBEKSIV0EUZhQcBgGwjXdhKGHjCdggoTRzSEg0BoYfLIJC+KsF0hCBT7iCaPOFeFCLo6dC4ARNQhyynDhZGFKTAq+cgpodSxhUkFZWFGJwSjYtUdEMNiRhgMEwSBBAmEMJQppsgiiylfshFWxg/doAQsJNPxBcoZ4UTEHIEcERHMSx2kks4MBwQAIfkEBQcAAAAsAAAAACAAIAAAB/+AAIKDhAAHBgsGCQkEOASDiZGIiIWVCAshTHd3LQoJHZSEkpWVL0pmdnZmVR0dkq+hgxAQgw1seXZ7c3V7e3lsBgQbC7QACpOFEBKDK3t2d2J1dWJ5cXw4y4QJggukREodLX1WBi98dQYeWn0hMV1bBhobCIsGhSFVcXQbHkcJCzLOgdKwZUEMOnG0hEiwgdugI0ju2ImjpEAEHAsSBOQzrEaNT17i+MoSAoHJQV/02MnDJMSCAo8AbFSg7UgSXGa6ZKQpiM8ehQYOJChwREOCGXw4JjgSYoOCGgdAFFlJbxuAAnn2FK0hQQGCPn00xEhqso+XDQZqTEkAg08eBRr/CgAwUMAnj6VGOnzQo2fDWD4dQLgVFKIkDF8JjglqYLeAjzALQPBF8DdwnjwdNhgJo+BwngSU6Nrd4JZHCrd+kwZ2C6JDHnAyfDm1B6BBVh+C9wSeXFkwZhBx9HSI4QtB0LkF9Ozx0SEpiA168qTmAwKELxA+rhP/rPjqbcGAQVyevjoPCB5ujxC/Y/zA3Ah2rVP3Pdy5bx/ZzW+/RBvrcvmWSVeZD6z5EEce6iH2z3tZebDBHnocQRpmWNjnFn4HgoCFbN351w8ffR0xXoWAEZgHfult+JkG3RgQwW0huJWZjCRW5wt+vhyxIXuLCOIfDKcJ1xwfCJDYQXbU8eALwxFcFJdYRgl0YYYZeqR3BGp/YedLCGH4klVCA2SkiAYhZKGHSHlggZSASW2QXxhd+LSHElsIgshOiCRQxZl54OFWkW6FcIQvSvSShwyJRJCnIggoKogcYOCSlI5JhYDURHpcsQWZkvA0yHEAYNGHoWDsQk1wXniAyCWJCWLVIIcQcksu0uSiBBGLGXCMJ4J4WgkOh0hghXJ89JHFJQ0QUEAkpJByAASJKOADHlcwJQgBkyTSLCFBBTULBO4RUoyd3RASCAAh+QQFBgABACwAAAAAIAAgAAAH/4ABgoODC4QBCwYFDYeNjo4JGj5ZSTwJCQiPmgERhB0xRV9fVTEIG5uNBgeqBghbVqJfXF1aVluCjIIJj6o4iQsZWkVWRFxcSMJaDRK5AQqOBgQIC0dZCRmkBhvGgjFVGy8yRwYKmY2rCTFdXgoDGwYLH1xfCOQ+Cy9eRS27jiE+Sb4MMxABngEHxhosgADBwAAtXbpY8XEJ06AYWpRwwULIF4B5BQxAqFEgQYgZEIvEEFRg0DwZGuBVTPRCi5YNCDRgSiQIxhcrBiwGMDAvhIYFDS7BgIGgphYECJYOECkhQQsrVhb0QwQRxCANIKpUSeAUqs0OJkNYrQVvkAErXf/QHjGyQIPYBChsmrK5IcHctVkJLeiawKaPIzbJ6kVwNoGVLBtSsDUk6G1cBF+0GE2MwoqWBBvOapB4RHLWtojggmCs5YgGmxqcagitZTVpHpMNVIbbgfWREJw9zz674WfpWr8ELYD7uzFs2bSPbLhdq+LuLtL5vv7cWcvw1keM47Zy6VnqLqude8ftPfp0K0d4cCF/6XpvvoW9pxAePTz88eUppxprAygAG3vfSUeaD7VooIAG9hFoAGz7tWfTEUeQZpp1OrVQRRFV1NLcejaFEAItCYAwnxYfytCMLi+IRcsRDOonXHha8CADRFXAcMQgu6DWgAkQPXagMSZKBEOBiFrMoAshBUCVwAIFTGJFERQaowFiXYBIhA8b9AWhcgkoUMAvU/rg0xdXEAFGm3B1UQUIZZZ5CDkJFJRIOYJsMQ+bV4hihRGm9KXAVsoZtMoqvygyQxU/VeGkIJ0QcoBbiSwKTwGrKFcNEho4mOchlxaiqKmZ6lbZorq0JEipAQQCACH5BAUHAAQALAAAAAAgACAAAAb/QIJwSCQsiovCschsEhOKxCaV4igMS6czOUR4WjLZ6hExaLeGcoEBiMXC4ZYHqzQczguzcLAyyd8oLTAtDQYFWHpNS14GGysACAVvGwMYMgMIDwNYUFBEeQoMMjBXCHtvQgseCxsmJhwJC55EGyAzMYNFAzIxQnZpYDItHbIICUMobzEvG3nOA6hGaQZewS9RCkNvH6YEBld7YRtReamVwp1DLS3kBVEBAAUbYMYAAIXODOtC2ULrAwo0hGgEIECBAhjiLShYR826Y0RaxNiQQEMzAwUjFHAAoIw9NQMWNFjXT12LAQXWdVDAEKFChhECCGgwsgVEkxsQ8EKAMUCE/wYcPXYsYG/AAJJF/qVsMa5lQiUwi9a86Y8pAon1fALtiHFo0aPskg67ypSlQZdQDUaQ+rBc1Zzrsv4M2lXjV5JYTKJc1/Ts04Vq2dp0S4AvWblbhdoFYBRvFqX7CDh9GZjxVMKG4/acy/UjUcZgDx2BUsEEjBXCOiQAkOHg34JYVnAEIOPDgCHkKq2AMXEDADKJuzYYAABDwg4d+BFRUEAAGNmsXb90ICAABgcMUi2f1ehDnwfA6VoPsKJCSERE0A8pMKCC8QCVCrovyCCvtyzS8ENBwMC68esYBMBAGW4R9ol9BJTRQAUcBRBABXUYqIh9CBLQgEyipVHAGUPg1wkhgs7QEUETQQAAIfkEBQcABAAsAAAAACAAIAAACP8ACQgcSLCgwYMIBxZYkEBBgQgFCgSoMCBCwosEIhhQkGBBAwYCAACoUGEBRoM4Uh4QyCEDhgAAMABwEIDBQIgaTR48YOCAhAEMKjwQwCBmhQAyCxiwKHCBgZ0IFMgY8yLByAYRMDgY0EBAgAYLKgw04FSnwJUEPJiR1AGBzgIOADBloJFmA7J4CRpIYARLCzMYFjyMmBTnQgEYMBAVfJeAAgMdWmTJEuIpQbhyC0YYEKCzAIgmO/KQ0WJBBtMMH2cFsLD1wAYVZi58+phHiwRkBwwwwIGD4LgaK9Al2ABpTgIdUWAY4PQA85snZQ/k+OIDgZ44GpwsaLwggAAVSYKc3T5QOsHODQqswKCdvMDuBL9XFPncvfmB6AuIbOwefnnwEdBn1nb3vfeVfqxZRp5/AskXIADj2edAAdwdKJJS7hHAIAEOCphhgRpaCGGGGmLA1HVhObBCTAB+R95IDGDoVAGcAbDiAPoFQB5Xxw0k2AAzveQiiU+VZdkAIX2nI4kDjnXidmQ1JJCCBJVF4XZOcdQUiVx26eWXBAQEACH5BAUGAAIALAAAAAAgACAAAAiuAAUIHEiwoMGDCAUUiGBgQcOGCSMOZBihgMOLBSQmTKAgAYIaNSRIWMjghkaEBQwk6FBjisMCBQA4OJmwQYMjC/4QkoGAZkKYBrYAKiOoBYIGPg8WOGIHDaJBhQYkPbigAJJDiBIFkhNhqkEDN+vQOWKghgGGC7wKrCqHzYIjU1wWGMBArYCGJghW7WpXgMMAARpYXNi3sOHDiBMrXsy4sePHkCNLnky5suXLdgMCACH5BAUHAAQALAAAAAAgACAAAAiqAAkIHEiwoMGDCBMqXMiwIcMBAxAgcHiwwMEEEikajGAgwsENGgsWWDDgY0iDDeSgiiLoZMIBrzZdWuUS4QAybeIcgVADAoSaAxlYekLkyIULB34CJTDADZkkCWr0hBBgaVMySDQMQUp1KYEqMCBWqDDAItAIYhsMqCAAYtWlGAAMaMC2rFeCDVbILfD2bgEMAj3eLdiA7+DDChsgXsy4sePHkCNLnkx5aUAAIfkEBQcABAAsAAAAAB0AIAAAB9OABIKDhIWGh4iJiouMjY6PkJGSk5SVlpE4EAWTA4U0EIoVhZ2FTUqCNDg4FQKNDQEOggxRT0RGNJ8SogQNhQERmwQRDK2CA01NSUc1qRIBjQMDzwQLs01ER7gQEsWRA05OTCE1NdvTjNKDDU5QSCFDQzjckxFLRQbVFQzp0NMRDQMMBBQQINqkAsGoBSjYyxE/YIMMTHt1iVCER/wSFThXMWFFXhwVBdiXCIA6dREAmCSwktE0AKQIDGjQct9FRwB2EdDXsiEkBxiCqrT4sahRR4EAACH5BAUGAAQALAAAAAAfACAAAAf/gASCg4SFhoeIiYqLjI2Oj5CRkpOUlZaXizSVEZiEAIVPbklHF4IHAJ+KCwYFAAEGC4IDT2RER0MXEBCoh6mCCw2oq4NkgiEXFxK7vokNwa+xgqFsIbg4EgHMiq7DgmRk1ENDEhK8jM+wggxPTUhHhNmO3Aaya05I1UPO5ovosQsD2tw7wmLINX6L5hEw0MDJvXzkAjjyRwCgEyhEQrAoIYGBgEfcBhUoUgXAghIcsU10RY9AhAYDGAwYcKNEAwmQQhKAySBbNgADGkh0FKDCAE4FZlbwKAAATJADCkQrUKCBzAUYAswMEKCAyAUAHAjC4CjrTEGc0BoYSsBoNEVPEAWxHTTXUYQCaTvp3cvXUCAAIfkEBQcABAAsAAAAAB0AIAAACP8ACQgcSLCgwYMIEypcyLChw4cQI0qcSLGixYkNGEZ4yKACRAUCo7iJEWIIjQ0FBARoOGBlAoFummTRIBABAgENIzAIAADkwCwLhlzYsGElS4EJFnBw4yaLgQtDOeB0GCCAzzdvZg4ZMqClwwFIlUZpgkXD1g1SH1a9+iZGgiFTOnQwyhAsgZcEsLZ4O2TDXLVWDQwgk2Zvhgpdp9ZFqmBwkxcGHmQY0BGwggQb1IiSU3JIBxCKF9pN0PhMJVNiVHj2EHrhWg0ISg1C1AlDAAYCbtxoyLNCAsxyUJX6Y5TBjQe8GTS4XMBGDQMNKmRAmJEggIIJCiCw4WIBjgGIKxMlrD6QAcICAzdQ5lnQPEG7ChFsaNAAvgMAdAWid7hg/8X/ABIQEAAh+QQFBwAEACwAAAAAGwAgAAAI+AAJCBxIsKDBgwgTKlzIsKHDhxAjSpxIsaLFixjVpEFyZEiNDSEAAGhYYGCaM0hCDJmyYcNIhgsaEDwjcMKUI0ceyhSYJg2BBBMmHAExkQwZAiFOCCXqcCcBNU1SBh060Q0BLBpKMDjiQ+dAq1hC3BDaVaKTNQI9gBhQIYADpwmdOmkj8IWHARkCYCj58IlVAjdugPAA4C1Dp00q+SHgQPCLAAD4OoyFqNIZV6wAIAgQoOFLgYEYLRK0qYgBAZ0Zfqax4AggUKVkdDAoWSAGggoQ0JgSwgCbPx4wpB4YoWAFggWKDzSggMPniQUKIFBgAKP12heTSwwIACH5BAUGAAQALAAAAAANACAAAAjbAAkIHEiwoMGDCBMqXMiwocOHEA+KEMEhDZksIYZM6bABAAALCziQaZJFw5AJGzoInCiSDMEOIASCZEDmoskhHTyspOimicAhOHUSmPmkCZaME3LuHPDmTYwEJSaAUDk0ZNMZCFQImbqTgxMnBDak8DFBgoChFMtc+tChTx8JEiioEGFhQE0CRNqUSZEgAFoOZxZh8lTGSQqqIhBsMIXoUhNFanwkkCmiw5aBihTp8bGyrkCVaAQhSkR5wJQpGgQSchRK4YIqDggWiDAQAYIFCgssaKCQNkPcAwMCACH5BAUHAAQALAAACQAdABcAAAj/AAkIbFIJkkACEg4qXMiwIYEhU3AkdEhxgYEBZM5kWQABQgcQASg6NLCAARkyWQxImCKwgkiFAwRajClQQwkhCDYA0fFS4IAAAQwIfNIkywYWKkCAAIKhJwEGQGcKxIIAA4YOHXTw7Pkz6AKMb6hiECKiA1OnUAMsOOgGS4c/fzqI6PGhQQSBdht2FUrATRMsWAyR+mCgB4YCBgAAKFCgYdoFIjCSwRKmzZsPG7Q2WKB4wF2GewWSWYQlSxsnHxDoOGwgAIAGDUIufCxw0cEml0Ws3ux6QGPQQPnaJnDnzZMdqlkLADAgNsPHCRAQkCTwjKINCGKkIAnUt0gDCTYcrKljqdKZM2YQiEjBwMDyAT8rJihQY8ERApk2VVqlh0gDqMz9BEBDChigAAI1THGEAX/IcsYmhsSxQGyvMbAcRQkoMB8ENdRwABiNkALGDTcM8QMDFAxIAE0CkUSAhhp2RAMNIWyRxBYAOPDDDw88IMAAFn1GgEUMRTCAAlMcYAAEDKiAwQMpeMCXUwYaUAMEEkCwgAQVZHDEBgdNyVCHLSppZgILIAAfQ2sdFBAAIfkEBQcAFAAsAAAJAB0AFwAACP8AKQgcSJDCBgUFEypcSIEDw4cUnjxhsqDGlAEWBmwwAJFCAwEBBA6I8obIkQk1RAyo8GBBgYUNBDKoAECBgQ1vnMRIYMBmhwAACkToCDLBggFv3sAR8eVLBw80OwoEqUAEh6RIwqBB86EDEKkEjV5tQiTJJkcfwA6kKqLDmyZIxJxJ82GDDh0FXlIosOBhAoFvkTA5Q+YDAiAYIjRwACACR4VsOxBs4kbgiRJ5MQTty/BvwjcCbwhc3PhxQqoWOjRRJAcJQSEqGhTQjABhZ4FNBlYWWMJEgQGMC3g+HUCBhoKLRIEAceRIBwQqNvtVqKgPjzt3QHgA4MCxwpAUFCR0QEAQzaZFqtCU4XGkRAkcEAYCmD9wQYLhAtkIvCRoEw8NKpQAQXwCYVBBTGBtsskomlhxRAAVBCAhA2oJ1EomiCACSAgV6CWQhxBJcIAGTGBCSh8LGMBZhRQMGIIBcrBxhAYEmMYiBRJIoKIBDUgg0AELBQQAIfkEBQYAFwAsAAALAB0AFQAACP8AFRjY8MZJjARHQojoUAFAgQsQI0qEOCBAgAQQ37yBI4JJlgUMAURoMDHigAEFGAgAcEEEB41IwpRBs2MBEB0FHpaEGGBABYkvmxBJ4sjRhw5AMOxcGrHDmyZIxJxJ82GDDqYTGexEwuQMmQ8IsIp1Q4YJkzdPPog4gYGkWK0SySJB8ibijRUoxUq0UPJNCxEmTKAEAACBgp0MLO5sAtGAEBMRBhAukICl3pIdkLBJ0MEBgAYRLktcRKbFB1KUWiAA4KBBA8ILDHiuIACrGh88BJVpoYEFCwkSADyQiMGB3hiOMrXYMOFEAwk3HAyAG0AAgwFim1jasqUDCAMRbgBYCOC5J0SdSyuRaXLlyJIqFQzcUBEAAIMChy+3acOI1aInPHgg2lKpLGLgEzLIMKBEUxxgAAWRgCKIEzBIsKBENRBgwBZsEDIJDhZeGFFOU0BgwAIFYMdUQAAh+QQFBwADACwAAAsAIAAVAAAI5AAHCBxIsKBBgwAcHFzI0GAADA0jHmRQIQAAiRgJVryYMWMFABw7StwocgMCFQIjHPwYkuEOghsSRiiw0qLBN29iUMHJA04qTi8QsGBxJEQAgyxvtokhw4kTHzEElWmxYeiRI0cLkix4RiCRJk2MZFmkZkYILFmmTChRoiADkAa7CmzixocVRWdCJCBCpEaNE20JBrAZ0QiRRWG5pJrlI0HEBQS3FNTDxM0bH0o2lUmhgULLhjQWdBgwapBARYrk/GkDxUgCAQ8OQi5IYwoCgY9Op2Gzes0MDSKDCx9OvLjx48EDAgAh+QQFBwACACwAAAoAIAAWAAAI/wAFCBxIsODAAgYTLjDQQCCWgR06ANFRAKHACAESFjRAEEsBJkwETizYIKPGgQs08ligAwMCBCoEFjB5UgBHg2V4dKiAocAGBw4ilKwpcIGIAWQInknRwYicDQhKlECw4cULojeTDlzKY8+eDgmkIhjwAgVRowPSDGxCJkWMS2tmHGnRYkOHBw+wGmSbAgZcIkeO8EDgIQNRAQssICUTI8WbNymwtHFDBEmoSR5AZMhbM+uitT4kvznCZlOZFgYMn1U8EAnBSm6OgDkjCkWHwza3DlQroIkbAVcWifqQAPeC4ga3EFGT5oiYJk9m4M5tUJRARYp8eFnkJsUR4wksfjJHs0mgEygCK0FJ4ePGDawKENQQsEGgLEWVmjT5IxDKjBQAODDdgAQWaOCBCCao4EkBAQAh+QQFBgAEACwAAAkAIAAXAAAI/wAJCBxIcGCBgggUFFzIcOHBhhAJNomxAEECESKsZNmAoEQJBAgePCgQAQAABhUCNHTTQgSWLAs2GAnD8YSKAgMyDDTJQEBDMm4EZiJA5IgnTyGOYMCAoEOGBwJNRiRTkAiRQaBSaMiQYYPTgj0jClSkhgiSS062IDmaAMFTgihVNiQy1qyTKEeufCL1wkAGAHB9MnzjJEuWJm7CHIaSd1OZFm7Bphz8BguWJm8UI87r6DGICmJDL3KjVtCaFglCi3ZjRMyl06lVy15EBkNs2T/dHBGYBqJg2VQJgFk0EOpOqbjPpDmSZ1FvgQ8aEASNu02TLZ7aPCEoAECA37ifvEZhI/BJihQPAA9cgFvgpUsEbAnMcgSAzvYMLy1aVGnMFgwcRGBABPjlR8oMDxUoEAQLGLCbQD4c0UCCCg5IkAED4MBeRAEBACH5BAUHAAEALAAACQAgABcAAAj/AAMIHEiwoEAECQwqXMgQwQaGBBUY2EBmIAgNBkCsSWWEiJg/EzMUFGAwYQAybqgIxLLhwyUnR5IcagTCQIWCNwsqGFgxAJpMPrJUekPkyiZHLUwSJFlQKUFHRrK0aXLkiqMyLUDkHLh1oAIRHRY2abLlyqU1LRR2FegUScGxZc8mXRugAlOBX8MGYMJkIBO4ZtE6ZThYYM8AZPHILaxQgYUOZMjAGRhG4BuBlyCWLBhjrBHLRzQ3flzwjJEkogkbPJNaswINBM+wbq1aYCBGixTRZqggAYIapQ26oZ1AaQiCiwg2Gb6bYZtLlggpEjWJU5ctABhIwNE8QCDM0wVtODJzpIKBBd0F8oD0SSAlOzEUcB94YLeG0AFsTZITYsGRAwYAWF9zCzSAXgA1XDABcAEYQECABQUEACH5BAUHAAQALAoAAAAWACAAAAj/AAkIHEiwoEGBCAocXFgQwQCBARgeLFDixA0KAAC88CCRYIkJOHAIuIGgA4COAqfU0IDAiBEJDRigJFCjhoINXbRIwDGTwBQIGmIcCSEgQgOFHWsmkAEJUoABDRqgPLIlBBJEoFpsMDCwAFKDlCiF6DIoUwsNBCMMiCCzYBsnW65sKnOWYAABbd06CXGljJMWIewOFFCwSZO4l6DULVjhoGHEitEeJGzQiEDFCXoKtDxQMsGHBtu8MYIk8VkPLzZ8PSjah5hKUGZo8IACQYKIAikXlCNGEEEADQ4EcMCgAu6CcTtXAG5AAAYGAnQTNKKEoAAAKnmkYMCgRInKeASifkggwIFKEDMGMDjxvSDnNCl8GJkhYYGH7Qxu5F2YYsaMBgbwMANlEnQUwxydWBHCCx88UMFqbr3hgwyUSOLFESC8wIFqDJ2hBgFofIKJFiF00IFUPZXyhwZHJJBZR5cIQgkfRyyAgEELLETIQAmE4GKOAgHZ0RQELWCAkUIGBAAh+QQFBgAHACwCAAAAHgAgAAAI/wAPCBxIsKDBgwgPJFCQYMMGBAI7dEhI8QBDBRU6vBDoYWNFijgAHJEhR86LFwA+HtwwQICDBDH+/EEAQoBKhENqhLDiaJSJmwlzhlAyKJMAA0AJPhIo9MulNSsWFIiQ1JMcqVMEanES5egCpBQbFKxhAIKRIwa0nGGUQkNSgVkPlKB0aIGXM6LOvi1YZs2RL5XepAiRIUOBBQwqDGBw01GZI1wCzzAYIDFQJz4iQ5lcMEBSJ00yt9m892DmSgkZXz5NunRBH0kqPZmhocIDHCEBDODwNrabGSEqZCAg9sAG1Te3JHkKfIscAxI8eNjtOoWPI0wQv/iAYIDnj4sGVpYiY12Tpg4bhG/oECBlxSZufChZRMbIjEGjWhgAAEB6+7dubIEFGpxcJ8UDHqAAQAVAzVdfFpugkYUBD/TXgmJUUdTEG0Z4skiATLjxRCREdAACBwiAVdEbTRzgIRlEfPHGG5TUAcMGBRiwgGsHbOIIHURoEIKKriXiSQghaHBEhjzqiAMEEvBYkJNSDjRFDTVAAEFCAQEAIfkEBQcAFgAsBwAAABkAIAAACP8ALQgcSNCCgYIIESIYEMJLqlUtFlQYILBAwoEFECxgYATQpksyjgQQIDBCgQgXBQ7IsIUOGUstNACoYNHCAgMLEiJAsAJACD2VyMhIESBABAMFaqZkMSQEmDNqHORMmXDKFKeL0gCgenFCDQ1fKj3hmpCiBQVcmlgiO/CgBQlbLi7AcaCBXZIEa9CQYEKgAoFpUgwkYEACgwZUmzQ5wmXRkxkhBATAQeDGDQYUUir20XjsYBwPAFDAe7GJEYFRsGi48QAHhBIlbgi4UVpg2MeRAUDAAZvBbAcX3xhh4phICNY4eJdgwCDlojc+kmQlcuQGAAINYA9oTnVLkktrwmDNaTXJAALYG46QTriFyyUnYZCUyeTgfAkNGypcbCM8iaBM8TkBxRA1lKDCBiGkxJ8PX1xSRhhZvMfCFAampyB0XixCBoRtPMHDAh+gkIF+wb1xRBcCxddEFDNsIMMHA2CQ0htPnMifiozIcUQWW0zBgmZk/HRjEk0wwgYdfvjAAgsBXOSEE0f8wZ9AZ5yRyiWfBIJTSk964gl/bOQhiiKXWDIHGwtMwBZCfrBhgAYQQLDmQK4EEkIICRwR55x5DeHVlnxCYEANNewZ6JoBAQAh+QQFBwAEACwJAAAAFwAgAAAI/wAJEChg4IABCRIEKlzIUOGGBSHsqKrVIkHDiwoxYDJU6UyLDRgvanIk6I0oRisOhGw4CVEtVotEmXiwkqGJJSGuNInywWJNhQsMhMDTxg0Knz8JDKFhQMulNTGQJqWxQIuTKD6SKjxyRMOVRZbCaBAhYoAIBgw4AHnwwMAChaQOhSCwiMwMHxWAWLAQQIfaDADeEhCh0AeYRWqwhPjwoQMJDDqAAAkQQCEJKk3I+PiahojAHR066MCgljLDuj6YVHqC5UigVgY6QAbh48YNhWHoak5SqbMRNGhAiMaAAITt02TCXHkaBkmbNxhIMN5wJIAAhUSY1FV+yUkY1W8+cN4YfcSHgMoLt4vp/r3JkxYdGId+8cKAAoV1jSwv873SmxZBMCYCCB6gsABS+e33nUAsSDDEEAYEgAEGBmxQgECocaEQEws9GFQFJogXAYZu+KDEImd850gmAt1xhxxsXGEEAhYqpNlCTDiCBhVBfEKKJ42QAosHBjQgEBlp+PBFXQK1kQoRIZyhyCWVGDKkCBfqdkQeTBLgJBuASHmJLXiEAJJCTTRxhCeLvPEdiqosYsghfQg010JvNCEGm28ggYciZyzCSCRHLOBDCHdqJRACEOCgKEMgPCrppJQ2FBAAIfkEBQYAAAAsBQAAABsAIAAACP8AAQgcWKPGAoE4BjYgYOBAw4EQI25RcCQQI1V4FiRI0LDjgYgDCwy0EmtQpSaGYMEIQcHAgocRp0zZoCBBhUlONrU5c+aSoE9/DGiAAMFABJACXVYRJIgQAEWKWnECqkHDAQhIIbaoQipOAi1t3oSQUSUFB40KCmZ1NMPDFgMJvLRxMkPDgiMbEBTYMGHKApEgGSxwYUNgpSdYNAhOgCDBBhYTsg68UBjAGUtGDAwQTBPBEBaSIYYQqAaDiC1bOmwYMKABgwABJFM6dGQghgqzO2jmUIBBhdhZFynygaeSGyJILr0RDLsDiAwZJC86Y6T4GyJMnEDhYCAABucZHoT/VrTlyiUn2Bc9+bBAx4cOHV54GF/+fHo3VEj0+CAChIcXoQGwhRjKYdcEFBgMgIEQ/c2wxUYJZGUEGJWgZ1sDK5jQgQga+KDABoCBZMQVEFXyhg8hHHGECDsUoskRGmyQlQ8COSFQWD4gQUccIlSBCCg+GIDAjBHNZUQSgmRChBKXcOJBBxIEONBcW4DhSCZbKOEEJzsYkJCUAJDxBAhWVALFEX8soooPHUwBJgDqBQGDE28AUEolanSQAA1vClIGEVsoIkolixgCiQVAGPBmGWggAYugiwDwhxEdcPDmUwM5MotANUDA26VwLiKKJnIsAEJBeYF6CQBiDIQVAAUcDAXqrJd+ROutuAIQEAAh+QQFBwACACwLAAAAFQAbAAAI/wAhCBCQYACCgQo2FEiggGGCgRC3JNgCcaAGDQkQOFRQUQBHiGcGZgkBAsEChx1ZVVQ0sEwrDSFo0AihoUDFSx0HIsrk40gNGjBz7tHApY2bEDFgUYrh82dOOQY0DHwDkU3PKVMuDDQAcciFBF8WqcESYsIBCBIGYqiw1eYFGgu4KGI0UILZtAICYAgQIAJXI0YqfugoofAEAA4GPhyoZOBgAY1AJGDAAMIEBxgWFPhoREylN1iYGNUhggMHEUCOGAm6iIyRKxWbuPnQwUKFATD05MFYoLURMAPDMPkcBgEWEB36OBoFYkEDAa4hCm/zpkOHDTwWFEHE/IhNAT6uXGlyMv2NESSmCh3p0mQVjwR4fXC5VGa6k86SPoXx0oQTiA01DOTDF58N1MRAWlyyxhZ/CLKGZHgJoEQlEMkGghUKHnHHJoR0AEKAA3HR0Ro5DWQdiCUK8JsgJaKY4oswxijjjDTWaGONAQEAIfkEBQcAAAAsCwAAABUAGwAACP8AawAAYEACjoELGhAwcIChgYEQASg4EhFAggQGCjg8UHFBxCYDYYSoMJDhwYEFIgB4M1DRwEssB+KAgINAAgUaEmy4dGmgKFEDN0EZSJMAjgIIcIYYGILLooFZQlWUIGGCBAMCLYZQsogMkRAhxAysYVVCDQkHpgykoYHLQCQhOCwgC4GFkSx3thggQGMKjQQQ9Q5gAGHKgRJGxkjCtADrFiMUKyKkcSGEn0qqUiS4MNDIHYggAByqIOLCkAVeFqkCgYAGADJGrgwMg6TSGx4Jjmgw0KdNKhAiJAz0MdBJGCZt3nTwIYbJgiWXonRAkBWAbIjJfTAZVWqrIE4dRECKGC4ZgA8riAYZUSIoVYcOwgdyqQTRyRsfXBytOQKmkqX31SlRiRPF3ZeEI5kcgcclqYgQWkSXEAhAckaIIUgmRCjRBngdqDXQFZeUMRCFYlyCoRJOcMIDVuUNFFN5IHgomYTl8SBZJSC1KFmOSujo448tNuHGEV5AxASQLkLkFZIQEfHHQERc92NAACH5BAUGAAAALAAAAAAgAAsAAAikAAEIHEiwoMGDCBMqBLAAx8KHCB1CHDjJicAzAgVlAjBggQ8NAyJMHChIoCJFAzM94KDBgIAKGzaMjJMAQJs3IWJ0AkDkz6M/CY6MFGhAg5ebMzQIPHIHkSNIRIa6uJDgC4A0WEJcqKEBRKJNmzgNvXBhgRaMRgxcGKJgAxtNUUqONHIkhMAoOkTIkXOBxpAFUYcK9KFEoI4Khw4NoSFQwZ2CAQEAIfkEBQcAAAAsAAAAACAAIAAACP8AAQgcSBAAhIIIEypEmOCIp1W1wCwwUJDiQoVZOoF6E4UUHRkhOAwkcBGABAkEW6Uqg8aSpUxlRqEqiRClQBgwZbViZClQIkejMgwQWIEBTQChUsC4pUeDFTSpBEJqJEdMITYFDxY0YmbUqBQgtghUsiaqQDZH8AwaJRCHQJsCt/gsQ6nQgAUXBGqBwmmGhoEdXoFy5OrOEYE1Bmpc4+oPQRoCLXHyITCvQFScynyigzAVmjgE3QoUwzfulimJBcJaUwvxwFWcBtZw26iRQCipdHBo5EfglLFRWgNIDSCVWQAJLASJksrHlbJhsJSlPHAJmkSdj4cRyFwgdCRQO4D/SIJkQZE1nDpsIGgci5FZbAHg9iEmU6ow4JsjaWRKQ5cyrnQWRRhZZJIJfvNZkQkaAkEl0CegGPFFJtgVlEoURCQhGYLNWfEdVD4oSMsRz6XXgWjFYciESxz68EVZDTZX4IhgOLGKQFoVlwoSWHQnX3NcLBgdiElkMgoRX1zXQQdwtReGjwkKmZ8PRR75RSqJgGChWcbxMEOUaAyZihFMGBnGhIks2SQUcBSHhg9YgIkfiFcYKeF1WhIUhSVyELGnD1lM9wVu+BkHAgxrjCjGE7XkOVAUUXTiCXOAGjrofXFymcofprgR23CKfdJEFE+oYsQWxvnABaFYGCkQI4y8lAEFKZFYUAFBRtzBCRSWMKIHEswdoQRuDdKCBB2wQkHIH4cpRMcsoDDq4I9hMMGIGrWkkUkpSywAAQRDIbQeUpaQYZwcfxAqBiOKpKHKTAB0UNK3C1zhBxqZcCKLGqoAQAsomcCC1VGI1RCCEYHM4oQTvebkCcE1CeRDJJTA1EgeA00hQY5HHVCQLFnV4PFF30JMU0AAIfkEBQcAAAAsAAAAACAAIAAACP8AAQgcSLBgg4IIEyoE4EPBETCyQllZkKCiAgMHFi5UEMOOn0Sv/MRJkWDAwgUIcQzkEChWqVenTpUqZcqTwCMJCFZEILDiBgg9F5iYqSlQTE+FGpmqMCCBAQYMECBQkIDnwAIC2cx5IWOMlwRZXsXS0EIPrC1s7AgMwaABxoEHBfYxZcoDCCMGEmgpFYuHQCQhrijVswVHA5RXjeB5VMqPWgBTaoBNdCqFhsgJOkBqNCvUFYQNIjUqFerPlgUNaNRQAOOUrCMGpkwRKOdOocZ6ChY49cpLiIEDjhxBEPYREAtGjAicsmBLnFmyeIgg+OiRkRA1agzAAAvQES5iK3D/AARI9sAvr0KB2NATQaxXVBZ0mA7g1CMQxXmEefUoiIgNThXxSiHzHaTAALHE8oEIKfBAwg72gWCFWPrF8sgGQWCBxQJVlPJIBwgQAIAFHcQUhg+YYAICHPzhZ0pf+30IByx06EWaQAYAIEKJr4SBhCml+ICFfUFk8SIPWFjYQRaN+OGDFaUUskEHKlmwAW8+2pdCjPhRGIaSRmJyBJRSbqDSjlgOeYoRYRCpBYVJXoiFKZiEQOaOIlqZYBj7nYIkf0FYcSQcL3YwJyZGvBlKBxtIoGMHj8TCJ0xIWlgkXTwQGssRhz6ZnkAqAbBBdQ0myEMKgBppSqYvgtAplKEU/wSpn1S88goIqPanKqubhjlmLLECEOqVp2xBBExCAjphX3AoGQN/ISDxiiyyxmQHGDBxaqkVCQbB4iMktJCgGJAk8mEBNQBQlUeUufKaD9VJyJ9+pWDiAwiuEAKSH3lYwAFBD8kC0yld9LmBFhYiaUonYejhyimJaJLEEVMOlAAOC2zQRyemuBKKWEdcwZ+Qp3jsysJFaAQAAgYQMQfE720hxshZQJzvHUYswEF2VhVkAAEQHJAEHbYWgoprgXQyUxxI4JjRQgcYkJ0GR/xxWykxzRTJHyFokBkBOarMHgALGHBEHrDMBAseBYmossVlJ6BBCESgEogRGjyN49tvGwogAQ4QYPQWQgEBACH5BAUGAAAALAAAAAAgACAAAAj/AAEIHEgQwAEIAg8YGFigoMOHBROEYFOnDpYFGjQgaAgRogEFCBKkUEIHEiQ6RTYk2LChI8ECOAgkWGAAARg7JiPNMblHzEANDQgqELpBIc0FGEze+TNnjhg+dOJwGDhgQAEECx6GWEDkTgcMZrQYmBHJjgEPSuL4IKJki0AJBCAeKWKywwYfAmGU1WCAq4YsgOJo8YFDwgIcBI8k4XPSS4MFEiAkiKEThIYakjnkOZkHSYiYiAXmKVmHzZG3NSbPqaOyhmEERq7sgRRWIEKBcyJp4QtBxIAQIRDEsMOHg4gjRzAb9uEFUp0OBevMAbEBAo4BOvr0QSDDjh0OHPTo/8HsOoEVO6wF0izgfYcFCyI6VPDeYbidIDzs7BlgAToAGOjZ1UBfA3hXgQVBBEGCDt5tYB9+e+whAgc7eLCAXnywRMACFgzQlA8g7HFffnY46F0QH+iHwAfiGSADJHm8h4MBvuUGAhU4dUCiifdRIaIILQBCxwYyRMLHAi1x6GEkIKTQFAg7PpiihC3EsYcGlNUhggUA0Lgkfk3h1yCAPXqXwAdWJvBiHVkBoKR3UJ6YQoPd3ZeiHQWkYOURRWq5wYy+nQjCiTjaYcGDhSrAQxxxEIneBiJs2CGcO9BXaYlV7oGimYvuQWQkdSCwwYC+8WEnfXceukccQRSaABVpDunHmghudtjUEUY01cGce1hQ56Z2iMDgHgZssZpdEniZmxdWNLVBCj/+eucCDNqxhRegbtABDkoqYYaRTSXQAZ0ndtpBB03ZEYkZXwzkpQJM1KHTHDIMGiyZrUa4QRFNQXIHESEMRNMBhhlQxGyRBGJmFvTN0NQdO+kBw8AtdUlAAxIwIEKxeOTmXQhINAhHbk1dccTAEHA00AYwEdBXFn2oW0fHc/wBFSReGCGwQH29NJB1GoDABmOQNBUJJEqwkYBAG0TgEkQIfBGHun1kYZsEQT39kAIJJLAFHn+cltBtLhlwgNYDxeVSQAAh+QQFBwACACwAAAAAIAAgAAAH/4AFEYKEEQKHCzgRAw0SDAyMBDiSBAaDl5eChwWHAh0KGjNfXDMbIB0DCJ0ChQWth4aHCh1ZRV5eRTIdHRUcB4cGsIIRCAWqnQUJBUhfXkpfzV1aWBkcHQgDncXFxsadCRsZX0pWSFdfWc1a2QIIFQMKCQrFg9oJRlYMGVUxCUdcXxKAgFElxJEYRxKuchVLwMBbqY4cagHwmA8FPrx0ibHK0qACIYgA9GKlwAIDCxKgAOhhwyQEHKx0UaKlxZEGBwwQsuLMCpEQCwrgwLHgxRUup3BIQLDhCBItX4q0yHngI0AZCHBAwDGggIgOH7hwAcIhRAgJDUwekUFygwUcgv8aJEHaAcehCjC07KD4pQIQK1YooG2QIMYoCx0gEBgwwMqXABxEiGAQ4EsXD3yBAOnSBTIHCwZMjHIrAEeDxlwqVBDBoUIALpcz99DSRTUHDhJEc7FwaPEAgH5pa2bZgvPwLhwyaNHCYEUXKxZElD4NkAMG2hyAwMZsucIH2gMA3GrehcuCt74BgtjB0gNLKpaB9IAdnjOIFkq4SB5K/UsH9l94wF5s3X1g2QAP0NYBfuaJQEB6fWn3hXwAAVFcF/Jx1sELnDWXnwgLTPfbF605BkRYyF1X2wcaelAFciuMItkBEPpV4Xy1YRBfDy3a18IX0Eln2ogM6ACcgci1QJvzd5ZtqOGP0FnwIGPq8XAkcBRh2AM0lFm2AQ+jdGBBA0MCpIUM0HAQFolZVjDfF11eBkN+vS3WgAxFjAINAh5AAwIVLO1g3wvQQJNLBxsIddoCVurZAghPbvedFh2gOY4VPhyxSwSSQMDBISZokacYnCHwY4AGomOZFiskslgxWkkwAAMnHZEFQJYlAJ9/SEKTRQid4IAAAg0pIwhRG7xYXhLQMNFMLhKxcsgvqwgQT4iHIJDAFuM8A5sSWWyxCbEFUFttJwsUY0ADOtViWRUzHNIAmZSca29HCfiQRBZHhEAAMAfYde8q5iLTkMCTTKLJKoEAACH5BAUHAAQALAAAAAAgACAAAAb/QMNCSFwQjpFCMjlcFp+LoRRaaAgCAAGj0WBCid9phOFYmUwYwEBZPBKk07iQIVjZMfhAJQwWF/4RBnYAWAAOeBh7DQVyUQaBEYt6DQNYAwtpDJUBW1qMbENCjFyCAFyUQyumR48MmQNcR1F/AwN1iV2sCysOA4FSGCYrnA1gkRUBnLByKxhrXgMAzVm/C39YAo1CzQwFtQ1SFWUBlwaPthgMX5HNsBUCxVIMqvELXFgMkEJnCAPNHAgAqCmQoIABBKrKGfAmYGCVQGYKVGi3Ac+ADf04+DMlxF6DAA7yERowzwQCDv8QWNyQwUEGBCZ6hfIWIF0BNAMEmVCA0llF/2cDhFXYgKbevZARcO5akcAfBoAr8XBQEFMhTZs4dfKkaHGAxQRFOx7Np9RO05RdpVKVae5qt6xmtvpM68xA2ChjkzpbevapSqAYZFadWQlr3WByL9LNeddeAZDwuE1k6hQqUG4304WKVFMLhhU54/ZUjGGDvxVD7eScFUHaMDwCIpit/HcAVVXSEkUg8IimqkMhPycecIjDZIEOAGxhJIomoRV1KP/bYKiZqgwVNMGKJ8peGuArNkyuwOFBYAAPMnzbXoB3IwbJCLmWH0DLGiX4/7whIosLSSx2TFPfMm0QoIQbCBZRBXyB6aHdL0K4sRuCbgwhyznZwQIIc0ZQiAtgI6wcYVATUFAYBAA7"></image>\n</symbol>'})),VL=(Xh.a.add(GL),function(){return Lh.a.createElement("div",{className:"circle-preloader"},Lh.a.createElement("svg",null,Lh.a.createElement("use",{xlinkHref:"#loader"})))}),HL=Lh.a.memo((function(){return Lh.a.createElement("canvas",{className:"layer plot"})})),UL=(i(694),i(696),Object(Gh.b)(null,{lockDrawings:function(e){return{type:"DRAW.LOCK",payload:{ids:e,value:!0}}},unlockDrawings:function(e){return{type:"DRAW.UNLOCK",payload:{ids:e,value:!1}}}})((function(e){var t=e.drawings,n=e.lockDrawings,i=e.unlockDrawings,r=t.find((function(e){return e&&e.isLocked}));return Lh.a.createElement("div",{className:"panel-graph-door"},Lh.a.createElement("div",{className:"panel-graph-door__button "+(r?" active":""),onClick:function(){var e=[],r=[];t.forEach((function(t){t.isLocked?r.push(t.id):e.push(t.id)})),r.length>0&&i(r),e.length>0&&n(e)}},Lh.a.createElement(Hh,{name:"panel-graph-door",className:"panel-graph-door__icon"})))}))),WL=(i(698),Object(Gh.b)(null,{removeSelectedDrawings:Qu})((function(e){var t=e.removeSelectedDrawings;return Lh.a.createElement("div",{className:"panel-graph-delete"},Lh.a.createElement("div",{className:"panel-graph-delete__button",onClick:t},Lh.a.createElement(Hh,{name:"panel-graph-close",className:"panel-graph-delete__icon"})),Lh.a.createElement("div",{className:"panel-graph-delete__help"},h("Delete")))})));i(700);function YL(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function QL(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?YL(Object(n),!0).forEach((function(t){XL(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):YL(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function XL(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function zL(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],i=!0,r=!1,a=void 0;try{for(var o,s=e[Symbol.iterator]();!(i=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);i=!0);}catch(e){r=!0,a=e}finally{try{i||null==s.return||s.return()}finally{if(r)throw a}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return KL(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return KL(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function KL(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var JL=Id((function(e){var t=e.chartSettings.visibleChartIds[0],n=au(t);return{chartId:t,asset:cm(e)(t),allDrawings:n(e,{chartId:t})}}),{drawingEdit:Uu},Rd)((function(e){var t=e.id,n=e.allDrawings,i=e.isOpen,r=e.toggleLine,a=e.drawingEdit,o=n.find((function(e){return e.id===t}));if(!o)return null;var s=o.settings,c="lineStyle"in s.lines.main?s.lines.main.lineStyle:null,l=zL(Object(Bh.useState)(c||sh),2),u=l[0],d=l[1],f=null!==c,p=Object(Bh.useCallback)((function(e){return d(e)}),[d]),m=function(e){var i=n.find((function(e){return e.id===t})).settings;e&&i.lines.main.lineStyle!==e&&a(t,QL(QL({},i),{},{lines:QL(QL({},i.lines),{},{main:QL(QL({},i.lines.main),{},{lineStyle:e})})}),!0)};return Lh.a.createElement("div",{className:"panel-graph-line"},Lh.a.createElement("div",{className:"panel-graph-line__button "+(i?" active":""),onClick:r},Lh.a.createElement("div",{className:"panel-graph-line__line",style:{borderTop:"2px ".concat(u)}}),Lh.a.createElement(Hh,{name:"panel-graph-arrow",className:"panel-graph-line__arrow"})),i&&Lh.a.createElement("div",{className:"panel-graph-line__menu"},f&&Lh.a.createElement("div",{className:"panel-graph-line__border"},Lh.a.createElement("div",{className:"panel-graph-line__border-item "+("solid"===u?" active":""),onClick:function(){p(sh),m(sh)}},Lh.a.createElement("div",{className:"panel-graph-line__border-solid"})),Lh.a.createElement("div",{className:"panel-graph-line__border-item "+("dashed"===u?" active":""),onClick:function(){p(ch),m(ch)}},Lh.a.createElement("div",{className:"panel-graph-line__border-dashed"})),Lh.a.createElement("div",{className:"panel-graph-line__border-item "+("dotted"===u?" active":""),onClick:function(){p(lh),m(lh)}},Lh.a.createElement("div",{className:"panel-graph-line__border-dotted"}))),Lh.a.createElement("div",{className:"panel-graph-line__input"},Lh.a.createElement(kf,{type:"number",theme:"dark",label:h("Thickness:"),minValue:1,maxValue:10,defaultValue:s.lines.main.lineWidth,onChange:function(e){return function(e){var i=n.find((function(e){return e.id===t})).settings;e>0&&e&&i.lines.main.lineWidth!==e&&a(t,QL(QL({},i),{},{lines:QL(QL({},i.lines),{},{main:QL(QL({},i.lines.main),{},{lineWidth:e})})}),!0)}(e)}}))))})),qL=(i(702),["#439900","#35CB01","#00DF59","#00DFD2","#00C2FF","#319CFF","#0E8BFF","#7987FF","#A792FF","#B366FF","#D04AC3","#EB72DF","#DF4C4C","#F37373","#FA813D","#E3902D","#FFB966","#E2CC00","#FFDF6C","#FAFF00"]);function ZL(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function $L(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ZL(Object(n),!0).forEach((function(t){ej(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ZL(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ej(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var tj=["#35CB01","#0E8BFF","#D13939","#E2CC00","#00DFD2"],nj=Object(Gh.b)(null,{drawingEdit:Uu})((function(e){var t=e.id,n=e.settings,i=e.isOpen,r=e.togglePencil,a=e.drawingEdit,o=function(e){e&&n.lines.main.color!==e&&a(t,$L($L({},n),{},{lines:$L($L({},n.lines),{},{main:$L($L({},n.lines.main),{},{color:e})})}),!0)},s=n.lines.main.color;return Lh.a.createElement("div",{className:"panel-graph-pencil"},Lh.a.createElement("div",{className:"panel-graph-pencil__button "+(i?" active":""),onClick:r},Lh.a.createElement("div",{className:"panel-graph-pencil__item"},Lh.a.createElement(Hh,{name:"panel-graph-pencil",className:"panel-graph-pencil__icon"}),Lh.a.createElement("div",{className:"panel-graph-pencil__arrow",style:{backgroundColor:s}}))),i&&Lh.a.createElement("div",{className:"panel-graph-pencil__palette"},Lh.a.createElement("div",{className:"panel-graph-pencil__palette-list"},qL.map((function(e,t){return Lh.a.createElement("div",{key:t,className:"panel-graph-pencil__palette-item "+(s===e?" active":""),style:{backgroundColor:e},onClick:function(){return o(e)}},s===e&&Lh.a.createElement(Hh,{name:"check-dark"}))}))),Lh.a.createElement("div",{className:"panel-graph-pencil__palette-list-default"},tj.map((function(e,t){return Lh.a.createElement("div",{key:t,className:"panel-graph-pencil__palette-item "+(s===e?" active":"")+("#FFFFFF"===e?" border":""),style:{backgroundColor:e},onClick:function(){return o(e)}},s===e&&Lh.a.createElement(Hh,{name:"check-dark"}))})))))})),ij=(i(704),function(e){var t=e.onMouseDown;return Lh.a.createElement("div",{className:"panel-graph-drop"},Lh.a.createElement("div",{className:"panel-graph-drop__button",onMouseDown:t},Lh.a.createElement(Hh,{name:"panel-graph-drd",className:"panel-graph-drop__icon"})))});i(706);function rj(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function aj(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?rj(Object(n),!0).forEach((function(t){oj(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):rj(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function oj(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var sj=Object(Gh.b)(null,{addDrawing:Xu,changeSelectedIndicatorReqId:Kc})((function(e){var t=e.chartId,n=e.asset,i=e.drawings,r=e.allDrawings,a=e.addDrawing,o=e.changeSelectedIndicatorReqId,s=e.isMobile;return Lh.a.createElement("div",{className:"panel-graph-copy"},Lh.a.createElement("div",{className:"panel-graph-copy__button",onClick:function(){i.forEach((function(e){var i=e.type,c=Uf(),l=aj(aj({},e.settings),{},{order:r.length}),u=e.points.map((function(e,t){return{time:e.time,price:e.price,point:t}}));a(aj(aj({},l),{},{chartId:t,type:i,requestId:c,assetId:n.id,points:u})),s&&o({selectedIndicatorReqId:c,sidePanelOpened:s})}))}},Lh.a.createElement(Hh,{name:"panel-graph-copy",className:"panel-graph-copy__icon"})))}));i(708);function cj(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function lj(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?cj(Object(n),!0).forEach((function(t){uj(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):cj(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function uj(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function hj(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],i=!0,r=!1,a=void 0;try{for(var o,s=e[Symbol.iterator]();!(i=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);i=!0);}catch(e){r=!0,a=e}finally{try{i||null==s.return||s.return()}finally{if(r)throw a}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return dj(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return dj(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function dj(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var fj="PanelOrderType.Front",pj="PanelOrderType.Back",mj="Forward.Forward",yj="PanelOrderType.Backward";Id((function(e){var t=e.chartSettings.visibleChartIds[0],n=au(t);return{chartId:t,asset:cm(e)(t),allDrawings:n(e,{chartId:t})}}),{drawingEdit:Uu},Rd)((function(e){var t=e.id,n=e.allDrawings,i=e.drawingEdit,r=hj(Object(Bh.useState)(!1),2),a=r[0],o=r[1],s=Object(Bh.useCallback)((function(){o(!a)}),[a,o]),c=function(e){var r=n.concat(),a=r.find((function(e){return e.id===t})),o=function(e,t,n){if(n>=e.length)for(var i=n-e.length+1;i--;)e.push(void 0);return e.splice(n,0,e.splice(t,1)[0]),e},c=r.sort((function(e,t){return e.settings.order-t.settings.order})),l=r.indexOf(a);switch(e){case fj:o(c,l,l+1);break;case pj:o(c,l,Math.max(0,l-1));break;case mj:o(c,l,c.length-1);break;case yj:o(c,l,0)}for(var u=0;u<c.length;u++){var h=c[u];i(h.id,lj(lj({},h.settings),{},{order:u}),!0)}s()};return Lh.a.createElement("div",{className:"panel-graph-layer"},Lh.a.createElement("div",{className:"panel-graph-layer__button "+(a?" active":""),onClick:s},Lh.a.createElement(Hh,{name:"panel-graph-layer",className:"panel-graph-layer__icon"}),Lh.a.createElement(Hh,{name:"panel-graph-arrow",className:"panel-graph-layer__arrow"})),a&&Lh.a.createElement("div",{className:"panel-graph-layer__menu"},Lh.a.createElement("div",{className:"panel-graph-copy__menu-item"},Lh.a.createElement("div",{className:"panel-graph-copy__menu-item-block",onClick:function(){return c(fj)}},"Bring to Front")),Lh.a.createElement("div",{className:"panel-graph-copy__menu-item"},Lh.a.createElement("div",{className:"panel-graph-copy__menu-item-block",onClick:function(){return c(pj)}},"Send to Back")),Lh.a.createElement("div",{className:"panel-graph-copy__menu-item"},Lh.a.createElement("div",{className:"panel-graph-copy__menu-item-block",onClick:function(){return c(mj)}},"Bring Forward")),Lh.a.createElement("div",{className:"panel-graph-copy__menu-item"},Lh.a.createElement("div",{className:"panel-graph-copy__menu-item-block",onClick:function(){return c(yj)}},"Send Backward"))))}));function gj(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],i=!0,r=!1,a=void 0;try{for(var o,s=e[Symbol.iterator]();!(i=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);i=!0);}catch(e){r=!0,a=e}finally{try{i||null==s.return||s.return()}finally{if(r)throw a}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return vj(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return vj(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function vj(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var bj=Id((function(e){var t=e.chartSettings.visibleChartIds[0],n=ou(t),i=au(t);return{chartId:t,asset:cm(e)(t),selectedDrawings:n(e,{chartId:t}),allDrawings:i(e,{chartId:t}),isMobile:e.global.isMobile,panelCoordinates:e.chartSettings.chartById[t].panelCoordinates}}),{drawingEdit:Uu,changePanelCoordinates:function(e){return{type:"CHART.CHANGE_PANEL_COORDINATES",payload:{chartId:e.chartId,value:e.value}}}},Rd)((function(e){var t=e.chartRef,n=e.selectedDrawings,i=e.allDrawings,r=e.panelCoordinates,a=e.changePanelCoordinates,o=e.chartId,s=e.asset,c=e.isMobile,l=Object(Bh.useRef)(),u=gj(Object(Bh.useState)(""),2),h=u[0],d=u[1],f=Object(Bh.useCallback)((function(e){d(e===h?"":e)}),[h,d]),p=1===n.length,m=r?r.top:"25%",y=r?r.left:"10%";return Lh.a.createElement("div",{className:"panel-graph",style:{top:m,left:y},ref:l,onDragStart:function(){return!1}},Lh.a.createElement(ij,{onMouseDown:function(e){var n=l.current,i=document.getElementsByClassName("chart")[0],r=e.clientX-n.offsetLeft,s=e.clientY-n.offsetTop;function c(e,i){var a=e-r,o=i-s,c=t.current.offsetWidth-n.offsetWidth,l=t.current.offsetHeight-n.offsetHeight;a<50&&(a=50),a>c-50&&(a=c-50),o>l&&(o=l),o<125&&(o=125),o>l-50&&(o=l-50),n.style.left=a>0?a+"px":0,n.style.top=o>0?o+"px":0}function u(e){c(e.pageX,e.pageY)}function h(e){for(var t=e.toElement||e.relatedTarget;t&&t.parentNode&&t.parentNode!==window;){if(t.parentNode===this||t===this)return t.preventDefault&&t.preventDefault(),!1;t=t.parentNode}d()}function d(){i.removeEventListener("mousemove",u,this),i.removeEventListener("mouseout",h,this),n.removeEventListener("mouseup",d,this),a({chartId:o,value:{left:n.style.left,top:n.style.top}})}n.style.position="absolute",n.style.zIndex=1e3,t.current.append(n),c(e.pageX,e.pageY),i.addEventListener("mousemove",u,void 0),i.addEventListener("mouseout",h,void 0),n.addEventListener("mouseup",d,void 0)}}),!!p&&Lh.a.createElement(nj,{id:n[0].id,settings:n[0].settings,isOpen:"pencil"===h,togglePencil:function(){return f("pencil")}}),!!p&&Lh.a.createElement(JL,{id:n[0].id,isOpen:"line"===h,toggleLine:function(){return f("line")}}),!1,Lh.a.createElement(sj,{chartId:o,asset:s,allDrawings:i,drawings:n,isMobile:c}),Lh.a.createElement(UL,{drawings:n}),Lh.a.createElement(WL,null))}));function Ej(e){return(Ej="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Aj(e){return function(e){if(Array.isArray(e))return Oj(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||_j(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function wj(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],i=!0,r=!1,a=void 0;try{for(var o,s=e[Symbol.iterator]();!(i=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);i=!0);}catch(e){r=!0,a=e}finally{try{i||null==s.return||s.return()}finally{if(r)throw a}}return n}(e,t)||_j(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _j(e,t){if(e){if("string"==typeof e)return Oj(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Oj(e,t):void 0}}function Oj(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function Sj(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function Cj(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Sj(Object(n),!0).forEach((function(t){Rj(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Sj(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Tj(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function kj(e,t){return(kj=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ij(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=xj(e);if(t){var r=xj(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return Pj(this,n)}}function Pj(e,t){return!t||"object"!==Ej(t)&&"function"!=typeof t?Nj(e):t}function Nj(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function xj(e){return(xj=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Rj(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Dj=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&kj(e,t)}(a,e);var t,n,i,r=Ij(a);function a(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),Rj(Nj(t=r.call(this,e)),"onScrollToEndClick",(function(){t.plot&&t.plot.handleScrollToEndClick()})),Rj(Nj(t),"onNewRegionRequest",(function(e,n,i,r){t.ws.loadRegion({asset:t.props.symbol,index:e,time:n,offset:i,period:r}),t.regionIndexesPending.push(e)})),Rj(Nj(t),"onZoomChanged",(function(){var e=t.props;(0,e.changeChartZoom)({chartId:e.chartId,chartType:e.chartType,count:t.plot.currentDeltaCount,value:t.plot.currentDelta,secondWidth:t.plot.secondWidth})})),Rj(Nj(t),"onScrollToEndChanged",(function(e){return t.setState({scrollToEndVisible:!!e})})),Rj(Nj(t),"onVerticalScrollChanged",(function(e){return t.setState({verticalScroll:e})})),Rj(Nj(t),"onVerticalScrollResetClick",(function(){return t.plot&&t.plot.plotVerticalScroll.reset()})),Rj(Nj(t),"changeAssetToActive",(function(){var e=t.props,n=e.chartId,i=e.symbol;(0,e.changeAssetToActive)({chartId:n,symbol:i})})),Rj(Nj(t),"setChartSize",(function(){if(t.chartRef.current&&t.plot){var e=t.chartContainerRef.current,n=e.clientWidth,i=e.clientHeight;t.plot.setParams(n,i),t.calculateBottomIndicatorsSize(n,i)}})),t.state={loadedHistory:!1,scrollToEndVisible:!1,verticalScroll:0},t.chartRef=Lh.a.createRef(),t.ws=Li.instance,t.onFrameToken=null,t.regionIndexesPending=[],t.plot=null,t.isZoomed=!1,t.wsUpdateQuotes=0,t.wsLoadHistory=0,t.wsLoadHistoryArr=0,t.wsUpdateHistory=0,t.wsSuccessAuth=0,t.chartContainerRef=Lh.a.createRef(),t}return t=a,(n=[{key:"componentDidMount",value:function(){var e=this;this.wsUpdateQuotes=this.ws.addEventListener(L,(function(t){return e.updateQuotes(t)})),this.wsLoadHistory=this.ws.addEventListener(D,(function(t){return e.onRegionLoad(t)})),this.wsLoadHistoryArr=this.ws.addEventListener(M,(function(t){return e.onRegionLoadArr(t)})),this.wsUpdateHistory=this.ws.addEventListener(R,(function(t){return e.onHistoryLoad(t)})),this.wsSuccessAuth=this.ws.addEventListener(Q,(function(t){return e.onSuccessAuthHandler(t)})),this.createPlot(),mL(),window.addEventListener("resize",this.setChartSize,!0)}},{key:"componentDidUpdate",value:function(e){this.changeAsset(e),this.changeGlobalSettings(e),this.changeChartType(e),this.changeChartPeriod(e),this.changeIndicators(e),this.changeDrawings(e),this.changeZoom(e),this.changeAutoScroll(e),this.triggerResizeOneSecOnPropChange(["sidePanelOpened"],e),this.triggerResizeOneSecOnPropChange(["isOpenSidebarName"],e),this.triggerResizeOneSecOnPropChange(["isHideTradingUI"],e),this.triggerResizeOneSecOnPropChange(["windowOrientation"],e),this.triggerClearOnPropChange(["gridOpacity"],e)}},{key:"componentWillUnmount",value:function(){this.plot&&this.plot.forceDestroy(),window.removeEventListener("resize",this.setChartSize,!0),cancelAnimationFrame(this.onFrameToken),this.ws.removeEventListener(L,this.wsUpdateQuotes),this.ws.removeEventListener(D,this.wsLoadHistory),this.ws.removeEventListener(M,this.wsLoadHistoryArr),this.ws.removeEventListener(R,this.wsUpdateHistory),this.ws.removeEventListener(Q,this.wsSuccessAuth)}},{key:"changeIndicators",value:function(e){e.allIndicators.length===this.props.allIndicators.length&&rr()(e.allIndicators,this.props.allIndicators)||this.state.loadedHistory&&this.plot.changeIndicators(this.props.allIndicators)}},{key:"changeDrawings",value:function(e){e.drawings.length===this.props.drawings.length&&rr()(e.drawings,this.props.drawings)||this.state.loadedHistory&&this.plot.changeDrawings(this.props.drawings)}},{key:"changeAutoScroll",value:function(e){e.isAutoScrolling!==this.props.isAutoScrolling&&this.props.isAutoScrolling&&this.onScrollToEndClick()}},{key:"changeZoom",value:function(e){if(e.zoomStatus!==this.props.zoomStatus){var t=this.props,n=t.zoomStatus,i=t.zoomButtonReady,r=t.chartId;if(n===Wi||n===Yi){var a=n===Wi?1:-1;this.plot.zoom(this.plot.width/2,this.plot.height/2,a*w.CHART.ZOOM_PERCENT)}else n===Xi&&this.plot.restoreZoom();i({chartId:r})}}},{key:"triggerClearOnPropChange",value:function(e,t){var n=this;e.some((function(e){return t[e]!==n.props[e]}))&&(this.plot.forceCleared=!0)}},{key:"triggerResizeOneSecOnPropChange",value:function(e,t){var n=this;if(e.some((function(e){return t[e]!==n.props[e]}))){var i=setInterval((function(){mL()}),10);setTimeout((function(){clearInterval(i)}),500)}}},{key:"changeAsset",value:function(e){e.symbol!==this.props.symbol&&(this.setState({loadedHistory:!1}),this.clearRegionIndexesPending(),this.plot.clear(),this.plot.setDigit(this.props.digits),this.plot.setAssetId(this.props.id),this.zoomPlot())}},{key:"changeGlobalSettings",value:function(e){e.theme!==this.props.theme&&this.plot.setTheme(this.props.theme)}},{key:"changeChartType",value:function(e){e.chartType!==this.props.chartType&&(this.clearRegionIndexesPending(),this.plot&&this.plot.setPlotType(this.props.chartType),this.zoomPlot())}},{key:"changeChartPeriod",value:function(e){if(e.chartPeriod!==this.props.chartPeriod||e.chartType!==this.props.chartType){this.clearRegionIndexesPending(),this.plot.clear(),this.setState({loadedHistory:!1});var t=this.props,n=t.chartPeriod,i=t.symbol;this.ws.emitChangeSymbol({asset:i,toCloseTime:!0,chartPeriod:n}),this.plot.setElementWidth(this.props.chartPeriod)}}},{key:"updateQuotes",value:function(e){var t=this;if(!this.state.loadedHistory)return null;var n=e.filter((function(e){return e.asset===t.props.symbol&&t.isGoodPointValue(e.price)})).map((function(e){var t=e.time;return{value:e.price,time:t,tick:e.tick}}));n.length>0&&this.plot.addPoints(n)}},{key:"zoomPlot",value:function(){if(this.props.isMobile&&this.plot.width&&this.plot.height)this.plot.zoomToDefault();else{var e=this.props,t=e.chartType,n=e.zoom;this.plot.zoomToDelta(n[t])}this.isZoomed=!0}},{key:"createPlot",value:function(){var e=this.props,t=e.chartId,n=e.chartType,i=e.chartPeriod,r=e.digits;this.plot=new gP(t,Bu),this.plot.setPlotType(n),this.plot.setElementWidth(i),this.plot.setDigit(r),this.setChartSize(),this.draw(),this.plot.addPlotEventListener(mP.NEW_REGION_REQUEST,this.onNewRegionRequest),this.plot.addPlotEventListener(mP.ZOOM_CHANGED,this.onZoomChanged),this.plot.addPlotEventListener(mP.SCROLL_TO_END_CHANGED,this.onScrollToEndChanged),this.plot.addPlotEventListener(mP.VERTICAL_SCROLL_CHANGED,this.onVerticalScrollChanged)}},{key:"draw",value:function(){var e=this;this.plot&&this.plot.render(Date.now()/1e3);var t=tN.instances;t&&t.forEach((function(e){return e.allowDraw&&e.render(Date.now()/1e3)})),this.onFrameToken=requestAnimationFrame((function(){e.draw()})),Li.instance.setLastRequestAnimationFrameTime()}},{key:"calculateBottomIndicatorsSize",value:function(e,t){var n=t/2,i=this.plot.getBottomIndicators(),r=i.length>0?i[0].getIndicatorsTotalHeight():0;if(r>n)for(var a=0;a<i.length;a++){var o=i[a],s=o.getYShiftAddingValue();if(s>o.minYShiftAddingValue){s=Math.max(0,s+cl(n-r,0,t,0,100));var c=Cj(Cj({},o.settings),{},{yShiftAddingValue:s});Bu.dispatch(zu(o.index,c,!0))}}}},{key:"convertUpdateHistory",value:function(e){var t=e.period,n=e.history,i=e.candles,r=n.map((function(e){var t=wj(e,3);return[t[0],t[1],t[2]]})),a=[];if(t>=60&&i.length>0){i.forEach((function(e){var n=wj(e,7),i=n[0],r=n[1],o=n[2],s=n[3],c=n[4],l=n[5],u=n[6];a.push([i,r,l,u]),a.push([i+1,s,0,0]),a.push([i+2,c,0,0]),a.push([i+t-1,o,0,0])}));var o=Math.max.apply(Math,Aj(r.map((function(e){return wj(e,1)[0]})))),s=a.filter((function(e){return e[0]<o&&-1===r.findIndex((function(t){return t[0]===e[0]}))})),c=Math.max.apply(Math,Aj(s.map((function(e){var t=wj(e,4);return t[0],t[1],t[2],t[3]}))));r=(r=r.filter((function(e){return wj(e,1)[0]>c}))).concat(s)}return r.map((function(e){var t=wj(e,3),n=t[0],i=t[1],r=t[2];return{value:parseFloat(i),time:parseFloat(n),tick:parseInt(r,10)}})).sort((function(e,t){return e.time-t.time}))}},{key:"onSuccessAuthHandler",value:function(){this.setState({loadedHistory:!1})}},{key:"onHistoryLoad",value:function(e){var t=e.asset,n=e.period;if(t!==this.props.symbol||n!==Ei[this.props.chartPeriod]||this.state.loadedHistory)return!1;var i=this.convertUpdateHistory(e);this.clearRegionIndexesPending(),this.plot.clear(),this.plot.refresh(),this.plot.addPoints(i),this.plot.render(Date.now()/1e3),this.isZoomed=!1,this.zoomPlot(),i=null,this.setState({loadedHistory:!0})}},{key:"checkPendingRegion",value:function(e){return this.regionIndexesPending.some((function(t){return t===e}))}},{key:"removePendingRegion",value:function(e){this.regionIndexesPending=this.regionIndexesPending.filter((function(t){return t!==e}))}},{key:"clearRegionIndexesPending",value:function(){this.regionIndexesPending=[]}},{key:"onRegionLoad",value:function(e){var t=this,n=e.index,i=e.asset,r=e.period,a=e.data;if(i!==this.props.symbol||!this.checkPendingRegion(n))return!1;var o=r||1,s=[];o>1?a.forEach((function(e){var n=e.time,i=e.open,r=e.close,a=e.high,c=e.low,l=e.ticks;t.isGoodPointValue(i)&&s.push({time:n,value:i,tick:l}),t.isGoodPointValue(a)&&s.push({time:n+1,value:a,tick:0}),t.isGoodPointValue(c)&&s.push({time:n+2,value:c,tick:0}),t.isGoodPointValue(r)&&s.push({time:n+o-1,value:r,tick:0})})):a.forEach((function(e){var n=e.time,i=e.price,r=e.tick;t.isGoodPointValue(i)&&s.push({time:n,value:i,tick:r})})),s.length?(this.plot.addPoints(s,ky.DEFAULT),this.plot.render(Date.now()/1e3)):this.plot.disableLoadRegion(),this.plot.onRegionLoaded(n),this.removePendingRegion(n)}},{key:"onRegionLoadArr",value:function(e){var t=this,n=e.index,i=e.asset,r=e.period,a=e.data;if(i!==this.props.symbol||!this.checkPendingRegion(n))return!1;var o=r||1,s=[];if(o>1)a.forEach((function(e){var n=e.time,i=e.open,r=e.close,a=e.high,c=e.low;t.isGoodPointValue(i)&&s.push({time:n,value:i}),t.isGoodPointValue(a)&&s.push({time:n+1,value:a}),t.isGoodPointValue(c)&&s.push({time:n+2,value:c}),t.isGoodPointValue(r)&&s.push({time:n+o-1,value:r})}));else{var c=this.plot.regions.find((function(e){return e.index===n}));if(c)if(a.length>0){var l=wj(a[0],2),u=l[0],h=l[1],d=parseInt(u,10),f=parseInt(c.time,10)-c.offset;if(d-f>2)for(var p=f;p<d;p++)s.push({time:p,value:h})}else if(this.plot.pointsManager.points.length>0)for(var m=this.plot.pointsManager.points[0],y=m.time,g=m.value,v=parseInt(y,10),b=parseInt(c.time,10)-c.offset;b<v;b++)s.push({time:b,value:g});a.forEach((function(e){var n=wj(e,2),i=n[0],r=n[1];t.isGoodPointValue(r)&&s.push({time:i,value:r})}))}s.length?(this.plot.addPoints(s,ky.DEFAULT),this.plot.render(Date.now()/1e3)):this.plot.disableLoadRegion(),this.plot.onRegionLoaded(n),this.removePendingRegion(n)}},{key:"isGoodPointValue",value:function(e){return Number.MAX_VALUE!==e&&Number.MIN_VALUE!==e&&Number.isFinite(e)}},{key:"render",value:function(){var e=this.state,t=e.scrollToEndVisible,n=e.loadedHistory,i=e.verticalScroll,r=e.isMobile,a=this.props,o=a.bottomIndicators,s=a.chartId,c=a.active,l=a.symbol,u=a.selectedDrawings,h=a.isBackgroundGraph,d=a.background,f=u.length>0;return Lh.a.createElement("div",{className:"trading-chart__wrapper"+(c?"":" hidden")},!n&&Lh.a.createElement(VL,null),d.file&&Lh.a.createElement("div",{style:{position:"absolute",top:0,left:0,width:"100%",height:"100%",opacity:Math.max(0,Math.min(100,d.opacity||30))/100,background:"url(".concat(Yc("settings/background/view"),"?").concat(d.file,") center / cover")}}),Lh.a.createElement("div",{ref:this.chartRef,className:Object(pL.a)("chart",{loading:!n},{hidden:!c})},!h&&Lh.a.createElement(fL,{handler:this.onScrollToEndClick,visible:t}),Lh.a.createElement("div",{ref:this.chartContainerRef,className:Object(pL.a)("chart-container"),id:s},o.length>0&&Lh.a.createElement(FL,{plot:this.plot,indicators:o}),Lh.a.createElement(HL,null),Lh.a.createElement(dL,{plot:this.plot,symbol:l,loadedHistory:n})),!r&&f?Lh.a.createElement(bj,{chartRef:this.chartRef}):null,i>0&&Lh.a.createElement("div",{onClick:this.onVerticalScrollResetClick,className:"plot-vertical-scroll-btn show"},Lh.a.createElement("i",{className:"fa fa-angle-down"}),Lh.a.createElement("i",{className:"fa fa-angle-up"}))))}}])&&Tj(t.prototype,n),i&&Tj(t,i),a}(Lh.a.PureComponent),Mj=Id((function(e,t,n){var i=iu(n),r=ru(n),a=au(n),o=ou(n);return function(e){var t=e.chartSettings.chartById[n],s=t.zoomStatus,c=t.zoom,l=t.chartType,u=t.chartPeriod,h=t.currentAsset,d=t.isAutoScrolling,f=t.gridOpacity,p=t.isFastOption,m=e.global,y=m.isMobile,g=m.theme,v=m.sidePanelOpened,b=m.isHideTradingUI,E=m.isOpenSidebarName,A=m.background,w=h.symbol,_=h.obj,O=_.active,S=_.digits,C=_.id,T=e.chartSettings.visibleChartIds,k=window.orientation;return{sidePanelOpened:v,isOpenSidebarName:E,visibleChartIds:T,allIndicators:i(e),bottomIndicators:r(e),drawings:a(e,{chartId:n}),selectedDrawings:o(e,{chartId:n}),chartId:n,isMobile:y,isBackgroundGraph:e.global.isBackgroundGraph,symbol:w,theme:g,active:O,digits:S,id:C,zoomStatus:s,zoom:c,chartType:l,chartPeriod:u,isFastOption:p,isAutoScrolling:d,isHideTradingUI:b,gridOpacity:f,windowOrientation:k,background:A}}}),{changeAssetToActive:function(e){return{type:"SYMBOL.CHANGE.ACTIVE",payload:{chartId:e.chartId,asset:e.asset}}},changeChartZoom:function(e){var t=e.chartId,n=e.chartType;return{type:"ZOOM.CHANGE",payload:{chartId:t,count:e.count,value:e.value,chartType:n,secondWidth:e.secondWidth}}},zoomButtonReady:function(e){return{type:"ZOOM/BTN/RDY",payload:{chartId:e.chartId,action:Qi}}}},Rd)(Dj),Bj=function(e){var t=e.current;return Lh.a.createElement("div",{className:"trading-chart trading-chart--fade-in"},Lh.a.createElement(Mj,{chartSlotIndex:t}),Lh.a.createElement(nL,null),Lh.a.createElement(JR,null))},Lj=(i(710),function(e){var t=e.title,n=e.disable,i=e.onHeaderClick;return Lh.a.createElement("div",{className:"sidebar-section"+(e.dark?" sidebar-section--dark":"")+(e.size?" sidebar-section--".concat(e.size):"")+(e.type?" sidebar-section--".concat(e.type):"")+(n?" disable":"")},t&&Lh.a.createElement("div",{className:"sidebar-section__head",onClick:i},t),null==e?void 0:e.children)});Lj.propTypes={title:Jh.a.string,onHeaderClick:Jh.a.func,dark:Jh.a.bool,type:Jh.a.oneOf(["clean","nopadding","transparent"]),size:Jh.a.oneOf(["large"])},Lj.defaultProps={};var jj=Lj,Fj=(i(712),Id((function(e,t,n){var i=e.chartSettings.chartById[n],r=i.dealValue,a=i.dealPercentValue,o=i.isFastAmountOption,s=i.currentAsset,c=i.timePeriod,l=e.global,u=l.currency,h=l.balance,d=l.liveBalance,f=l.levelsList,p=s.obj;return{timePeriod:c,payout_1:p.payout_1,payout_5:p.payout_5,currency:u,isFastAmountOption:o,dealValue:r,dealPercentValue:a,balance:h,label:p.label,assetsList:p.assetsList,liveBalance:d,levelsList:f,fixed:p.fixed}}),null,Rd)((function(e){var t=e.currency,n=e.payout_1,i=e.payout_5,r=e.timePeriod,a=e.isFastAmountOption,o=e.dealValue,s=e.dealPercentValue,c=e.balance,l=(e.assetsList,e.label,e.openDealHandler),u=e.liveBalance,d=e.levelsList,f=e.fixed,p=o;a&&(p=cl(s,0,100,0,c),p=sa(t)?p.toFixed(6):p.toFixed(2)),p=parseFloat(p);var m=f?0:Md({levelsList:d,liveBalance:u}),y=xd({payout_5:i,payout_1:n,time:r,levelPercent:m}),g=sa(t)?parseFloat((p+p*y/100).toFixed(6)):(p+p*y/100).toFixed(2);return Lh.a.createElement(Lh.a.Fragment,null,Lh.a.createElement("div",{className:"section-deal__success ".concat(a?"":" percent")},Lh.a.createElement(Zh,{className:"call-btn section-deal__button",type:"success",icon:"arrow-up-circle",spaced:!0,onClick:function(e){return l(e,"call")}},h("Up"))),Lh.a.createElement("div",{className:"section-deal__payout"+(a?" percent":"")},h("Your payout:")," ",Lh.a.createElement("b",null,g," ",t),Lh.a.createElement("div",{className:"section-deal__percent"},y,"%")),a&&Lh.a.createElement("div",{className:"section-deal__payout-investment"},h("Investment:"),Lh.a.createElement("div",{className:"section-deal__payout-investment__mobile"}),Lh.a.createElement("b",null,ga({amount:p,currency:t}))),Lh.a.createElement("div",{className:"section-deal__mobile-payout ".concat(a?" percent":"")},h("Payout"),":"," ",Lh.a.createElement("div",{className:"section-deal__mobile-payout__border"}),Lh.a.createElement("b",null,g," ",t)),Lh.a.createElement("div",{className:"section-deal__danger"},Lh.a.createElement(Zh,{className:"put-btn section-deal__button",type:"danger",icon:"arrow-down-circle",spaced:!0,onClick:function(e){return l(e,"put")}},h("Down"))))})));i(714);function Gj(e){var t=e.help,n=e.hint,i=e.className,r=e.hintAlign,a=e.withControls,o=e.handleDecrease,s=e.handleIncrease,c=e.disableIncrease,l=e.disableDecrease,u=e.wrapperRef,d=e.focused,f=e.isDropdownOpen,p=e.textLeft,m=e.children,y=e.type,g=e.accent,v=e.label,b=e.dark,E=e.changeFastAmountOptionHandler,A="input-control "+(y?"input-control--".concat(y," "):"")+(b?"input-control--dark ":"")+(d?"focused ":"")+(f?" active ":"")+(p?" input-control--text-left":"");return Lh.a.createElement("div",{className:"input-control-wrapper "+(i||"")},Lh.a.createElement("label",{className:A,ref:u},Lh.a.createElement("span",{className:"input-control__label"+(g?" input-control__label--accent":"")},v),a?Lh.a.createElement("button",{className:"input-control__button",disabled:l,onClick:o},"-"):null,m,a?Lh.a.createElement("button",{className:"input-control__button",disabled:c,onClick:s},"+"):null,!!E&&Lh.a.createElement("span",{className:"input-control__label__switch",onClick:E},h("Switch"))),t&&Lh.a.createElement("div",{className:"input-control__help"},t),n&&Lh.a.createElement("div",{className:"input-control__hint"+("center"===r?" input-control__hint--center":"")},n))}var Vj=i(71),Hj=i.n(Vj);function Uj(){return(Uj=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}function Wj(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],i=!0,r=!1,a=void 0;try{for(var o,s=e[Symbol.iterator]();!(i=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);i=!0);}catch(e){r=!0,a=e}finally{try{i||null==s.return||s.return()}finally{if(r)throw a}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Yj(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Yj(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Yj(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function Qj(e,t){if(null==e)return{};var n,i,r=function(e,t){if(null==e)return{};var n,i,r={},a=Object.keys(e);for(i=0;i<a.length;i++)n=a[i],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Xj(e){var t=e.className,n=e.onChange,i=e.value,r=e.suffix,a=e.prefix,o=e.maxValue,s=e.minValue,c=e.stepValue,l=e.currency,u=Qj(e,["className","onChange","value","suffix","prefix","maxValue","minValue","stepValue","currency"]),d=Wj(Object(Bh.useState)(!1),2),f=d[0],p=d[1],m=Wj(Object(Bh.useState)(i),2),y=m[0],g=m[1];(isNaN(c)||!c||c<0)&&(c=1);var v=sa(l);Object(Bh.useEffect)((function(){i!==y&&g(i),(i<s||i>o)&&(o&&o<=y?(g(o),n(o)):s&&s>=y&&(g(s),n(s)))}),[i,o,o]);var b=v&&~(s+"").indexOf(".")?(s+"").split(".")[1].length:0,E=Hj()({prefix:a?"".concat(a," "):"",suffix:r?" ".concat(r):"",includeThousandsSeparator:!0,thousandsSeparatorSymbol:",",allowDecimal:!0,decimalSymbol:".",decimalLimit:b,integerLimit:String(o).length,allowNegative:!1,allowLeadingZeroes:!1});return Lh.a.createElement(Lh.a.Fragment,null,Lh.a.createElement(Gj,Uj({withControls:!0,className:t,handleIncrease:function(){var e=v?1e-4:c;g(y+e);var t=i+e;n(v?parseFloat(t.toFixed(4)):t)},handleDecrease:function(){var e=v?1e-4:c;g(y-e);var t=i-e;n(v?parseFloat(t.toFixed(4)):t)},disableDecrease:i<=s,disableIncrease:i>=o,focused:f,textLeft:r||a},u),Lh.a.createElement(df.a,{type:"text",mask:E,className:"input-control__input",value:y,onFocus:function(){return p(!0)},onBlur:function(){o&&o<=y?(g(o),n(o)):s&&s>=y&&(g(s),n(s)),p(!1)},onChange:function(e){var t=e.target.value,i=v?Number(t.substring(0,t.length-2))||0:parseInt(t.replace(/\D/g,""))||0,r=e.target.selectionStart;if(2===String(i).length&&1===r&&(i=Number(e.nativeEvent.data)),v&&s>=i)return g(s),n(s);i||(i=null),g(i),o>=i&&s<=i&&n(i)},onKeyPress:function(e){"Enter"===e.key&&e.currentTarget.blur()}})),y>o&&Lh.a.createElement("div",{className:"input-control__max-value"},h("Max trade amount")," - ",l,o))}var zj=Id((function(e,t,n){var i=e.chartSettings,r=e.global,a=i.chartById[n],o=a.dealValue,s=a.dealPercentValue,c=a.isFastAmountOption,l=r.currency;return{chartId:n,balance:r.balance,dealValue:o,dealPercentValue:s,currency:l,minDealAmount:r.minDealAmount,maxDealAmount:r.maxDealAmount,isFastAmountOption:c}}),{changeDealAmount:function(e){return{type:"DEAL.AMOUNT",payload:{chartId:e.chartId,amount:e.amount}}},changeDealPercentAmount:function(e){return{type:"DEAL.PERCENT_AMOUNT",payload:{chartId:e.chartId,amount:e.amount}}},changeFastAmountOption:ml},Rd)((function(e){var t=e.chartId,n=e.changeDealAmount,i=e.changeDealPercentAmount,r=e.changeFastAmountOption,a=e.dealValue,o=e.dealPercentValue,s=e.currency,c=e.minDealAmount,l=e.maxDealAmount,u=e.isFastAmountOption;return Lh.a.createElement(Lh.a.Fragment,null,Lh.a.createElement(Xj,{label:h("Investment"),type:"number",dark:!0,onChange:function(e){u?i({chartId:t,amount:e}):n({chartId:t,amount:e})},suffix:u?"%":s,minValue:u?1:c,value:u?o:a,hintAlign:"center",maxValue:u?100:l,stepValue:u?1:c,currency:u?"":s,className:"section-deal--black",changeFastAmountOptionHandler:function(){r({chartId:t,value:!u})}}))})),Kj=(i(716),i(718),i(720),function(e){var t=e.isOpen,n=e.toggle,i=e.top,r=e.right,a=Object(Bh.useRef)(null),o=Object(Bh.useCallback)((function(e){document.querySelector(".input-control__input")!==e.target&&a.current&&!a.current.contains(e.target)&&(document.removeEventListener("click",o),n())}),[n,a]);return Object(Bh.useEffect)((function(){t?document.addEventListener("click",o):document.removeEventListener("click",o)}),[t]),Lh.a.createElement("div",{ref:a,className:"switch-tooltip ".concat(t?"active":""),style:{top:i,right:r}},h("Opening deals by time is currently available only for OTC trading."))}),Jj=function(e){var t=e.value,n=e.options,i=e.onChange,r=e.isActive,a=e.tabActive,o=e.onClickTabActive,s=e.isSwitcherTime,c=e.toggleActiveInput,l=e.isOtcTooltipState,u=e.onClickIsOtcTooltip;return Lh.a.createElement("div",{className:"mobile-time-input__options ".concat(r?"active":"")},s&&Lh.a.createElement("div",{className:"mobile-time-input__options-tabs"},Lh.a.createElement("div",{className:"mobile-time-input__options-tab ".concat("timer"===a?"active":""),onClick:"timer"===a?function(){}:o},h("timer")),Lh.a.createElement("div",{className:"mobile-time-input__options-tab ".concat("time"===a?"active":""),onClick:"time"===a?function(){}:o},h("time"))),Lh.a.createElement("div",{className:"mobile-time-input__options-items"},n.map((function(e){return Lh.a.createElement("div",{key:e.value,className:"mobile-time-input__options-item ".concat(t===e.value?" active":""),onClick:function(){return i(e.value)}},e.label)}))),s&&Lh.a.createElement("div",{onClick:c,className:"mobile-time-input__options-manually"},h("Set manually")),Lh.a.createElement(Kj,{isOpen:l,toggle:u}))},qj=i(107),Zj=i.n(qj);function $j(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],i=!0,r=!1,a=void 0;try{for(var o,s=e[Symbol.iterator]();!(i=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);i=!0);}catch(e){r=!0,a=e}finally{try{i||null==s.return||s.return()}finally{if(r)throw a}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return eF(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return eF(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function eF(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var tF=function(e){var t=e.value,n=e.timeZone,i=e.options,r=e.currentTime,a=e.isFastOption,o=e.onChange,s=e.isSwitcherVisible,c=e.onClickSwitchTime,l=e.isOtc,u=e.isOTCTooltip,d=e.isOtcTooltipState,f=e.onClickIsOtcTooltip,p=$j(Object(Bh.useState)(null),2),m=p[0],y=p[1],g=$j(Object(Bh.useState)(!1),2),v=g[0],b=g[1],E=$j(Object(Bh.useState)(!1),2),A=E[0],w=E[1],_=$j(Object(Bh.useState)(l&&!a?et(t,a?n:0):$e(t,a?n:0)),2),O=_[0],S=_[1];Object(Bh.useEffect)((function(){m&&(A?(m.disabled=!1,function(e,t){if(t||(t=100),e){var n=document.createElement("input");n.style.position="absolute",n.style.top=e.offsetTop+7+"px",n.style.left=e.offsetLeft+"px",n.style.height=0,n.style.opacity=0,document.body.appendChild(n),n.focus(),setTimeout((function(){e.disabled=!1,e.focus(),e.click(),document.body.removeChild(n)}),t)}}(m)):(m.disabled=!0,m.blur()));var e=l&&!a?et(t,a?n:0):$e(t,a?n:0);O!==e&&S(e)}),[A,t,a,n,l]);var C=function(e){var t=3600*e.target.value.substr(0,2),n=60*e.target.value.substr(3,2),i=e.target.value.substr(6,2),s=Number(t)+Number(n)+Number(i);if(w(!1),b(!1),m.disabled=!0,m.blur(),a){var c=new Date;s-=3600*c.getHours()+60*c.getMinutes()+c.getSeconds(),(l?s<5:s<60)?s=l?5:60:s>14400&&(s=14400);var u=Qe.a.unix(r+s);return u=u.second()?u.add(1,"minute").startOf("minute"):u.startOf("minute"),o(Qe()(u).unix()),S(u.format("HH:mm:ss"))}(l?s<5:s<60)?s=l?5:60:s>14400&&(s=14400),o(s),S(Je(s))},T=function(e,t){var n=3600*t.substr(0,2),i=60*t.substr(3,2),r=Number(n)+Number(i);S(et(r)),b(!1)};return Lh.a.createElement("div",{className:"mobile-time-input"},Lh.a.createElement("div",{className:"input-control-wrapper section-deal--black",onClick:function(){A||(l&&u&&f(),b(!v))}},Lh.a.createElement("label",{className:"input-control input-control--number input-control--dark  input-control--text-left"},Lh.a.createElement("span",{className:"input-control__label"},h(a?"Time":"Timer")),l&&!a?Lh.a.createElement(Zj.a,{value:O,disabled:!A,className:"input-control__input mobile-time-input__block",inputRef:function(e){y(e)},onBlur:C,onChange:T,colon:":",showSeconds:!0}):Lh.a.createElement(Lh.a.Fragment,null,Lh.a.createElement(Zj.a,{value:O,disabled:!A,className:"input-control__input mobile-time-input__block",inputRef:function(e){y(e)},onBlur:C,onChange:T})))),i&&i.length&&Lh.a.createElement(Jj,{value:t,options:i,tabActive:a?"time":"timer",onChange:function(e){b(!1),o(e),S(a?l?et(e,n,!0):$e(e,n,!0):et(e))},isActive:v,isFastOption:a,toggleActiveInput:function(){v?(w(!0),b(!1)):w(!1)},isSwitcherTime:s,onClickTabActive:c,isOtcTooltipState:d,onClickIsOtcTooltip:f}))},nF=[{period:60,value:0,label:""},{period:120,value:0,label:""},{period:180,value:0,label:""},{period:240,value:0,label:""},{period:300,value:0,label:""},{period:600,value:0,label:""},{period:900,value:0,label:""},{period:1800,value:0,label:""},{period:2700,value:0,label:""},{period:3600,value:0,label:""},{period:7200,value:0,label:""},{period:10800,value:0,label:""},{period:14400,value:0,label:""}],iF=[{period:5,value:0,label:""},{period:10,value:0,label:""},{period:15,value:0,label:""},{period:30,value:0,label:""},{period:60,value:0,label:""},{period:120,value:0,label:""},{period:300,value:0,label:""},{period:600,value:0,label:""},{period:900,value:0,label:""},{period:1800,value:0,label:""},{period:3600,value:0,label:""},{period:7200,value:0,label:""},{period:14400,value:0,label:""}],rF=[{period:60,value:0,label:""},{period:120,value:0,label:""},{period:180,value:0,label:""},{period:240,value:0,label:""},{period:300,value:0,label:""},{period:600,value:0,label:""},{period:900,value:0,label:""},{period:1800,value:0,label:""},{period:2700,value:0,label:""},{period:3600,value:0,label:""},{period:7200,value:0,label:""},{period:14400,value:0,label:""}],aF=[{period:5,value:0,label:""},{period:10,value:0,label:""},{period:15,value:0,label:""},{period:30,value:0,label:""},{period:60,value:0,label:""},{period:120,value:0,label:""},{period:300,value:0,label:""},{period:600,value:0,label:""},{period:900,value:0,label:""},{period:1800,value:0,label:""},{period:3600,value:0,label:""},{period:7200,value:0,label:""}];function oF(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],i=!0,r=!1,a=void 0;try{for(var o,s=e[Symbol.iterator]();!(i=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);i=!0);}catch(e){r=!0,a=e}finally{try{i||null==s.return||s.return()}finally{if(r)throw a}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return sF(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return sF(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function sF(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function cF(e,t,n){return Qe.a.utc(Math[n](+e/+t)*+t)}function lF(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:60;return Qe()(cF(new Date(1e3*e),Qe.a.duration(n,"seconds"),"ceil")).diff(cF(new Date(1e3*t),Qe.a.duration(n,"seconds"),"ceil")).valueOf()/1e3}function uF(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:60;return cF(1e3*(e+t),Qe.a.duration(n,"seconds"),"ceil").valueOf()/1e3}var hF=Id((function(e,t,n){var i=e.global,r=i.isMobile,a=i.timeZone,o=i.currentTime,s=i.onlyFastAllowed,c=i.isOTCTooltip,l=e.chartSettings.chartById[n],u=l.currentAsset,h=l.timePeriod,d=l.isFastOption,f=l.currentExpirationTime,p=u.obj;return{timeZone:a,currentTime:o,timePeriod:h,chartId:n,isMobile:r,isFastOption:d,currentExpirationTime:f,onlyFastAllowed:s,purchaseTime:p.purchase_time,isOtc:p.is_otc,isOTCTooltip:c}}),(function(e){return Object(er.b)({changeFastOptionTimeframe:hl,changeFastOptionExpirationTime:dl,changeFastOption:fl},e)}),Rd)((function(e){var t=e.currentExpirationTime,n=e.timeZone,i=e.currentTime,r=e.timePeriod,a=e.changeFastOptionTimeframe,o=e.changeFastOptionExpirationTime,s=e.isFastOption,c=e.changeFastOption,l=e.chartId,u=e.isMobile,d=e.onlyFastAllowed,f=e.purchaseTime,p=e.isOtc,m=e.isOTCTooltip,y=e.isOtcTooltipState,E=e.onClickIsOtcTooltip;if(!i)return!1;d&&!p&&(s=!0);var A=function(e){if(s){var t=lF(e,i);o({chartId:l,amount:e}),a({chartId:l,amount:t})}else a({chartId:l,amount:e})},w=function(){if(c({chartId:l,value:!s}),s)a({chartId:l,amount:60});else{var e=uF(i,60),t=lF(e,i);o({chartId:l,amount:e}),a({chartId:l,amount:t})}},_=oF(Object(Bh.useState)([]),2),O=_[0],S=_[1];Object(Bh.useEffect)((function(){var e=u?rF:nF;if(!p||s||u||(e=iF),p&&!s&&u&&(e=aF),s){var r=uF(i,60);i>=t-f&&(o({chartId:l,amount:r}),a({chartId:l,amount:lF(r,i)}),t=r);for(var c=0;c<e.length;c++){var h=e[c].period,d=uF(i,30)+h-60,m=$e(d,n);e[c].value=d,e[c].label=m}}else for(var y=0;y<e.length;y++)e[y].value=e[y].period,e[y].label=Je(e[y].period);S(e)}),[i,s,t,n,u]);var C=s&&t>0?t:r;return Object(Bh.useEffect)((function(){p&&m&&!u&&E()}),[p,m,E,u]),Lh.a.createElement(Lh.a.Fragment,null,Lh.a.createElement(kf,{type:"time",theme:"dark",label:h("Time"),formatFunction:(s&&t)>0?Ke:Je,defaultValue:C,value:C,timeZone:n,isFastOption:s,onChange:A,increaseHandler:function(){if(s){A(t+60)}else{var e=r+1;e<=b&&A(e)}},decreaseHandler:function(){if(s){var e=t-60;e>=uF(i,60)&&A(e)}else{var n=r-1;n>=g&&A(n),n>=v&&p&&A(n)}},onFocus:function(){},onBlur:function(){},options:O,onClickSwitchTime:w,isSwitcherVisible:p||!d,isInputDisabled:d||s,className:"section-deal__input-control"}),Lh.a.createElement(tF,{value:C,timeZone:n,options:O,currentTime:i,isFastOption:s,onChange:A,isSwitcherVisible:p||!d,onClickSwitchTime:w,isOtc:p,isOTCTooltip:m,isOtcTooltipState:y,onClickIsOtcTooltip:E}))}));var dF=Id((function(e,t,n){var i=e.chartSettings.chartById[n],r=i.currentAsset,a=i.timePeriod,o=r.obj,s=o.assetsList,c=o.label,l=o.payout_1,u=o.payout_5,h=o.fixed,d=e.global;return{assetsList:s,label:c,payout_1:l,payout_5:u,timePeriod:a,levelsList:d.levelsList,liveBalance:d.liveBalance,fixed:h}}),null,Rd)((function(e){var t=e.assetsList,n=e.label,i=e.payout_1,r=e.payout_5,a=e.timePeriod,o=e.levelsList,s=e.liveBalance,c=e.fixed?0:Md({levelsList:o,liveBalance:s}),l=xd({payout_1:i,payout_5:r,time:a,levelPercent:c});return Lh.a.createElement("div",{className:"section-deal__header"},Lh.a.createElement(Nd,{className:"section-deal__flags",flags:t}),Lh.a.createElement("div",{className:"section-deal__name"},n),Lh.a.createElement("div",{className:"section-deal__percent"},l,"%"))}));i(722);function fF(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],i=!0,r=!1,a=void 0;try{for(var o,s=e[Symbol.iterator]();!(i=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);i=!0);}catch(e){r=!0,a=e}finally{try{i||null==s.return||s.return()}finally{if(r)throw a}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return pF(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return pF(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function pF(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var mF=function(e){var t=fF(Object(Bh.useState)(e.value||5),2),n=t[0],i=t[1],r=Hj()({prefix:"",suffix:"",thousandsSeparatorSymbol:"",allowDecimal:!0,decimalSymbol:".",decimalLimit:e.digits});return Lh.a.createElement(Gj,{label:e.label,type:"number",dark:!0},Lh.a.createElement(df.a,{type:"text",mask:r,className:"input-control__input form-pending-trade__input-text",value:n,onChange:function(t){var n=t.target.value;i(n),e.onChange&&e.onChange(parseFloat(n))}}))};i(724);function yF(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],i=!0,r=!1,a=void 0;try{for(var o,s=e[Symbol.iterator]();!(i=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);i=!0);}catch(e){r=!0,a=e}finally{try{i||null==s.return||s.return()}finally{if(r)throw a}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return gF(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return gF(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function gF(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var vF=function(e){var t=e.defaultPeriod,n=e.onChange,i=e.dropdownRef,r=yF(Object(Bh.useState)(!1),2),a=r[0],o=r[1],s=yF(Object(Bh.useState)(t?SN.find((function(e){return e.value===t})):SN[0]),2),c=s[0],l=s[1],u=function e(t){i&&i.current&&t.target&&!i.current.contains(t.target)&&(document.removeEventListener("click",e),o(!1))};Object(Bh.useEffect)((function(){a?document.addEventListener("click",u):document.removeEventListener("click",u)}),[a]);return Lh.a.createElement("div",{className:"form-pending-trade__period",ref:i},Lh.a.createElement("div",{onClick:function(){return o(!a)}},Lh.a.createElement(Gj,{label:h("Period:"),dark:!0},Lh.a.createElement("div",{className:"form-pending-trade__period-input"},c.label))),Lh.a.createElement("div",{className:"form-pending-trade__period-dropdown ".concat(a?"active":"")},SN.map((function(e){return Lh.a.createElement("div",{key:e.value,className:"form-pending-trade__period-item ".concat(c.value===e.value?" active":""),onClick:function(){return function(e){l(e),o(!1),n&&n(e)}(e)}},e.label)}))))},bF=Id((function(e,t,n){var i=e.chartSettings,r=e.global,a=i.chartById[n].isFastAmountOption,o=r.currency;return{chartId:n,balance:r.balance,currency:o,minDealAmount:r.minDealAmount,maxDealAmount:r.maxDealAmount,isFastAmountOption:a}}),{changeFastAmountOption:ml},Rd)((function(e){var t=e.chartId,n=e.changeFastAmountOption,i=e.value,r=e.currency,a=e.minDealAmount,o=e.maxDealAmount,s=e.isFastAmountOption,c=e.onChange;return Lh.a.createElement(Lh.a.Fragment,null,Lh.a.createElement(Xj,{label:h("Investment"),type:"number",dark:!0,onChange:function(e){return c?c(e):null},suffix:s?"%":r,minValue:s?1:a,value:i,hintAlign:"center",maxValue:s?100:o,stepValue:s?1:a,currency:s?"":r,className:"section-deal--black form-pending-trade__investment",changeFastAmountOptionHandler:function(){n({chartId:t,value:!s})}}))})),EF=function(e){var t=e.value,n=e.onOk,i=""===t||0===t||"0"===t;return Lh.a.createElement("div",{className:"form-pending-trade__buttons"},Lh.a.createElement("div",{className:"form-pending-trade__button green ".concat(i?"disabled":""),onClick:function(){return i?null:n("call")}},Lh.a.createElement(Hh,{name:"pending-trade-time",className:"form-pending-trade__button-time"}),h("Up"),Lh.a.createElement(Hh,{name:"arrow-up-circle",className:"form-pending-trade__button-circle"})),Lh.a.createElement("div",{className:"form-pending-trade__button red ".concat(i?"disabled":""),onClick:function(){return i?null:n("put")}},Lh.a.createElement(Hh,{name:"pending-trade-time",className:"form-pending-trade__button-time"}),h("Put"),Lh.a.createElement(Hh,{name:"arrow-down-circle",className:"form-pending-trade__button-circle"})))};function AF(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],i=!0,r=!1,a=void 0;try{for(var o,s=e[Symbol.iterator]();!(i=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);i=!0);}catch(e){r=!0,a=e}finally{try{i||null==s.return||s.return()}finally{if(r)throw a}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return wF(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return wF(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function wF(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var _F=Id((function(e,t,n){var i=e.global,r=i.currentTime,a=i.timeZone,o=i.balance,s=i.isMobile,c=e.chartSettings.chartById[n],l=c.isOneClickTrade,u=c.isPendingTradeOption,h=c.currentAsset,d=c.isFastAmountOption,f=h.obj,p=f.assetsList,m=f.label,y=f.symbol;return{chartId:n,isOneClickTrade:l,currentTime:r,timeZone:a,isPendingTradeOption:u,currentAsset:h,digits:f.digits,assetsList:p,label:m,symbol:y,balance:o,isFastAmountOption:d,isMobile:s}}),{},Rd)((function(e){var t=e.currentAsset,n=e.digits,i=e.symbol,r=e.isFastAmountOption,a=e.balance,o=e.isMobile,s=e.toggle,c=e.timeFrame,l=e.amount,u=e.onTimeFrameChange,d=e.onAmountChange,f=e.dropdownRef;if(!t)return null;if(0===t.price)return null;var p=t.price,m=AF(Object(Bh.useState)(Number(p).toFixed(n)),2),y=m[0],g=m[1];return Lh.a.createElement(Lh.a.Fragment,null,Lh.a.createElement(mF,{label:h("Quote:"),value:y.toString(),digits:n,onChange:function(e){return g(Number(e).toFixed(n))}}),Lh.a.createElement("div",{className:"form-pending-trade__current"},h("Current quote:")," ",p),Lh.a.createElement("div",{className:"form-pending-trade__inputs"},Lh.a.createElement(vF,{defaultPeriod:c,onChange:function(e){var t=e.value;return u(t)},dropdownRef:f}),Lh.a.createElement(bF,{value:l,onChange:function(e){return d(e)}})),Lh.a.createElement(EF,{value:Number(y),onOk:function(e){var t={openType:1,asset:i,openPrice:y,timeframe:c,command:e,amount:r?parseFloat(cl(l,0,100,0,a).toFixed(2)):l};Li.instance.pendingCreate(t),o&&s()}}))})),OF=i(332),SF=i.n(OF);function CF(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],i=!0,r=!1,a=void 0;try{for(var o,s=e[Symbol.iterator]();!(i=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);i=!0);}catch(e){r=!0,a=e}finally{try{i||null==s.return||s.return()}finally{if(r)throw a}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return TF(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return TF(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function TF(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var kF=Id(null,null,Rd)((function(e){var t=e.label,n=e.value,i=e.onChange,r=CF(Object(Bh.useState)(null),2),a=r[0],o=r[1],s=CF(Object(Bh.useState)(n),2),c=s[0],l=s[1],u=function(e){var t=e.slice(0,2),n=e.slice(3,5),i=e.slice(6,e.length);return"".concat(Qe()().year(),"/").concat(n,"/").concat(t," ").concat(i)};Object(Bh.useEffect)((function(){a&&!a.inputmask&&SF()({alias:"datetime",inputFormat:"dd/mm HH:MM:ss",placeholder:"dd/mm HH:MM:ss",hourFormat:24,insertMode:!1,insertModeVisual:!0}).mask(a)}),[a]);return Lh.a.createElement(Lh.a.Fragment,null,Lh.a.createElement(Gj,{label:t,type:"number",dark:!0},Lh.a.createElement("input",{"data-inputmask-alias":"datetime","data-inputmask-inputformat":"dd/mm HH:MM:ss","data-inputmask-hourformat":"24","data-inputmask-placeholder":"dd/mm HH:MM:ss",className:"input-control__input",type:"text",value:c,ref:function(e){return o(e)},onChange:function(e){return t=e,void(!a||a&&!a.inputmask||l(t.target.value));var t},onBlur:function(e){var t=e.target.value;a.inputmask.isValid(t)?i&&i(u(t)):(i(u(n)),l(n))}})))}));function IF(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],i=!0,r=!1,a=void 0;try{for(var o,s=e[Symbol.iterator]();!(i=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);i=!0);}catch(e){r=!0,a=e}finally{try{i||null==s.return||s.return()}finally{if(r)throw a}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return PF(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return PF(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function PF(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var NF=Id((function(e,t,n){var i=e.global,r=i.currentTime,a=i.timeZone,o=i.balance,s=i.isMobile,c=e.chartSettings.chartById[n],l=c.currentAsset,u=c.isFastAmountOption;return{currentTime:r,timeZone:a,symbol:l.obj.symbol,balance:o,isFastAmountOption:u,isMobile:s}}),{},Rd)((function(e){var t=e.currentTime,n=e.timeZone,i=e.symbol,r=e.isFastAmountOption,a=e.balance,o=e.toggle,s=e.isMobile,c=e.timeFrame,l=e.amount,u=e.onTimeFrameChange,d=e.onAmountChange,f=e.dropdownRef,p=function(){var e=Qe.a.unix(t+n+60).utc(!1);return(e=e.second()?e.add(1,"minute").startOf("minute"):e.startOf("minute")).format("YYYY/MM/DD HH:mm:ss")},m=IF(Object(Bh.useState)(p()),2),y=m[0],g=m[1];return Object(Bh.useEffect)((function(){return g(p())}),[n]),Lh.a.createElement(Lh.a.Fragment,null,Lh.a.createElement("div",null,Lh.a.createElement(kF,{label:h("Time:"),value:Qe()(y,"YYYY/MM/DD HH:mm:ss").format("DD/MM HH:mm:ss"),onChange:function(e){return g(e)}}),Lh.a.createElement("div",{className:"form-pending-trade__current",onClick:function(){g(Qe.a.unix(t).utc(!1).format("YYYY/MM/DD HH:mm:ss"))}},h("Current time:")," ",et(t,n))),Lh.a.createElement("div",{className:"form-pending-trade__inputs"},Lh.a.createElement(vF,{defaultPeriod:c,onChange:function(e){var t=e.value;return u(t)},dropdownRef:f}),Lh.a.createElement(bF,{value:l,onChange:function(e){return d(e)}})),Lh.a.createElement(EF,{value:y,onOk:function(e){var t=Qe()(y,"YYYY/MM/DD HH:mm:ss").unix()-n,u=Qe.a.unix(t).format("YYYY-MM-DD HH:mm:ss").replace(" ","T")+".000Z",h={openType:0,asset:i,openTime:u,timeframe:c,command:e,amount:r?parseFloat(cl(l,0,100,0,a).toFixed(2)):l};Li.instance.pendingCreate(h),s&&o()}}))}));function xF(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],i=!0,r=!1,a=void 0;try{for(var o,s=e[Symbol.iterator]();!(i=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);i=!0);}catch(e){r=!0,a=e}finally{try{i||null==s.return||s.return()}finally{if(r)throw a}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return RF(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return RF(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function RF(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var DF=Id((function(e,t,n){var i=e.chartSettings.chartById[n],r=i.currentAsset,a=i.isFastAmountOption,o=i.dealValue,s=i.dealPercentValue,c=r.obj;return{assetsList:c.assetsList,label:c.label,isFastAmountOption:a,dealValue:o,dealPercentValue:s}}),{},Rd)((function(e){var t=e.isFastAmountOption,n=e.dealPercentValue,i=e.dealValue,r=e.assetsList,a=e.label,o=e.dropdownRef,s=e.open,c=e.toggle;if(!s)return null;var l=function(){return t?n:i},u=xF(Object(Bh.useState)("quote"),2),d=u[0],f=u[1],p=xF(Object(Bh.useState)(SN[0].value),2),m=p[0],y=p[1],g=xF(Object(Bh.useState)(l()),2),v=g[0],b=g[1],E=function(e){return y(e)},A=function(e){return b(e)},w=function(e){return f(e)};return Object(Bh.useEffect)((function(){return b(l())}),[t]),Lh.a.createElement(Lh.a.Fragment,null,Lh.a.createElement("div",{className:"form-pending-trade__mobile-title"},h("Pending order"),Lh.a.createElement("div",{className:"form-pending-trade__mobile-close",onClick:c},Lh.a.createElement(Hh,{name:"close"})),Lh.a.createElement("div",{className:"form-pending-trade__mobile-assets"},Lh.a.createElement(Nd,{className:"trading-chart__mobile-select__flags",flags:r}),Lh.a.createElement("div",null,a))),Lh.a.createElement("div",{className:"form-pending-trade__tabs"},Lh.a.createElement("div",{className:"form-pending-trade__tab ".concat("quote"===d?"active":""),onClick:function(){return w("quote")}},h("quote")),Lh.a.createElement("div",{className:"form-pending-trade__tab ".concat("time"===d?"active":""),onClick:function(){return w("time")}},h("time"))),"quote"===d&&Lh.a.createElement(_F,{dropdownRef:o,timeFrame:m,amount:v,onTimeFrameChange:E,onAmountChange:A,toggle:c}),"time"===d&&Lh.a.createElement(NF,{dropdownRef:o,timeFrame:m,amount:v,onTimeFrameChange:E,onAmountChange:A,toggle:c}))})),MF=Id((function(e){return{isMobile:e.global.isMobile}}),null,Rd)((function(e){var t=e.isMobile,n=e.open,i=e.toggle,r=e.top,a=e.right,o=Object(Bh.useRef)(null),s=Object(Bh.useRef)(null),c=Object(Bh.useCallback)((function(e){if(o.current&&!o.current.contains(e.target)){if(s.current&&s.current.contains(e.target))return!1;document.removeEventListener("click",c),i()}}),[i,o,s]);return Object(Bh.useEffect)((function(){n?document.addEventListener("click",c):document.removeEventListener("click",c)}),[n]),Lh.a.createElement(Lh.a.Fragment,null,!t&&Lh.a.createElement("div",{ref:o,className:"form-pending-trade ".concat(n?"active":""),style:{top:r,right:a}},Lh.a.createElement(DF,{dropdownRef:s,open:n,toggle:i})),t&&Lh.a.createElement("div",{ref:o,className:"form-pending-trade__mobile ".concat(n?"active":"")},Lh.a.createElement("div",{className:"form-pending-trade__mobile-container"},Lh.a.createElement(DF,{dropdownRef:s,open:n,toggle:i}))))}));function BF(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],i=!0,r=!1,a=void 0;try{for(var o,s=e[Symbol.iterator]();!(i=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);i=!0);}catch(e){r=!0,a=e}finally{try{i||null==s.return||s.return()}finally{if(r)throw a}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return LF(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return LF(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function LF(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var jF=Id((function(e,t,n){var i=e.global.currentTime,r=e.chartSettings.chartById[n];return{chartId:n,isOneClickTrade:r.isOneClickTrade,currentTime:i,isPendingTradeOption:r.isPendingTradeOption}}),{openDeal:Vu,changeModalState:$h,changePendingTradeOption:function(e){return{type:"CHART.PENDING_TIME_OPTION",payload:{chartId:e.chartId,value:e.value}}},changeOTCTooltipVisible:function(e){return{type:"CHANGE_OTCTOOLTIP_VISIBLE",payload:e}}},Rd)((function(e){var t=e.chartId,n=e.openDeal,i=e.isOneClickTrade,r=e.changePendingTradeOption,a=e.changeModalState,o=e.currentTime,s=e.isPendingTradeOption,c=e.changeOTCTooltipVisible,l=Object(Bh.useRef)(null),u=BF(Object(Bh.useState)(0),2),d=u[0],f=u[1],p=BF(Object(Bh.useState)(0),2),m=p[0],y=p[1];Object(Bh.useEffect)((function(){l&&l.current&&!m&&!d&&(f(l.current.getBoundingClientRect().top+16),y(l.current.parentNode.offsetWidth+26))}),[m,d,l]);var g=function(){r({chartId:t,value:!s})},v=function(){a({modalId:Ss.ASSETS_DROPDOWN,value:!1,data:null})},b=BF(Object(Bh.useState)(!1),2),E=b[0],A=b[1],w=function(){c(!1),A(!E)};return Lh.a.createElement("div",{className:"section-deal",ref:l},Lh.a.createElement(dF,null),Lh.a.createElement(Bd,{classNameSelect:"section-deal__mobile-select",toggleDropdown:function(){a({modalId:Ss.ASSETS_DROPDOWN,value:!0,data:{activeTab:"currency",offsetLeft:0,changeSymbolReplace:function(){},toggleDropdown:v}})}}),Lh.a.createElement("div",{className:"section-deal__pending ".concat(s?"active":""),onClick:g},Lh.a.createElement(Hh,{name:"time-setting",className:"section-deal__pending-time"}),Lh.a.createElement("div",null,h("pending trade")),Lh.a.createElement("div",{className:"input-control input-control--toggle"},Lh.a.createElement("input",{id:"pending-checkbox",className:"input-control__checkbox",type:"checkbox",checked:s,onChange:g}),Lh.a.createElement("span",{className:"input-control__label section-deal__pending-label"}))),Lh.a.createElement("div",{className:"section-deal__form"},Lh.a.createElement("div",{className:"section-deal__time section-deal__input-black"},!!o&&Lh.a.createElement(hF,{isOtcTooltipState:E,onClickIsOtcTooltip:w})),Lh.a.createElement("div",{className:"section-deal__investment section-deal__input-black"},Lh.a.createElement(zj,null))),Lh.a.createElement("div",{className:"section-deal__put"},Lh.a.createElement(Fj,{openDealHandler:function(e,r){i?n({action:r,chartId:t}):a({modalId:Ss.CONFIRM_TRADE,value:!0,data:{deal:r}})}})),s&&Lh.a.createElement(MF,{toggle:g,open:s,top:d,right:m}),Lh.a.createElement(Kj,{isOpen:E,toggle:w,top:d+58,right:m-20}))})),FF=Id((function(e,t,n){return{isPendingTradeOption:e.chartSettings.chartById[n].isPendingTradeOption}}),null,Rd)((function(e){var t=e.isPendingTradeOption;return Lh.a.createElement("div",{className:"page__sidebar"},Lh.a.createElement(jj,{size:"large",dark:!0,disable:t},Lh.a.createElement(jF,null)),Lh.a.createElement(PN,null))}));function GF(e){return(GF="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function VF(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function HF(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function UF(e,t){return(UF=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function WF(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=QF(e);if(t){var r=QF(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return YF(this,n)}}function YF(e,t){return!t||"object"!==GF(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function QF(e){return(QF=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var XF=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&UF(e,t)}(a,e);var t,n,i,r=WF(a);function a(){return VF(this,a),r.apply(this,arguments)}return t=a,(n=[{key:"componentDidMount",value:function(){var e=document.querySelector(".js-main-loading-container");e&&e.classList.add("hide")}},{key:"render",value:function(){var e=this.props,t=e.chartId,n=e.current,i=e.isHideTradingUI;return Lh.a.createElement(Rd.Provider,{value:t},Lh.a.createElement(Dd.Provider,{value:n},Lh.a.createElement("div",{className:"page__content"},Lh.a.createElement(Bj,{chartId:t,current:n})),!i&&Lh.a.createElement(FF,null)))}}])&&HF(t.prototype,n),i&&HF(t,i),a}(Lh.a.Component),zF=Object(Gh.b)((function(e){return{isHideTradingUI:e.global.isHideTradingUI}}))(XF),KF=Object(Gh.b)((function(e){return{visibleChartIds:e.chartSettings.visibleChartIds}}))((function(e){var t=e.visibleChartIds,n={};Ui.forEach((function(e){return n[e]=t.includes(e)}));var i=0;return Ui.map((function(e){return n[e]?(i++,Lh.a.createElement(zF,{key:"trade-"+e,chartId:e,current:i})):null}))}));document.addEventListener("DOMContentLoaded",(function(){Mh.init()}));var JF=document.getElementById("root");JF&&Fh.a.render(Lh.a.createElement(Vh,null,Lh.a.createElement(Gh.a,{store:Bu},Lh.a.createElement(HR,null,Lh.a.createElement(KF,null)))),JF)},519:function(e,t){e.exports={transitionTime:"200ms",preloaderAnimationTime:"2500ms",preloaderAnimation:"preloaderOpacityShimmer 2500ms forwards linear infinite"}},524:function(e,t){e.exports={transitionTime:"200ms",preloaderAnimationTime:"2500ms",preloaderAnimation:"preloaderOpacityShimmer 2500ms forwards linear infinite"}},526:function(e,t){e.exports={transitionTime:"200ms",preloaderAnimationTime:"2500ms",preloaderAnimation:"preloaderOpacityShimmer 2500ms forwards linear infinite"}},528:function(e,t){e.exports={transitionTime:"200ms",preloaderAnimationTime:"2500ms",preloaderAnimation:"preloaderOpacityShimmer 2500ms forwards linear infinite"}},530:function(e,t){e.exports={transitionTime:"200ms",preloaderAnimationTime:"2500ms",preloaderAnimation:"preloaderOpacityShimmer 2500ms forwards linear infinite"}},532:function(e,t){e.exports={transitionTime:"200ms",preloaderAnimationTime:"2500ms",preloaderAnimation:"preloaderOpacityShimmer 2500ms forwards linear infinite"}},534:function(e,t){e.exports={transitionTime:"200ms",preloaderAnimationTime:"2500ms",preloaderAnimation:"preloaderOpacityShimmer 2500ms forwards linear infinite"}},536:function(e,t){e.exports={transitionTime:"200ms",preloaderAnimationTime:"2500ms",preloaderAnimation:"preloaderOpacityShimmer 2500ms forwards linear infinite"}},538:function(e,t){e.exports={transitionTime:"200ms",preloaderAnimationTime:"2500ms",preloaderAnimation:"preloaderOpacityShimmer 2500ms forwards linear infinite"}},540:function(e,t){e.exports={transitionTime:"200ms",preloaderAnimationTime:"2500ms",preloaderAnimation:"preloaderOpacityShimmer 2500ms forwards linear infinite"}},542:function(e,t){e.exports={transitionTime:"200ms",preloaderAnimationTime:"2500ms",preloaderAnimation:"preloaderOpacityShimmer 2500ms forwards linear infinite"}},544:function(e,t){e.exports={transitionTime:"200ms",preloaderAnimationTime:"2500ms",preloaderAnimation:"preloaderOpacityShimmer 2500ms forwards linear infinite"}},546:function(e,t){e.exports={transitionTime:"200ms",preloaderAnimationTime:"2500ms",preloaderAnimation:"preloaderOpacityShimmer 2500ms forwards linear infinite"}},548:function(e,t){e.exports={transitionTime:"200ms",preloaderAnimationTime:"2500ms",preloaderAnimation:"preloaderOpacityShimmer 2500ms forwards linear infinite"}},550:function(e,t){e.exports={transitionTime:"200ms",preloaderAnimationTime:"2500ms",preloaderAnimation:"preloaderOpacityShimmer 2500ms forwards linear infinite"}},552:function(e,t){e.exports={transitionTime:"200ms",preloaderAnimationTime:"2500ms",preloaderAnimation:"preloaderOpacityShimmer 2500ms forwards linear infinite"}},554:function(e,t){e.exports={transitionTime:"200ms",preloaderAnimationTime:"2500ms",preloaderAnimation:"preloaderOpacityShimmer 2500ms forwards linear infinite"}},556:function(e,t){e.exports={transitionTime:"200ms",preloaderAnimationTime:"2500ms",preloaderAnimation:"preloaderOpacityShimmer 2500ms forwards linear infinite"}},558:function(e,t){e.exports={transitionTime:"200ms",preloaderAnimationTime:"2500ms",preloaderAnimation:"preloaderOpacityShimmer 2500ms forwards linear infinite"}},560:function(e,t){e.exports={transitionTime:"200ms",preloaderAnimationTime:"2500ms",preloaderAnimation:"preloaderOpacityShimmer 2500ms forwards linear infinite"}},562:function(e,t){e.exports={transitionTime:"200ms",preloaderAnimationTime:"2500ms",preloaderAnimation:"preloaderOpacityShimmer 2500ms forwards linear infinite"}},564:function(e,t){e.exports={transitionTime:"200ms",preloaderAnimationTime:"2500ms",preloaderAnimation:"preloaderOpacityShimmer 2500ms forwards linear infinite"}},566:function(e,t){e.exports={transitionTime:"200ms",preloaderAnimationTime:"2500ms",preloaderAnimation:"preloaderOpacityShimmer 2500ms forwards linear infinite"}},568:function(e,t){e.exports={transitionTime:"200ms",preloaderAnimationTime:"2500ms",preloaderAnimation:"preloaderOpacityShimmer 2500ms forwards linear infinite"}},570:function(e,t){e.exports={transitionTime:"200ms",preloaderAnimationTime:"2500ms",preloaderAnimation:"preloaderOpacityShimmer 2500ms forwards linear infinite"}},572:function(e,t){e.exports={transitionTime:"200ms",preloaderAnimationTime:"2500ms",preloaderAnimation:"preloaderOpacityShimmer 2500ms forwards linear infinite"}},574:function(e,t){e.exports={transitionTime:"200ms",preloaderAnimationTime:"2500ms",preloaderAnimation:"preloaderOpacityShimmer 2500ms forwards linear infinite"}},576:function(e,t){e.exports={transitionTime:"200ms",preloaderAnimationTime:"2500ms",preloaderAnimation:"preloaderOpacityShimmer 2500ms forwards linear infinite"}},578:function(e,t){e.exports={transitionTime:"200ms",preloaderAnimationTime:"2500ms",preloaderAnimation:"preloaderOpacityShimmer 2500ms forwards linear infinite"}},580:function(e,t){e.exports={transitionTime:"200ms",preloaderAnimationTime:"2500ms",preloaderAnimation:"preloaderOpacityShimmer 2500ms forwards linear infinite"}},582:function(e,t){e.exports={transitionTime:"200ms",preloaderAnimationTime:"2500ms",preloaderAnimation:"preloaderOpacityShimmer 2500ms forwards linear infinite"}},584:function(e,t){e.exports={transitionTime:"200ms",preloaderAnimationTime:"2500ms",preloaderAnimation:"preloaderOpacityShimmer 2500ms forwards linear infinite"}},586:function(e,t){e.exports={transitionTime:"200ms",preloaderAnimationTime:"2500ms",preloaderAnimation:"preloaderOpacityShimmer 2500ms forwards linear infinite"}},588:function(e,t){e.exports={transitionTime:"200ms",preloaderAnimationTime:"2500ms",preloaderAnimation:"preloaderOpacityShimmer 2500ms forwards linear infinite"}},590:function(e,t){e.exports={transitionTime:"200ms",preloaderAnimationTime:"2500ms",preloaderAnimation:"preloaderOpacityShimmer 2500ms forwards linear infinite"}},592:function(e,t){e.exports={transitionTime:"200ms",preloaderAnimationTime:"2500ms",preloaderAnimation:"preloaderOpacityShimmer 2500ms forwards linear infinite"}},594:function(e,t){e.exports={transitionTime:"200ms",preloaderAnimationTime:"2500ms",preloaderAnimation:"preloaderOpacityShimmer 2500ms forwards linear infinite"}},596:function(e,t){e.exports={transitionTime:"200ms",preloaderAnimationTime:"2500ms",preloaderAnimation:"preloaderOpacityShimmer 2500ms forwards linear infinite"}},598:function(e,t){e.exports={transitionTime:"200ms",preloaderAnimationTime:"2500ms",preloaderAnimation:"preloaderOpacityShimmer 2500ms forwards linear infinite"}},600:function(e,t){e.exports={transitionTime:"200ms",preloaderAnimationTime:"2500ms",preloaderAnimation:"preloaderOpacityShimmer 2500ms forwards linear infinite"}},602:function(e,t){e.exports={transitionTime:"200ms",preloaderAnimationTime:"2500ms",preloaderAnimation:"preloaderOpacityShimmer 2500ms forwards linear infinite"}},604:function(e,t){e.exports={transitionTime:"200ms",preloaderAnimationTime:"2500ms",preloaderAnimation:"preloaderOpacityShimmer 2500ms forwards linear infinite"}},606:function(e,t){e.exports={transitionTime:"200ms",preloaderAnimationTime:"2500ms",preloaderAnimation:"preloaderOpacityShimmer 2500ms forwards linear infinite"}},608:function(e,t){e.exports={transitionTime:"200ms",preloaderAnimationTime:"2500ms",preloaderAnimation:"preloaderOpacityShimmer 2500ms forwards linear infinite"}},610:function(e,t){e.exports={transitionTime:"200ms",preloaderAnimationTime:"2500ms",preloaderAnimation:"preloaderOpacityShimmer 2500ms forwards linear infinite"}},612:function(e,t){e.exports={transitionTime:"200ms",preloaderAnimationTime:"2500ms",preloaderAnimation:"preloaderOpacityShimmer 2500ms forwards linear infinite"}},614:function(e,t){e.exports={transitionTime:"200ms",preloaderAnimationTime:"2500ms",preloaderAnimation:"preloaderOpacityShimmer 2500ms forwards linear infinite"}},616:function(e,t){e.exports={transitionTime:"200ms",preloaderAnimationTime:"2500ms",preloaderAnimation:"preloaderOpacityShimmer 2500ms forwards linear infinite"}},618:function(e,t){e.exports={transitionTime:"200ms",preloaderAnimationTime:"2500ms",preloaderAnimation:"preloaderOpacityShimmer 2500ms forwards linear infinite"}},620:function(e,t){e.exports={transitionTime:"200ms",preloaderAnimationTime:"2500ms",preloaderAnimation:"preloaderOpacityShimmer 2500ms forwards linear infinite"}},622:function(e,t){e.exports={transitionTime:"200ms",preloaderAnimationTime:"2500ms",preloaderAnimation:"preloaderOpacityShimmer 2500ms forwards linear infinite"}},624:function(e,t){e.exports={transitionTime:"200ms",preloaderAnimationTime:"2500ms",preloaderAnimation:"preloaderOpacityShimmer 2500ms forwards linear infinite"}},626:function(e,t){e.exports={transitionTime:"200ms",preloaderAnimationTime:"2500ms",preloaderAnimation:"preloaderOpacityShimmer 2500ms forwards linear infinite"}},628:function(e,t){e.exports={transitionTime:"200ms",preloaderAnimationTime:"2500ms",preloaderAnimation:"preloaderOpacityShimmer 2500ms forwards linear infinite"}},630:function(e,t){e.exports={transitionTime:"200ms",preloaderAnimationTime:"2500ms",preloaderAnimation:"preloaderOpacityShimmer 2500ms forwards linear infinite"}},632:function(e,t){e.exports={transitionTime:"200ms",preloaderAnimationTime:"2500ms",preloaderAnimation:"preloaderOpacityShimmer 2500ms forwards linear infinite"}},634:function(e,t){e.exports={transitionTime:"200ms",preloaderAnimationTime:"2500ms",preloaderAnimation:"preloaderOpacityShimmer 2500ms forwards linear infinite"}},636:function(e,t){e.exports={transitionTime:"200ms",preloaderAnimationTime:"2500ms",preloaderAnimation:"preloaderOpacityShimmer 2500ms forwards linear infinite"}},638:function(e,t){e.exports={transitionTime:"200ms",preloaderAnimationTime:"2500ms",preloaderAnimation:"preloaderOpacityShimmer 2500ms forwards linear infinite"}},640:function(e,t){e.exports={transitionTime:"200ms",preloaderAnimationTime:"2500ms",preloaderAnimation:"preloaderOpacityShimmer 2500ms forwards linear infinite"}},642:function(e,t){e.exports={transitionTime:"200ms",preloaderAnimationTime:"2500ms",preloaderAnimation:"preloaderOpacityShimmer 2500ms forwards linear infinite"}},644:function(e,t){e.exports={transitionTime:"200ms",preloaderAnimationTime:"2500ms",preloaderAnimation:"preloaderOpacityShimmer 2500ms forwards linear infinite"}},646:function(e,t){e.exports={transitionTime:"200ms",preloaderAnimationTime:"2500ms",preloaderAnimation:"preloaderOpacityShimmer 2500ms forwards linear infinite"}},648:function(e,t){e.exports={transitionTime:"200ms",preloaderAnimationTime:"2500ms",preloaderAnimation:"preloaderOpacityShimmer 2500ms forwards linear infinite"}},650:function(e,t){e.exports={transitionTime:"200ms",preloaderAnimationTime:"2500ms",preloaderAnimation:"preloaderOpacityShimmer 2500ms forwards linear infinite"}},652:function(e,t){e.exports={transitionTime:"200ms",preloaderAnimationTime:"2500ms",preloaderAnimation:"preloaderOpacityShimmer 2500ms forwards linear infinite"}},654:function(e,t){e.exports={transitionTime:"200ms",preloaderAnimationTime:"2500ms",preloaderAnimation:"preloaderOpacityShimmer 2500ms forwards linear infinite"}},656:function(e,t){e.exports={transitionTime:"200ms",preloaderAnimationTime:"2500ms",preloaderAnimation:"preloaderOpacityShimmer 2500ms forwards linear infinite"}},658:function(e,t){e.exports={transitionTime:"200ms",preloaderAnimationTime:"2500ms",preloaderAnimation:"preloaderOpacityShimmer 2500ms forwards linear infinite"}},660:function(e,t){e.exports={transitionTime:"200ms",preloaderAnimationTime:"2500ms",preloaderAnimation:"preloaderOpacityShimmer 2500ms forwards linear infinite"}},662:function(e,t){e.exports={transitionTime:"200ms",preloaderAnimationTime:"2500ms",preloaderAnimation:"preloaderOpacityShimmer 2500ms forwards linear infinite"}},664:function(e,t){e.exports={transitionTime:"200ms",preloaderAnimationTime:"2500ms",preloaderAnimation:"preloaderOpacityShimmer 2500ms forwards linear infinite"}},666:function(e,t){e.exports={transitionTime:"200ms",preloaderAnimationTime:"2500ms",preloaderAnimation:"preloaderOpacityShimmer 2500ms forwards linear infinite"}},668:function(e,t){e.exports={transitionTime:"200ms",preloaderAnimationTime:"2500ms",preloaderAnimation:"preloaderOpacityShimmer 2500ms forwards linear infinite"}},670:function(e,t){e.exports={transitionTime:"200ms",preloaderAnimationTime:"2500ms",preloaderAnimation:"preloaderOpacityShimmer 2500ms forwards linear infinite"}},672:function(e,t){e.exports={transitionTime:"200ms",preloaderAnimationTime:"2500ms",preloaderAnimation:"preloaderOpacityShimmer 2500ms forwards linear infinite"}},674:function(e,t){e.exports={transitionTime:"200ms",preloaderAnimationTime:"2500ms",preloaderAnimation:"preloaderOpacityShimmer 2500ms forwards linear infinite"}},676:function(e,t){e.exports={transitionTime:"200ms",preloaderAnimationTime:"2500ms",preloaderAnimation:"preloaderOpacityShimmer 2500ms forwards linear infinite"}},678:function(e,t){e.exports={transitionTime:"200ms",preloaderAnimationTime:"2500ms",preloaderAnimation:"preloaderOpacityShimmer 2500ms forwards linear infinite"}},680:function(e,t){e.exports={transitionTime:"200ms",preloaderAnimationTime:"2500ms",preloaderAnimation:"preloaderOpacityShimmer 2500ms forwards linear infinite"}},682:function(e,t){e.exports={transitionTime:"200ms",preloaderAnimationTime:"2500ms",preloaderAnimation:"preloaderOpacityShimmer 2500ms forwards linear infinite"}},684:function(e,t){e.exports={transitionTime:"200ms",preloaderAnimationTime:"2500ms",preloaderAnimation:"preloaderOpacityShimmer 2500ms forwards linear infinite"}},686:function(e,t){e.exports={transitionTime:"200ms",preloaderAnimationTime:"2500ms",preloaderAnimation:"preloaderOpacityShimmer 2500ms forwards linear infinite"}},688:function(e,t){e.exports={transitionTime:"200ms",preloaderAnimationTime:"2500ms",preloaderAnimation:"preloaderOpacityShimmer 2500ms forwards linear infinite"}},690:function(e,t){e.exports={transitionTime:"200ms",preloaderAnimationTime:"2500ms",preloaderAnimation:"preloaderOpacityShimmer 2500ms forwards linear infinite"}},692:function(e,t){e.exports={transitionTime:"200ms",preloaderAnimationTime:"2500ms",preloaderAnimation:"preloaderOpacityShimmer 2500ms forwards linear infinite"}},694:function(e,t){e.exports={transitionTime:"200ms",preloaderAnimationTime:"2500ms",preloaderAnimation:"preloaderOpacityShimmer 2500ms forwards linear infinite"}},696:function(e,t){e.exports={transitionTime:"200ms",preloaderAnimationTime:"2500ms",preloaderAnimation:"preloaderOpacityShimmer 2500ms forwards linear infinite"}},698:function(e,t){e.exports={transitionTime:"200ms",preloaderAnimationTime:"2500ms",preloaderAnimation:"preloaderOpacityShimmer 2500ms forwards linear infinite"}},70:function(e,t,n){e.exports=n.p+"images/39b765e061d838b90ede9f9ce0b357af.png"},700:function(e,t){e.exports={transitionTime:"200ms",preloaderAnimationTime:"2500ms",preloaderAnimation:"preloaderOpacityShimmer 2500ms forwards linear infinite"}},702:function(e,t){e.exports={transitionTime:"200ms",preloaderAnimationTime:"2500ms",preloaderAnimation:"preloaderOpacityShimmer 2500ms forwards linear infinite"}},704:function(e,t){e.exports={transitionTime:"200ms",preloaderAnimationTime:"2500ms",preloaderAnimation:"preloaderOpacityShimmer 2500ms forwards linear infinite"}},706:function(e,t){e.exports={transitionTime:"200ms",preloaderAnimationTime:"2500ms",preloaderAnimation:"preloaderOpacityShimmer 2500ms forwards linear infinite"}},708:function(e,t){e.exports={transitionTime:"200ms",preloaderAnimationTime:"2500ms",preloaderAnimation:"preloaderOpacityShimmer 2500ms forwards linear infinite"}},710:function(e,t){e.exports={transitionTime:"200ms",preloaderAnimationTime:"2500ms",preloaderAnimation:"preloaderOpacityShimmer 2500ms forwards linear infinite"}},712:function(e,t){e.exports={transitionTime:"200ms",preloaderAnimationTime:"2500ms",preloaderAnimation:"preloaderOpacityShimmer 2500ms forwards linear infinite"}},714:function(e,t){e.exports={transitionTime:"200ms",preloaderAnimationTime:"2500ms",preloaderAnimation:"preloaderOpacityShimmer 2500ms forwards linear infinite"}},716:function(e,t){e.exports={transitionTime:"200ms",preloaderAnimationTime:"2500ms",preloaderAnimation:"preloaderOpacityShimmer 2500ms forwards linear infinite"}},718:function(e,t){e.exports={transitionTime:"200ms",preloaderAnimationTime:"2500ms",preloaderAnimation:"preloaderOpacityShimmer 2500ms forwards linear infinite"}},720:function(e,t){e.exports={transitionTime:"200ms",preloaderAnimationTime:"2500ms",preloaderAnimation:"preloaderOpacityShimmer 2500ms forwards linear infinite"}},722:function(e,t){e.exports={transitionTime:"200ms",preloaderAnimationTime:"2500ms",preloaderAnimation:"preloaderOpacityShimmer 2500ms forwards linear infinite"}},724:function(e,t){e.exports={transitionTime:"200ms",preloaderAnimationTime:"2500ms",preloaderAnimation:"preloaderOpacityShimmer 2500ms forwards linear infinite"}}});
//# sourceMappingURL=main.js.map